(this["webpackJsonpuniq-ex"]=this["webpackJsonpuniq-ex"]||[]).push([[0],{367:function(e,t,n){},370:function(e,t,n){},452:function(e,t){},453:function(e,t){},472:function(e,t){},474:function(e,t){},484:function(e,t){},486:function(e,t){},527:function(e,t){},529:function(e,t){},536:function(e,t){},537:function(e,t){},567:function(e,t){},590:function(e,t){},593:function(e,t,n){var a={"./aes":271,"./aes.js":271,"./big":272,"./big.js":272,"./ctx":172,"./ctx.js":172,"./ecdh":273,"./ecdh.js":273,"./ecp":274,"./ecp.js":274,"./ecp2":275,"./ecp2.js":275,"./ff":276,"./ff.js":276,"./fp":277,"./fp.js":277,"./fp12":278,"./fp12.js":278,"./fp2":279,"./fp2.js":279,"./fp4":280,"./fp4.js":280,"./gcm":281,"./gcm.js":281,"./hash256":282,"./hash256.js":282,"./hash384":283,"./hash384.js":283,"./hash512":284,"./hash512.js":284,"./mpin":285,"./mpin.js":285,"./newhope":286,"./newhope.js":286,"./nhs":287,"./nhs.js":287,"./pair":288,"./pair.js":288,"./rand":289,"./rand.js":289,"./rom_curve":290,"./rom_curve.js":290,"./rom_field":291,"./rom_field.js":291,"./rsa":292,"./rsa.js":292,"./sha3":293,"./sha3.js":293,"./uint64":294,"./uint64.js":294};function s(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=c,e.exports=s,s.id=593},621:function(e,t,n){},622:function(e,t,n){},639:function(e,t,n){},640:function(e,t,n){},641:function(e,t,n){},643:function(e,t,n){},644:function(e,t,n){},645:function(e,t,n){},646:function(e,t,n){},647:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){},650:function(e,t,n){},651:function(e,t,n){},654:function(e,t,n){},655:function(e,t,n){},656:function(e,t,n){},657:function(e,t,n){"use strict";n.r(t);var a=n(10),s=n(0),c=n(1),i=n(24),r=n.n(i),o=n(7),l=n.n(o),d=n(15),u=n(11),j=n(38),p=n(30),b=n(33),m=n(12),h=n(3),v=function(e){var t=e.value,n=void 0===t?"":t,a=e.cls,i=void 0===a?"":a,r=(e.round,e.disabled),o=e.decimals,l=e.inline,d=void 0===l||l,u=e.onChange,j=Object(c.useState)(""),p=Object(h.a)(j,2),b=p[0],m=p[1];Object(c.useEffect)((function(){m(n)}),[n]);var v=o>0?"0.0":"0",f=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;return""===e||"0"===e||(t>0?new RegExp("^(([0-9]{0,20})|(([0]\\.\\d{0,".concat(t,"}|[0-9]{0,20}\\.\\d{0,").concat(t,"})))$")):new RegExp("^[0-9]{0,20}$")).test(e)?e:b}(e.target.value,o);m(t),"function"===typeof u&&u(t)};return Object(s.jsx)("input",{className:"input ".concat(d?"inline-input":""," ").concat(i),type:"text",placeholder:v,value:b,disabled:r,onInput:function(e){return f(e)}})},f="TEST",O="4bedf72d787de53ab91ead1db1ef709f7472ec24",x="https://explorer.ont.io/transaction/",k="/testnet",w=["/","/swap","/trade","/governance","/synth","/option"];function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=parseFloat(0===t?Math.round(e).toFixed(t):parseFloat(e).toFixed(t)).toString();return n&&(-1!==n.indexOf(".")?n.replace(/(\d)(?=(\d{3})+\.)/g,(function(e,t){return"".concat(t,",")})):n.replace(/(?=(\B\d{3})+$)/g,","))}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e.substr(0,4),"...").concat(e.substr(-4))},y=(n(367),function(e){var t=Object(c.useState)(""),n=Object(h.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)(!1),o=Object(h.a)(r,2),l=o[0],d=o[1],u=Object(m.c)((function(e){return{account:e.wallet.account,slippage:e.wallet.slippage}})),b=u.account,f=u.slippage,O=Object(c.useState)(!1),x=Object(h.a)(O,2),k=x[0],g=x[1],y=Object(m.b)(),S=Object(c.useCallback)((function(e){return y({type:"SET_SLIPPAGE",slippage:e})}),[]),C=Object(p.g)().pathname;Object(c.useEffect)((function(){var e="";"/"===C||C.indexOf("/staking")>=0?e="/":C.indexOf("/synth")>=0?e="/synth":C.indexOf("/swap")>=0||C.indexOf("/pool")>=0?e="/swap":C.indexOf("/trade")>=0?e="/trade":C.indexOf("/governance")>=0?e="/governance":C.indexOf("/token")>=0?e="/token":C.indexOf("/option")>=0&&(e="/option"),i(e)}),[C]);return Object(s.jsxs)("div",{className:"header-wrapper",children:[function(){if(k){var e="".concat(window.location.origin).concat(window.location.pathname,"#/trade?pair=pDAI%2FUNX");return Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper",children:[Object(s.jsx)("div",{className:"close-btn",onClick:function(){g(!1)}}),Object(s.jsx)("p",{className:"intro-line",children:"uniq-ex is a pure github based DAO dex, all activities are logged on github."}),Object(s.jsxs)("p",{className:"intro-line",children:["You can open issues for discussion ",Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/uniq-ex/uniq-ex/issues",children:"here"})]}),Object(s.jsx)("p",{className:"intro-line",children:"uniq-ex's future business will not be limited to exchanges though, we may enter various DeFi markets like compound or hegic."}),Object(s.jsxs)("p",{className:"intro-line",children:["You can buy UNX(the governance token of uniq-ex) ",Object(s.jsx)("a",{target:"_blank",rel:"noreferrer",href:e,children:"here"})]})]})})}return null}(),Object(s.jsx)("div",{className:"header",children:Object(s.jsxs)("div",{className:"content-wrapper",children:[Object(s.jsx)("div",{className:"logo-wrapper",children:"UNIQ-EX"}),Object(s.jsxs)("div",{className:"nav-list",children:[w.indexOf("/")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/",children:"Staking"})}):null,w.indexOf("/synth")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/synth"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/synth",children:"Synth"})}):null,w.indexOf("/swap")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/swap"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/swap",children:"Swap"})}):null,w.indexOf("/governance")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/governance"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/governance",children:"Governance"})}):null,w.indexOf("/trade")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/trade"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/trade",children:"Trade"})}):null,w.indexOf("/token")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/token"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/token",children:"Token"})}):null,w.indexOf("/option")>=0?Object(s.jsx)("div",{className:"nav-item ".concat("/option"===a?"selected":""),children:Object(s.jsx)(j.b,{to:"/option",children:"Option"})}):null]}),Object(s.jsxs)("div",{className:"".concat(b?"active":""," profile-wrapper"),children:[!b&&Object(s.jsx)("span",{className:"connect-btn",onClick:function(){"function"===typeof e.onConnectWallet&&e.onConnectWallet()},children:"Connect Wallet"}),b&&Object(s.jsx)("span",{className:"account-address",onClick:function(){d(!l)},children:N(b)}),l?Object(s.jsxs)("div",{className:"profile-panel",children:[Object(s.jsxs)("div",{className:"setting-wrapper",children:[Object(s.jsx)("div",{className:"setting-section-title",children:"SLIPPAGE"}),Object(s.jsxs)("div",{className:"slippage-setting",children:[Object(s.jsx)("div",{className:"slippage-item ".concat(.1===Number(f)?"selected":""),onClick:function(){return S("0.1")},children:"0.1%"}),Object(s.jsx)("div",{className:"slippage-item ".concat(.5===Number(f)?"selected":""),onClick:function(){return S("0.5")},children:"0.5%"}),Object(s.jsx)("div",{className:"slippage-item ".concat(1===Number(f)?"selected":""),onClick:function(){return S("1.0")},children:"1.0%"}),Object(s.jsxs)("div",{className:"slippage-input-wrapper",children:[Object(s.jsx)(v,{value:f,cls:"slippage-input",decimals:"2",placeholder:f,onChange:function(e){return S(e)}}),"%"]})]})]}),Object(s.jsx)("div",{className:"signout-btn",onClick:function(){return d(!1),void("function"===typeof e.onSignOut&&e.onSignOut())},children:"Sign Out"})]}):null]})]})})]})}),S=(n(370),function(e){return Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper",children:[Object(s.jsx)("div",{className:"close-btn",onClick:function(){return e.onCloseModal()}}),Object(s.jsx)("div",{className:"modal-icon-".concat(e.type," modal-icon")}),Object(s.jsx)("div",{className:"modal-text-".concat(e.type," modal-text"),children:e.text}),e.detail?Object(s.jsx)("div",{className:"modal-detail",children:e.detail}):null,Object(s.jsx)("div",{className:"modal-extra-text",children:e.extraLink?Object(s.jsx)("a",{className:"transaction-link",target:"_blank",rel:"noreferrer",href:e.extraLink,children:e.extraText}):e.extraText})]})})}),C=function(e){var t=Object(m.c)((function(e){return{infoModal:e.modal.infoModal}})).infoModal,n=Object(m.b)(),i=Object(c.useCallback)((function(e,t){return n({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]);return Object(s.jsx)("div",{className:"modal-container",children:function(){var e=[];return t.show&&e.push(Object(s.jsx)(S,Object(a.a)(Object(a.a)({},t),{},{onCloseModal:function(){i("infoModal",Object.assign({},t,{show:!1}))}}))),e}()})},T=n(26),A=n(2),L=n.n(A),I=n(119),E=n.n(I),P=E.a.create({baseURL:"https://polarisexplorer.ont.io",timeout:3e4,headers:{"Content-Type":"application/json"}});P.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var M=P,_=T.utils.reverseHex,F=function(e){for(var t=_(e.read(16)).split("").reverse(),n=new L.a(0),a=0;a<t.length;a++)n=n.plus(new L.a(16).pow(a).times(parseInt(t[a],16)));return n.isZero()?0:n.toString()},D=function(e,t,n){if("ONT"!==t.name&&"ONG"!==t.name){var a={scriptHash:t.address,operation:"balanceOf",args:[{type:"Address",value:e}]},s=u.client.api.smartContract.invokeRead;2!==t.ty&&3!==t.ty||(s=u.client.api.smartContract.invokeWasmRead),s(a).then((function(e){if(e){for(var a=_(e).split("").reverse(),s=new L.a(0),c=0;c<a.length;c++)s=s.plus(new L.a(Math.pow(16,c)).times(parseInt(a[c],16)));n(s.div(Math.pow(10,t.decimals)).toString())}}))}else M({method:"get",url:"/v2/addresses/".concat(e,"/native/balances")}).then((function(e){if(0===e.code){var a=e.result.find((function(e){return e.asset_name===t.name.toLowerCase()}));n(a.balance)}})).catch((function(e){console.log(e)}))},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.id?Object(s.jsx)("div",{className:"token-icon-wrapper ".concat(t),children:3===e.ty?e.name.split("-").slice(1).map((function(t){return Object(s.jsx)("div",{className:"token-icon-item with-drop-shadow icon-".concat(t)},"".concat(e.name,"-").concat(t))})):Object(s.jsx)("div",{className:"token-icon-item icon-".concat(e.name)})}):null},R=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};try{var n=JSON.parse(e);"wasm contract does not exist"===n.Result&&t("CONTRACT_ADDRESS_ERROR")}catch(a){}},W=(Math.pow(10,6),Math.pow(10,12)),B="01",V="02",q="00",X="01",H=(n(621),T.utils.StringReader,n(313)),z=n(14),G=n(312),K=(n(622),function(e){var t=e.cls,n=e.value,i=e.round,r=e.tokens,o=void 0===r?[]:r,l=e.defaultToken,d=e.inputDisabled,u=void 0!==d&&d,j=e.showBalance,p=void 0===j||j,b=e.withMax,f=void 0===b||b,O=e.onTokenChange,x=e.onAmountChange,k=e.balanceChange,w=void 0===k?0:k,g=Object(c.useState)(l||{}),N=Object(h.a)(g,2),y=N[0],S=N[1],C=Object(c.useState)("-"),T=Object(h.a)(C,2),A=T[0],L=T[1],I=Object(m.c)((function(e){return{account:e.wallet.account}})).account;Object(c.useEffect)((function(){I&&p&&y.id&&D(I,y,L)}),[y,p,I,w]);return Object(s.jsxs)("div",{className:"token-input-wrapper",children:[Object(s.jsxs)("div",{className:"input-label",children:[e.label||"Input",p?Object(s.jsxs)("span",{className:"hint",children:["Balance: ",A]}):null]}),Object(s.jsxs)("div",{className:"input-wrapper",children:[function(e){if(o.length){var n=e||o[0];return y.id&&o.find((function(e){return e.id===y.id}))||S(n),Object(s.jsx)(G.a,{className:"token-select ".concat(t),defaultValue:n,options:o,isSearchable:!1,components:{Option:function(e){var t=e.label.split(" ")[0];return Object(s.jsx)(z.f.Option,Object(a.a)(Object(a.a)({},e),{},{children:Object(s.jsxs)("div",{className:"option-wrapper",children:[Object(s.jsx)("div",{className:"icon-".concat(t," option-icon")}),Object(s.jsx)("div",{className:"option-label",children:e.label})]})}))},SingleValue:function(e){var t=e.children,n=Object(H.a)(e,["children"]),c=t.split(" ")[0];return Object(s.jsx)(z.f.SingleValue,Object(a.a)(Object(a.a)({},n),{},{children:Object(s.jsxs)("div",{className:"option-wrapper",children:[Object(s.jsx)("div",{className:"icon-".concat(c," option-icon")}),Object(s.jsx)("div",{className:"option-label",children:t})]})}))}},onChange:function(e){return function(e){if(e.value!==y.id){var t=o.find((function(t){return t.id===e.value}));S(t),"function"===typeof O&&O(t)}}(e)},theme:function(e){return Object(a.a)(Object(a.a)({},e),{},{borderRadius:0,colors:Object(a.a)(Object(a.a)({},e.colors),{},{primary:"#2c2c2c"})})}})}}(l),Object(s.jsx)(v,{decimals:y.decimals,disabled:u,value:n,round:i,onChange:function(e){return x(e)}}),f&&Object(s.jsx)("div",{className:"input-max-btn",onClick:function(){isNaN(A)||"function"!==typeof x||x(A)},children:"MAX"})]})]})}),Y=T.utils.StringReader,$=T.utils.reverseHex,J=function(){var e=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,swapTokens:e.swap.tokens,SWAP_ADDRESS:e.gov.poolStat.pools.swap.address}})),t=e.account,n=e.tokens,a=e.swapTokens,s=e.SWAP_ADDRESS,i=Object(m.b)(),r=Object(c.useCallback)((function(e){return i({type:"SET_SWAP_TOKENS",tokens:e})}),[]),o=Object(c.useCallback)((function(e){return i({type:"SET_PAIRS",pairs:e})}),[]);function j(){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(l.a.mark((function e(){var t,c,i,d,j,p,b,m,h;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=19;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:s,operation:"stat",args:[]});case 4:for(t=e.sent,c=[],i=new Y(t),d=i.readNextLen(),j=0;j<d;j++)(p={}).address=$(i.read(20)),p.token1=i.readUint128(),p.token2=i.readUint128(),p.id=i.readUint128(),p.reserve1=F(i),p.reserve2=F(i),p.lp=F(i),c.push(p);for(b=[],m=i.readNextLen(),h=0;h<m;h++)b.push(i.readUint128());o(c),n.length&&!a.length&&r(b.map((function(e){return n.find((function(t){return t.id===e}))}))),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){j();var e=setInterval(j,3e3);return function(){e&&clearInterval(e)}}),[t,n,a,s]),null},Q=n(76),Z=.997,ee=function(e,t,n){var a=[];return function t(n,s){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if((c=Object(Q.a)(c)).push(n),n!==s){var i=[];e.map((function(e){e.token1===n?i.push(e.token2):e.token2===n&&i.push(e.token1)}));for(var r=0,o=i;r<o.length;r++){var l=o[r];c.includes(l)||t(l,s,c)}}else a.push(c)}(t,n),a.sort((function(e,t){return e.length-t.length})),a},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?new L.a(t.reserve1).times(t.reserve2).div(new L.a(t.reserve1).minus(e)).minus(t.reserve2).div(Z).integerValue(L.a.ROUND_CEIL).toString():new L.a(t.reserve1).times(t.reserve2).div(new L.a(t.reserve2).minus(e)).minus(t.reserve1).div(Z).integerValue(L.a.ROUND_CEIL).toString()},ne=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?new L.a(t.reserve1).minus(new L.a(t.reserve1).times(t.reserve2).div(new L.a(e).times(Z).plus(t.reserve2))).integerValue(L.a.ROUND_FLOOR).toString():new L.a(t.reserve2).minus(new L.a(t.reserve1).times(t.reserve2).div(new L.a(e).times(Z).plus(t.reserve1))).integerValue(L.a.ROUND_FLOOR).toString()},ae=function(e,t,n,a){var s=t.find((function(e){return e.token1===n&&e.token2===a}));return s?ne(e,s):(s=t.find((function(e){return e.token1===a&&e.token2===n})))?ne(e,s,!0):void 0},se=function(e,t,n,a){var s=t.find((function(e){return e.token1===n&&e.token2===a}));return s?te(e,s):(s=t.find((function(e){return e.token1===a&&e.token2===n})))?te(e,s,!0):void 0},ce=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"exactin",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,c=ee(n,a,s),i=t,r=0,o=1/0,l=[],d=0;d<c.length;d++)if(t=i,"exactin"===e){for(var u=0;u<c[d].length-1;u++)t=ae(t,n,c[d][u],c[d][u+1]);new L.a(t).gt(new L.a(r))&&(r=t,l=c[d])}else{for(var j=c[d].length-1;j>0;j--)t=se(t,n,c[d][j-1],c[d][j]);new L.a(t).lt(new L.a(o))&&t>0&&(o=t,l=c[d])}return"exactin"===e?[r,l]:"exactout"===e?[o,l]:void 0},ie=(n(639),function(){var e=Object(c.useState)("exactin"),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),r=Object(h.a)(i,2),o=r[0],j=r[1],v=Object(c.useState)({}),f=Object(h.a)(v,2),O=f[0],w=f[1],N=Object(c.useState)(""),y=Object(h.a)(N,2),S=y[0],C=y[1],T=Object(c.useState)(""),A=Object(h.a)(T,2),I=A[0],E=A[1],P=Object(c.useState)(!1),M=Object(h.a)(P,2),_=M[0],F=M[1],D=Object(c.useState)(!1),U=Object(h.a)(D,2),R=U[0],W=U[1],B=Object(c.useState)([]),V=Object(h.a)(B,2),q=V[0],X=V[1],H=Object(c.useState)(!1),z=Object(h.a)(H,2),G=z[0],Y=z[1],$=Object(c.useState)(0),Q=Object(h.a)($,2),Z=Q[0],ee=Q[1],te=Object(m.c)((function(e){return{account:e.wallet.account,slippage:e.wallet.slippage,pairs:e.swap.pairs,swapTokens:e.swap.tokens,SWAP_ADDRESS:e.gov.poolStat.pools.swap.address}})),ne=te.account,ae=te.slippage,se=te.pairs,ie=te.swapTokens,re=te.SWAP_ADDRESS,oe=Object(m.b)(),le=Object(c.useCallback)((function(e,t){return oe({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),de=Object(b.c)(),ue=Object(p.f)();function je(){return(je=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ne){e.next=3;break}return de.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(S<=0||I<=0)){e.next=6;break}return de.error("Amount should be greater than 0"),e.abrupt("return");case 6:if(!o.id||o.id!==O.id){e.next=9;break}return de.error("Input should be different"),e.abrupt("return");case 9:if(!re){e.next=21;break}return e.prev=10,t=[{type:"Address",value:ne},{type:"Long",value:new L.a(S).times(new L.a(Math.pow(10,o.decimals))).integerValue(L.a.ROUND_DOWN).toString()},{type:"Long",value:new L.a(I).times(new L.a(Math.pow(10,O.decimals))).integerValue(L.a.ROUND_DOWN).toString()},{type:"Array",value:q.map((function(e){return{type:"Long",value:e}}))},{type:"Address",value:ne}],e.next=14,u.client.api.smartContract.invokeWasm({scriptHash:re,operation:"exactin"===n?"swap_exact_tokens_for_tokens":"swap_tokens_for_exact_tokens",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 14:(a=e.sent).transaction&&(ee(Z+1),C(""),E(""),le("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"".concat(x).concat(a.transaction).concat(k)})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),le("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"",extraLink:""});case 21:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}return J(),Object(c.useEffect)((function(){o.id!==O.id&&S>0&&I>0&&q.length?(Y(!0),W(!0)):(Y(!1),W(!1))}),[o,O,S,I,q]),Object(c.useEffect)((function(){ie.length&&(j(ie.find((function(e){return"pDAI"===e.name}))),w(ie.find((function(e){return"UNX"===e.name}))))}),[ie]),Object(c.useEffect)((function(){o.id&&O.id&&function(e,t){if(se.length&&e&&t&&se.find((function(n){return n.token1===e&&n.token2===t||n.token1===t&&n.token2===e})))return!0;return!1}(o.id,O.id)?F(!0):F(!1)}),[o,O]),Object(s.jsx)("div",{className:"sw-wrapper",children:Object(s.jsxs)("div",{className:"sw-container",children:[Object(s.jsxs)("div",{className:"sw-tabs",children:[Object(s.jsx)("div",{className:"sw-tab active",children:"Swap"}),Object(s.jsx)("div",{className:"sw-tab",onClick:function(){ue.push("/pool")},children:"Pool"})]}),Object(s.jsxs)("div",{className:"sw-content",children:[Object(s.jsx)(K,{balanceChange:Z,label:"From",tokens:ie,value:S,round:"up",defaultToken:ie.length&&ie.find((function(e){return"pDAI"===e.name})),onTokenChange:function(e){return function(e){e.id!==o.id&&(j(e),C(""),E(""))}(e)},onAmountChange:function(e){return function(e){if(e!==S)if(a("exactin"),C(e),se.length&&e){var t=new L.a(e).times(Math.pow(10,o.decimals)).toString(),n=ce("exactin",t,se,o.id,O.id),s=Object(h.a)(n,2),c=s[0],i=s[1];E(new L.a(c).div(Math.pow(10,O.decimals)).toString()),X(i)}else 0===Number(e)&&E("")}(e)}}),Object(s.jsx)("div",{className:"icon-arrow-down"}),Object(s.jsx)(K,{balanceChange:Z,label:"To",tokens:ie,value:I,round:"down",defaultToken:ie.length&&ie.find((function(e){return"UNX"===e.name})),onTokenChange:function(e){return function(e){e.id!==O.id&&(w(e),C(""),E(""))}(e)},onAmountChange:function(e){return function(e){if(e!==I)if(a("exactout"),E(e),se.length&&e){var t=e*Math.pow(10,O.decimals),n=ce("exactout",t,se,o.id,O.id),s=Object(h.a)(n,2),c=s[0],i=s[1];C(c===1/0?"":new L.a(c).div(Math.pow(10,o.decimals)).toString()),X(i)}else 0===Number(e)&&C("")}(e)}}),G?Object(s.jsxs)("div",{className:"sw-price-wrapper",children:["Price",Object(s.jsx)("span",{className:"sw-price-info",children:"".concat(g(I/S,6)," ").concat(O.name," per ").concat(o.name)})]}):null,_?null:Object(s.jsx)("div",{className:"add-liquidity-hint",children:"Add liquidity to enable swaps for this pair."}),_?R?Object(s.jsx)("div",{className:"sw-swap-btn",onClick:function(){return function(){return je.apply(this,arguments)}()},children:"Swap"}):Object(s.jsx)("div",{className:"sw-swap-btn disabled",children:"Swap"}):Object(s.jsx)("div",{className:"sw-swap-btn disabled",children:"Invalid Liquidity"})]}),_&&R?Object(s.jsxs)("div",{className:"sw-hint-wrapper",children:[Object(s.jsx)("div",{className:"sw-input-output",children:"exactin"===n?Object(s.jsxs)("p",{children:["Minimum Received:",Object(s.jsxs)("span",{children:[g(I*(1-ae/100),6)," ",O.name]})]}):Object(s.jsxs)("p",{children:["Maximum Sold:",Object(s.jsxs)("span",{children:[g(S*(1+ae/100),6)," ",o.name]})]})}),Object(s.jsx)("div",{className:"sw-price-impact",children:function(){var e,t=se.find((function(e){return e.token1===o.id&&e.token2===O.id}));return t?e=new L.a(t.reserve2).div(Math.pow(10,O.decimals)).div(t.reserve1).times(Math.pow(10,o.decimals)).toString():(t=se.find((function(e){return e.token1===O.id&&e.token2===o.id})))&&(e=new L.a(t.reserve1).div(Math.pow(10,o.decimals)).div(t.reserve2).times(Math.pow(10,O.decimals)).toString()),Object(s.jsxs)("p",{children:["Price Impact:",Object(s.jsxs)("span",{children:[Math.abs((I/S-e)/e*100).toFixed(2),"%"]})]})}()}),Object(s.jsxs)("div",{className:"sw-best-path",children:[Object(s.jsx)("p",{children:"Route:"}),Object(s.jsx)("div",{className:"sw-best-path-list",children:function(){if(q.length){var e=[];return q.map((function(t,n){var a=ie.find((function(e){return e.id===t}));return n>0&&e.push(Object(s.jsx)("div",{className:"icon-arrow-right"})),e.push(Object(s.jsx)("div",{className:"path-icon icon-".concat(a.name),children:a.name})),t})),e}}()})]})]}):null]})})}),re=n(86),oe=(n(640),T.utils.StringReader),le=function(){var e=Object(c.useState)([]),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,pairs:e.swap.pairs,SWAP_ADDRESS:e.gov.poolStat.pools.swap.address}})),r=i.account,o=i.tokens,l=i.pairs,d=i.SWAP_ADDRESS,j=Object(p.f)();return J(),Object(c.useEffect)((function(){if(r&&l.length&&d){Promise.all(l.map((function(e){return t=e.id,u.client.api.smartContract.invokeWasmRead({scriptHash:d,operation:"balanceOf",args:[{type:"Long",value:t},{type:"Address",value:r}]}).then((function(e){var n=new oe(e),a=F(n);return Object(re.a)({},t,a)}));var t}))).then((function(e){a(e)}))}}),[r,l,d]),Object(s.jsx)("div",{className:"pool-wrapper",children:Object(s.jsxs)("div",{className:"pool-container",children:[Object(s.jsxs)("div",{className:"sw-tabs",children:[Object(s.jsx)("div",{className:"sw-tab",onClick:function(){j.push("/swap")},children:"Swap"}),Object(s.jsx)("div",{className:"sw-tab active",children:"Pool"})]}),Object(s.jsxs)("div",{className:"pool-content",children:[Object(s.jsx)("div",{className:"pool-add-liquidity-btn",onClick:function(){j.push("/pool/add")},children:"Add Liquidity"}),Object(s.jsxs)("div",{className:"pool-liquidity-list",children:[Object(s.jsx)("div",{className:"my-liquidity",children:"Your Liquidity"}),function(){var e=n.filter((function(e){return e[Object.keys(e)[0]]}));return e.length&&l.length&&o.length?e.map((function(e){var t=Object.keys(e)[0],n=l.find((function(e){return"".concat(e.id)===t})),a=o.find((function(e){return e.id===n.token1})),c=o.find((function(e){return e.id===n.token2})),i=new L.a(e[t]),r=i.div(n.lp),d=r.times(n.reserve1).div(Math.pow(10,a.decimals)).toFixed(a.decimals),u=r.times(n.reserve2).div(Math.pow(10,c.decimals)).toFixed(c.decimals);return Object(s.jsxs)("div",{className:"pool-liquidity-item",children:[Object(s.jsxs)("div",{className:"liquidity-item-detail",children:[Object(s.jsx)("div",{className:"token-icon icon-".concat(a.name)}),Object(s.jsx)("div",{className:"token-icon icon-".concat(c.name)}),Object(s.jsx)("div",{className:"token-pair",children:Object(s.jsxs)("strong",{children:[a.name,"/",c.name]})}),Object(s.jsxs)("div",{className:"pair-position",children:[Object(s.jsx)("strong",{children:"Pooled"}),": ",d," / ",u]}),Object(s.jsxs)("div",{className:"pool-tokens",children:[Object(s.jsx)("strong",{children:"Pool Tokens"}),": ",i.div(Math.pow(10,18)).toString()]})]}),Object(s.jsx)("div",{className:"remove-liquidity-btn",onClick:function(){return function(e){j.push("/pool/remove/".concat(e))}(t)},children:"Remove"})]})})):Object(s.jsx)("div",{className:"pool-empty-lp",children:"No Liquidities"})}()]})]})]})})},de=(n(641),function(){var e=Object(c.useState)({}),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),r=Object(h.a)(i,2),o=r[0],j=r[1],v=Object(c.useState)(""),f=Object(h.a)(v,2),O=f[0],w=f[1],g=Object(c.useState)(""),N=Object(h.a)(g,2),y=N[0],S=N[1],C=Object(c.useState)(!0),T=Object(h.a)(C,2),A=T[0],I=T[1],E=Object(c.useState)(!1),P=Object(h.a)(E,2),M=P[0],_=P[1],F=Object(c.useState)(!1),D=Object(h.a)(F,2),U=D[0],R=D[1],W=Object(c.useState)(0),B=Object(h.a)(W,2),V=B[0],q=B[1],X=Object(m.c)((function(e){return{account:e.wallet.account,slippage:e.wallet.slippage,pairs:e.swap.pairs,swapTokens:e.swap.tokens,SWAP_ADDRESS:e.gov.poolStat.pools.swap.address}})),H=X.account,z=X.slippage,G=X.pairs,Y=X.swapTokens,$=X.SWAP_ADDRESS,Q=Object(m.b)(),Z=Object(c.useCallback)((function(e,t){return Q({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),ee=Object(b.c)(),te=Object(p.f)();function ne(){return G.find((function(e){return e.token1===n.id&&e.token2===o.id||e.token1===o.id&&e.token2===n.id}))}function ae(){if(n.id&&o.id&&G.length){if(M&&O&&y)return y/O;var e=G.find((function(e){return e.token1===n.id&&e.token2===o.id}));if(e)return e.reserve1?new L.a(e.reserve2).div(Math.pow(10,o.decimals)).div(e.reserve1).times(Math.pow(10,n.decimals)):0;if(e=G.find((function(e){return e.token1===o.id&&e.token2===n.id})))return e.reserve2?new L.a(e.reserve1).div(Math.pow(10,n.decimals)).div(e.reserve2).times(Math.pow(10,o.decimals)):0}return 0}function se(){te.goBack()}function ce(){return(ce=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(H){e.next=3;break}return ee.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(O<=0||y<=0)){e.next=6;break}return ee.error("Amount should be greater than 0"),e.abrupt("return");case 6:if(!n.id||n.id!==o.id){e.next=9;break}return ee.error("Input should be different"),e.abrupt("return");case 9:if(!$){e.next=21;break}return e.prev=10,t=[{type:"Address",value:H},{type:"Long",value:n.id},{type:"Long",value:o.id},{type:"Long",value:new L.a(O).times(new L.a(Math.pow(10,n.decimals))).integerValue(L.a.ROUND_UP).toString()},{type:"Long",value:new L.a(y).times(new L.a(Math.pow(10,o.decimals))).integerValue(L.a.ROUND_UP).toString()},{type:"Long",value:new L.a(O).times(new L.a(Math.pow(10,n.decimals))).times(1-z/100).integerValue(L.a.ROUND_UP).toString()},{type:"Long",value:new L.a(y).times(new L.a(Math.pow(10,o.decimals))).times(1-z/100).integerValue(L.a.ROUND_UP).toString()},{type:"Address",value:H}],e.next=14,u.client.api.smartContract.invokeWasm({scriptHash:$,operation:"add_liquidity",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 14:(a=e.sent).transaction&&(q(V+1),w(""),S(""),se(),Z("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"".concat(x).concat(a.transaction).concat(k)})),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),Z("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"",extraLink:""});case 21:case"end":return e.stop()}}),e,null,[[10,18]])})))).apply(this,arguments)}return J(),Object(c.useEffect)((function(){n.id&&o.id&&n.id!==o.id?I(!0):I(!1)}),[n,o]),Object(c.useEffect)((function(){var e=ne();n.id&&o.id&&n.id!=o.id&&(!G.length||!e||0===e.reserve1&&0===e.reserve2)?_(!0):_(!1)}),[G,n,o]),Object(c.useEffect)((function(){n.id&&o.id?R(!0):R(!1)}),[G,n,o,O,y]),Object(c.useEffect)((function(){Y.length&&(a(Y.find((function(e){return"pDAI"===e.name}))),j(Y.find((function(e){return"UNX"===e.name}))))}),[H,Y]),Object(s.jsxs)("div",{className:"add-liquidity-wrapper",children:[Object(s.jsxs)("div",{className:"al-header",children:["Add Liquidity",Object(s.jsx)("div",{className:"back-icon",onClick:function(){return se()}})]}),Object(s.jsxs)("div",{className:"al-wrapper",children:[A&&M?Object(s.jsx)("div",{className:"first-provider-hint",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("strong",{children:"You are the first liquidity provider."}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),"The ratio of tokens you add will set the price of this pool."]})}):null,Object(s.jsx)(K,{balanceChange:V,tokens:Y,value:O,defaultToken:Y.length&&Y.find((function(e){return"pDAI"===e.name})),onTokenChange:function(e){return function(e){e.id!==n.id&&(a(e),w(""),S(""))}(e)},onAmountChange:function(e){return function(e){w(e),M||(e?S(new L.a(e).times(ae()).times(Math.pow(10,o.decimals)).integerValue(L.a.ROUND_CEIL).div(Math.pow(10,o.decimals)).toString()):0===Number(e)&&S(""))}(e)}}),Object(s.jsx)("div",{className:"icon-plus"}),Object(s.jsx)(K,{balanceChange:V,tokens:Y,value:y,defaultToken:Y.length&&Y.find((function(e){return"UNX"===e.name})),onTokenChange:function(e){return function(e){e.id!==o.id&&(j(e),w(""),S(""))}(e)},onAmountChange:function(e){return function(e){S(e),M||(e?w(new L.a(e).div(ae()).times(Math.pow(10,n.decimals)).integerValue(L.a.ROUND_CEIL).div(Math.pow(10,n.decimals)).toString()):0===Number(e)&&w(""))}(e)}}),A&&U?Object(s.jsxs)("div",{className:"al-price-wrapper",children:[Object(s.jsxs)("div",{className:"al-price-item",children:[Object(s.jsx)("div",{className:"price-item-detail",children:ae().toFixed(4)}),Object(s.jsxs)("div",{className:"price-item-label",children:[o.name," per ",n.name]})]}),Object(s.jsxs)("div",{className:"al-price-item",children:[Object(s.jsx)("div",{className:"price-item-detail",children:(ae()?1/ae():0).toFixed(4)}),Object(s.jsxs)("div",{className:"price-item-label",children:[n.name," per ",o.name]})]}),Object(s.jsxs)("div",{className:"al-price-item",children:[Object(s.jsx)("div",{className:"price-item-detail",children:function(){if(M)return"100%";var e=ne(),t=new L.a(O||0).times(Math.pow(10,n.decimals)).times(y||0).times(Math.pow(10,o.decimals));return e?"".concat(t.times(100).div(new L.a(e.reserve1).times(e.reserve2).plus(t)).toFixed(2),"%"):"0%"}()}),Object(s.jsx)("div",{className:"price-item-label",children:"Share of Pool"})]})]}):null,Object(s.jsx)("div",{className:"al-add-btn",onClick:function(){return function(){return ce.apply(this,arguments)}()},children:"Add"})]})]})}),ue=n(311),je=(n(642),n(643),T.utils.StringReader),pe=(T.utils.reverseHex,function(){var e=Object(c.useState)(0),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),r=Object(h.a)(i,2),o=r[0],j=r[1],v=Object(c.useState)({}),f=Object(h.a)(v,2),O=f[0],w=f[1],g=Object(c.useState)(0),N=Object(h.a)(g,2),y=N[0],S=N[1],C=Object(c.useState)(0),T=Object(h.a)(C,2),A=T[0],I=T[1],E=Object(c.useState)({}),P=Object(h.a)(E,2),M=P[0],_=P[1],D=Object(c.useState)(0),U=Object(h.a)(D,2),R=U[0],W=U[1],B=Object(c.useState)(!1),V=Object(h.a)(B,2),q=V[0],X=V[1],H=Object(m.c)((function(e){return{account:e.wallet.account,slippage:e.wallet.slippage,tokens:e.common.tokens,pairs:e.swap.pairs,SWAP_ADDRESS:e.gov.poolStat.pools.swap.address}})),z=H.account,G=H.slippage,K=H.tokens,Y=H.pairs,$=H.SWAP_ADDRESS,Q=Object(m.b)(),Z=Object(c.useCallback)((function(e,t){return Q({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),ee=Object(b.c)(),te=Object(p.f)(),ne=Object(p.g)().pathname.match(/\/([^/]+)$/)[1];function ae(){return new L.a(M.reserve2).div(Math.pow(10,O.decimals)).div(M.reserve1).times(Math.pow(10,o.decimals)).toString()}function se(){te.goBack()}function ce(){return(ce=Object(d.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z){e.next=3;break}return ee.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!$){e.next=15;break}return e.prev=4,t=[{type:"Address",value:z},{type:"Long",value:o.id},{type:"Long",value:O.id},{type:"Long",value:new L.a(n).times(R/100).integerValue(L.a.ROUND_UP).toString()},{type:"Long",value:new L.a(y).times(Math.pow(10,o.decimals)).times(1-G/100).integerValue(L.a.ROUND_UP).toString()},{type:"Long",value:new L.a(A).times(Math.pow(10,O.decimals)).times(1-G/100).integerValue(L.a.ROUND_UP).toString()},{type:"Address",value:z}],e.next=8,u.client.api.smartContract.invokeWasm({scriptHash:$,operation:"remove_liquidity",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 8:(a=e.sent).transaction&&(se(),Z("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"".concat(x).concat(a.transaction).concat(k)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),Z("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"",extraLink:""});case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}return J(),Object(c.useEffect)((function(){z&&Y.length&&ne&&function(e){if($)return u.client.api.smartContract.invokeWasmRead({scriptHash:$,operation:"balanceOf",args:[{type:"Long",value:e},{type:"Address",value:z}]}).then((function(e){var t=new je(e);return F(t)}))}(ne).then((function(e){a(e)}))}),[z,Y,$]),Object(c.useEffect)((function(){if(K.length&&Y.length&&ne){var e=Y.find((function(e){return"".concat(e.id)===ne}));_(e),j(K.find((function(t){return t.id===e.token1}))),w(K.find((function(t){return t.id===e.token2}))),X(!0)}}),[Y,K]),Object(c.useEffect)((function(){if(M&&o.id&&O.id&&ne&&n){var e=new L.a(n).div(M.lp),t=e.times(M.reserve1).div(Math.pow(10,o.decimals)),a=e.times(M.reserve2).div(Math.pow(10,O.decimals));S(new L.a(R).div(100).times(t).toFixed(o.decimals)),I(new L.a(R).div(100).times(a).toFixed(O.decimals))}}),[R,M,o,O]),Object(s.jsxs)("div",{className:"remove-liquidity-wrapper",children:[Object(s.jsxs)("div",{className:"rl-header",children:["Remove Liquidity",Object(s.jsx)("div",{className:"back-icon",onClick:function(){return se()}})]}),Object(s.jsxs)("div",{className:"rl-wrapper",children:[Object(s.jsxs)("div",{className:"rl-amount",children:[Object(s.jsxs)("div",{className:"rl-amount-label",children:["Amount",Object(s.jsxs)("span",{children:[R,"%"]})]}),Object(s.jsx)(ue.a,{value:R,onChange:function(e){return W(e)}}),Object(s.jsxs)("div",{className:"quick-items",children:[Object(s.jsx)("div",{className:"quick-item",onClick:function(){return W(25)},children:"25%"}),Object(s.jsx)("div",{className:"quick-item",onClick:function(){return W(50)},children:"50%"}),Object(s.jsx)("div",{className:"quick-item",onClick:function(){return W(75)},children:"75%"}),Object(s.jsx)("div",{className:"quick-item",onClick:function(){return W(100)},children:"Max"})]})]}),Object(s.jsx)("div",{className:"icon-arrow-down"}),Object(s.jsxs)("div",{className:"rl-receive-wrapper",children:[Object(s.jsxs)("div",{className:"receive-token-item icon-".concat(o.name),children:[o.name,Object(s.jsx)("span",{children:y})]}),Object(s.jsxs)("div",{className:"receive-token-item icon-".concat(O.name),children:[O.name,Object(s.jsx)("span",{children:A})]})]}),q?Object(s.jsxs)("div",{className:"rl-price-wrapper",children:[Object(s.jsx)("div",{className:"price-wrapper-lable",children:"Price"}),Object(s.jsxs)("div",{className:"price",children:["1 ",o.name," = ",ae()," ",O.name]}),Object(s.jsxs)("div",{className:"price-reverse",children:["1 ",O.name," = ",new L.a(1).div(ae()).toString()," ",o.name]})]}):null,R?Object(s.jsx)("div",{className:"rl-remove-btn",onClick:function(){return function(){return ce.apply(this,arguments)}()},children:"Remove"}):Object(s.jsx)("div",{className:"rl-remove-btn disabled",children:"Remove"})]})]})}),be=n(58),me=(n(644),T.utils.StringReader),he=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(!1),o=Object(h.a)(r,2),j=o[0],v=o[1],f=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,stakingTokens:e.staking.tokens,STAKING_ADDRESS:e.gov.poolStat.pools.staking.address}})),O=f.account,x=f.tokens,k=f.stakingTokens,w=f.STAKING_ADDRESS,g=Object(m.b)(),N=Object(c.useCallback)((function(e){return g({type:"SET_STAKING_TOKENS",tokens:e})}),[]),y=Object(p.f)(),S=Object(b.c)();function C(){return T.apply(this,arguments)}function T(){return(T=Object(d.a)(l.a.mark((function e(){var t,n,s,c,i,r,o,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x.length||!w){e.next=18;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:w,operation:"stat",args:[]});case 4:for(t=e.sent,n=[],s=new me(t),c=s.readNextLen(),i=function(e){var t={};t.id=s.readUint128();var a=x.find((function(e){return e.id===t.id}));t.weight=s.readUint128(),t.balance=F(s),n.push(Object.assign(a,t))},r=0;r<c;r++)i();o=n.filter((function(e){return e.balance})).reduce((function(e,t){return e+t.weight}),0),d=n.map((function(e){return Object(a.a)(Object(a.a)({},e),{},{originWeight:e.weight,weight:e.balance?e.weight/o:0})})),N(d),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function A(e){return"".concat(e.name," is the hidden receipt for WING ").concat(e.name.replace("f","")," suppliers")}return Object(c.useEffect)((function(){C();var e=setInterval((function(){return C}),3e3);return function(){e&&clearInterval(e)}}),[x,w]),Object(c.useEffect)((function(){k.filter((function(e){return!e.originWeight})).length?i(!0):i(!1)}),[k]),Object(s.jsx)("div",{className:"stake-container",children:Object(s.jsxs)("div",{className:"stake-pool",children:[k.length?null:Object(s.jsx)("div",{className:"title",children:"Loading..."}),j?Object(s.jsxs)("div",{className:"unstake-pool-title",children:[Object(s.jsx)("div",{className:"back-icon",onClick:function(){return v(!1)}}),"Unstake from Closed Pool"]}):null,Object(s.jsx)("div",{className:"pool-list",children:function(){if(k.length){var e=k.filter((function(e){return!!e.originWeight})),t=k.filter((function(e){return!e.originWeight}));return(j?t:e).map((function(e){return Object(s.jsx)("div",{className:"pool-list-item ".concat(j?"pool-list-item-disabled":""),children:Object(s.jsx)("div",{className:"item-detail",children:Object(s.jsxs)("div",{className:"item-detail-wrapper",children:[3===e.ty&&Object(s.jsx)("div",{className:"corner-badge",children:"10X"}),Object(s.jsxs)("div",{className:"staking-token",children:[3===e.ty?Object(s.jsxs)("div",{className:"staking-text",children:["Deposit",U(e,"stake-lp-token")]}):Object(s.jsx)("div",{className:"staking-text icon-".concat(e.name),children:"Deposit"}),e.name.startsWith("f")?Object(s.jsx)(be.a,{placement:"top",overlay:A(e),children:Object(s.jsx)("div",{className:"staking-token-name",children:e.name})}):Object(s.jsx)("div",{className:"staking-token-name",children:e.name})]}),Object(s.jsxs)("div",{className:"earn-line",children:["Earn",Object(s.jsx)("span",{children:"UNX"})]}),Object(s.jsxs)("div",{className:"total-staking",children:["Total Staking",Object(s.jsx)("span",{children:new L.a(e.balance||0).div(Math.pow(10,e.decimals)).toString()})]}),Object(s.jsx)("div",{className:"select-btn",onClick:function(){return function(e){O?y.push("/staking/".concat(e.id)):S.show("Please Connect Wallet First")}(e)},children:j?"Unstake":"Stake"})]})})},e.name)}))}}()}),n?Object(s.jsx)("div",{className:"closed-pool-entrance",onClick:function(){return v(!0)},children:"Unstake from Closed Pool"}):null]})})},ve=(n(645),T.utils.StringReader),fe=function(e){var t=Object(c.useState)({}),n=Object(h.a)(t,2),a=n[0],i=n[1],r=Object(c.useState)("-"),o=Object(h.a)(r,2),j=o[0],f=o[1],w=Object(c.useState)(1),g=Object(h.a)(w,2),N=g[0],y=g[1],S=Object(c.useState)(""),C=Object(h.a)(S,2),T=C[0],A=C[1],I=Object(c.useState)({}),E=Object(h.a)(I,2),P=E[0],M=E[1],_=Object(c.useState)("stake"),R=Object(h.a)(_,2),W=R[0],B=R[1],V=Object(c.useState)(0),q=Object(h.a)(V,2),X=q[0],H=q[1],z=Object(c.useState)(!1),G=Object(h.a)(z,2),K=G[0],Y=G[1],$=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,stakingTokens:e.staking.tokens,STAKING_ADDRESS:e.gov.poolStat.pools.staking.address}})),J=$.account,Q=$.tokens,Z=$.stakingTokens,ee=$.STAKING_ADDRESS,te=Object(m.b)(),ne=Object(c.useCallback)((function(e,t){return te({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),ae=Object(b.c)(),se=Object(p.g)(),ce=Object(p.f)(),ie=se.pathname.match(/\/([^/]+)$/)[1];function re(){var e;(e=ie,u.client.api.smartContract.invokeWasmRead({scriptHash:ee,operation:"account_stake_info",args:[{type:"Address",value:J},{type:"Long",value:e}]}).then((function(t){var n=new ve(t);return{id:e,balance:new L.a(F(n)||0).div(Math.pow(10,a.decimals||0)).toString(),interest:F(n)}}))).then((function(e){M(e)})).catch((function(e){console.log("get account stakes",e)}))}function oe(e){J?(B(e),Y(!0)):ae.show("Please Connect Wallet First")}function le(){return(le=Object(d.a)(l.a.mark((function e(){var t,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J){e.next=3;break}return ae.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!a.id||!ee){e.next=23;break}if(!(T<=0)){e.next=7;break}return ae.error("Amount should be greater than 0"),e.abrupt("return");case 7:if("unstake"!==W||!new L.a(T).gt(new L.a(P.balance))){e.next=10;break}return ae.error("Amount should be less than your balance"),e.abrupt("return");case 10:return e.prev=10,t=[{type:"Address",value:J},{type:"Long",value:a.id},{type:"Long",value:new L.a(T).times(new L.a(Math.pow(10,a.decimals))).integerValue(L.a.ROUND_DOWN).toString()}],n={scriptHash:ee,operation:W,args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1},e.next=15,u.client.api.smartContract.invokeWasm(n);case 15:(s=e.sent).transaction&&(Y(!1),ne("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"".concat(x).concat(s.transaction).concat(k)})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(10),Y(!1),ne("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"",extraLink:""});case 23:case"end":return e.stop()}}),e,null,[[10,19]])})))).apply(this,arguments)}function de(){return(de=Object(d.a)(l.a.mark((function e(){var t,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J){e.next=3;break}return ae.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!ee){e.next=16;break}return e.prev=4,t=[{type:"Address",value:J},{type:"Long",value:a.id}],n={scriptHash:ee,operation:"harvest",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1},e.next=9,u.client.api.smartContract.invokeWasm(n);case 9:(s=e.sent).transaction&&(Y(!1),ne("infoModal",{show:!0,type:"success",text:"Transaction Successful",extraText:"View Transaction",extraLink:"".concat(x).concat(s.transaction).concat(k)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),ne("infoModal",{show:!0,type:"error",text:"Transaction Failed",extraText:"",extraLink:""});case 16:case"end":return e.stop()}}),e,null,[[4,13]])})))).apply(this,arguments)}Object(c.useEffect)((function(){Z.length&&y(Z.find((function(e){return"".concat(e.id)===ie})).originWeight)}),[Z]),Object(c.useEffect)((function(){if(J&&Q.length){var e=Q.find((function(e){return"".concat(e.id)===ie}));i(e),D(J,e,f)}}),[Q,J]),Object(c.useEffect)((function(){var e=function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!J||2!==a.ty){e.next=12;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:O,operation:"claimable_wing",args:[{type:"Address",value:J},{type:"Long",value:a.id}]});case 4:t=e.sent,n=new ve(t),H(F(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(e,1e4);return function(){t&&clearInterval(t)}}),[J,a]),Object(c.useEffect)((function(){if(J&&a.id&&ee){re();var e=setInterval(re,1e4);return function(){e&&clearInterval(e)}}}),[a,J,ee]),Object(c.useEffect)((function(){J||M({})}),[J]);return Object(s.jsxs)("div",{className:"stake-container",children:[Object(s.jsxs)("div",{className:"stake-title",children:[Object(s.jsx)("div",{className:"back-icon",onClick:function(){ce.goBack()}}),"Earn ",Object(s.jsx)("span",{className:"icon-UNX",children:"UNX"})," by",U(a,"inline-token-wrapper"),a.name||""]}),Object(s.jsxs)("div",{className:"stake-token-detail",children:[Object(s.jsxs)("div",{className:"stake-token-amount",children:[U(a,"stake-token-wrapper"),Object(s.jsxs)("div",{className:"stake-token-amount-detail",children:[Object(s.jsx)("div",{className:"stake-token-amount-label",children:"Current Staked"}),Object(s.jsxs)("div",{className:"stake-token-amount-info",children:[P.balance," ",a.name]})]})]}),Object(s.jsxs)("div",{className:"stake-token-actions",children:[N?Object(s.jsx)("div",{className:"stake-token-action",onClick:function(){return oe("stake")},children:"Stake"}):null,Object(s.jsx)("div",{className:"stake-token-action",onClick:function(){return oe("unstake")},children:"Unstake"})]})]}),Object(s.jsxs)("div",{className:"harvest-token-detail",children:[Object(s.jsxs)("div",{className:"harvest-token-amount icon-UNX",children:[Object(s.jsx)("div",{className:"harvest-token-amount-label",children:"Rewards Available"}),Object(s.jsxs)("div",{className:"harvest-token-amount-info",children:[new L.a(P.interest||0).div(Math.pow(10,9)).toString()," UNX"]})]}),Object(s.jsx)("div",{className:"harvest-token-actions",children:Object(s.jsx)("div",{className:"harvest-token-action",onClick:function(){return function(){return de.apply(this,arguments)}()},children:"Harvest"})})]}),2===a.ty?Object(s.jsx)("div",{className:"claimable-wing-detail",children:Object(s.jsxs)("div",{className:"claimable-wing-amount icon-WING",children:[new L.a(X||0).div(Math.pow(10,9)).toString(),Object(s.jsxs)("div",{className:"claimable-wing-label",children:["WING Earned",Object(s.jsx)(be.a,{placement:"top",overlay:"WING earned by ftoken will be transferred to your account when you stake or unstake",children:Object(s.jsx)("span",{children:"?"})})]})]})}):null,K?Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper",children:[Object(s.jsx)("div",{className:"close-btn",onClick:function(){Y(!1),A("")}}),Object(s.jsxs)("div",{className:"stake-wrapper",children:[U(a,"token-placeholder"),Object(s.jsxs)("div",{className:"form-item",children:[Object(s.jsxs)("div",{className:"input-label",children:["Amount","stake"===W?Object(s.jsxs)("span",{className:"hint",children:["Balance: ",j]}):Object(s.jsxs)("span",{className:"hint",children:["Staked: ",P.balance]})]}),Object(s.jsxs)("div",{className:"input-wrapper",children:[Object(s.jsx)(v,{placeholder:"0.0",value:T,decimals:a.decimals||0,onChange:function(e){return A(e)}}),Object(s.jsx)("div",{className:"input-max-btn",onClick:function(){"stake"!==W||isNaN(j)?"unstake"!==W||isNaN(P.balance)||A(P.balance):A(j)},children:"MAX"})]})]}),Object(s.jsx)("div",{className:"stake-btn",onClick:function(){return function(){return le.apply(this,arguments)}()},children:"stake"===W?"Stake":"Unstake"})]})]})}):null]})},Oe=(n(646),function(e){return Object(s.jsx)("div",{className:"coming-soon-placeholder"})}),xe=(n(647),function(e){return Object(s.jsx)("div",{className:"coming-soon-placeholder"})}),ke=(n(648),function(e){return Object(s.jsx)("div",{className:"coming-soon-placeholder"})}),we=E.a.create({baseURL:"https://polaris1.ont.io:10334/api/v1/smartcode/event/txhash/",timeout:3e4,headers:{"Content-Type":"application/json"}});we.interceptors.response.use((function(e){return e.data}),(function(e){return Promise.reject(e)}));var ge=we,Ne=(n(649),T.utils.StringReader),ye=T.utils.reverseHex,Se=function(){var e=Object(c.useState)("mint"),t=Object(h.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)({}),r=Object(h.a)(i,2),o=r[0],j=r[1],p=Object(c.useState)(""),f=Object(h.a)(p,2),O=f[0],w=f[1],g=Object(c.useState)(""),N=Object(h.a)(g,2),y=N[0],S=N[1],C=Object(c.useState)({}),T=Object(h.a)(C,2),A=T[0],I=T[1],E=Object(c.useState)(""),P=Object(h.a)(E,2),M=P[0],_=P[1],D=Object(c.useState)(""),U=Object(h.a)(D,2),R=U[0],H=U[1],z=Object(c.useState)({}),G=Object(h.a)(z,2),Y=G[0],$=G[1],Z=Object(c.useState)({}),ee=Object(h.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(c.useState)(""),se=Object(h.a)(ae,2),ce=se[0],ie=se[1],re=Object(c.useState)([]),oe=Object(h.a)(re,2),le=oe[0],de=oe[1],ue=Object(c.useState)(""),je=Object(h.a)(ue,2),pe=je[0],me=je[1],he=Object(c.useState)({}),ve=Object(h.a)(he,2),fe=ve[0],Oe=ve[1],xe=Object(c.useState)(0),ke=Object(h.a)(xe,2),we=ke[0],Se=ke[1],Ce=Object(c.useState)(!1),Te=Object(h.a)(Ce,2),Ae=Te[0],Le=Te[1],Ie=Object(c.useState)(!1),Ee=Object(h.a)(Ie,2),Pe=Ee[0],Me=Ee[1],_e=Object(c.useState)(!1),Fe=Object(h.a)(_e,2),De=Fe[0],Ue=Fe[1],Re=Object(c.useState)(0),We=Object(h.a)(Re,2),Be=We[0],Ve=We[1],qe=Object(c.useState)({}),Xe=Object(h.a)(qe,2),He=Xe[0],ze=Xe[1],Ge=Object(c.useState)({}),Ke=Object(h.a)(Ge,2),Ye=Ke[0],$e=Ke[1],Je=Object(m.c)((function(e){return{account:e.wallet.account,tokens:e.common.tokens,pairs:e.swap.pairs,poolStat:e.gov.poolStat,synthPoolWeightRatio:e.gov.poolStat.pools.synth.ratio,SYNTH_ADDRESS:e.gov.poolStat.pools.synth.address}})),Qe=Je.account,Ze=Je.tokens,et=Je.pairs,tt=Je.poolStat,nt=Je.synthPoolWeightRatio,at=Je.SYNTH_ADDRESS,st=Object(m.b)(),ct=Object(c.useCallback)((function(e,t){return st({type:"SET_MODAL",modalType:e,modalDetail:t})}),[]),it=Object(b.c)();J(),Object(c.useEffect)((function(){Ze.length&&Oe(Ze.find((function(e){return"UNX"===e.name})))}),[Ze]),Object(c.useEffect)((function(){if(Ze.length&&et.length&&(!we||"0"===we)&&He.marketAssetValue){var e=Ze.find((function(e){return"UNX"===e.name}));if(He.marketAssetBalances.length)Se(new L.a(He.marketAssetValue).div(He.marketTokenBalance).times(Math.pow(10,e.decimals)).toString());else{var t=Ze.find((function(e){return"pDAI"===e.name})),n=et.find((function(n){return n.token1===e.id&&n.token2===t.id||n.token2===e.id&&n.token1===t.id}));n&&(n.token1===e.id?Se(new L.a(n.reserve2).div(Math.pow(10,t.decimals)).div(n.reserve1).times(Math.pow(10,e.decimals)).times(1).times(W).toString()):Se(new L.a(n.reserve1).div(Math.pow(10,t.decimals)).div(n.reserve2).times(Math.pow(10,e.decimals)).times(1).times(W).toString()))}Oe(e)}}),[et,Ze,He]),Object(c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Qe&&fe.id&&at)){e.next=13;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:at,operation:"claim_unx",args:[{type:"Long",value:fe.id},{type:"Address",value:Qe}]});case 4:t=e.sent,n=new Ne(t),a=n.readUint128(),Ve(new L.a(a).toString()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}e();var n=setInterval(e,5e3);return function(){n&&clearInterval(n)}}),[Qe,fe,at]),Object(c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(){var t,n,a,s,c,i,r,o,d,j,p,b,m,h,v,f,O,x,k,w;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ze.length||!at){e.next=31;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:at,operation:"stat",args:[]});case 4:for(t=e.sent,n=new Ne(t),ye(n.read(20)),n.readUint128(),n.readUint128(),n.readUint128(),a=n.readNextLen(),s=[],c=function(e){var t={};t.assetId=n.readUint128(),t.tokenId=n.readUint128();var a=Ze.find((function(e){return e.id===t.tokenId}));t.tokenName=a.name,t.decimals=a.decimals,t.leverageType=n.readNextByte(),t.times=n.readUint128(),t.entryPrice=F(n),t.lowLimit=F(n),t.highLimit=F(n),t.status=n.readNextByte(),t.frozenBy=ye(n.read(20)),t.frozenTime=n.readUint64(),t.tokenName.startsWith("p")&&(t.tokenName=t.tokenName.replace("p","")),t.tokenName="".concat(t.leverageType===X?"i":"s").concat(t.tokenName),t.id=t.assetId,t.value=t.assetId,t.label="".concat(t.tokenName).concat(1!==t.times?" (".concat(t.times,"x)"):""),s.push(t)},i=0;i<a;i++)c();for(r=n.readNextLen(),o=[],d=function(e){var t={};t.assetId=n.readUint128(),t.tokenId=n.readUint128();var a=Ze.find((function(e){return e.id===t.tokenId}));t.tokenName=a.name,t.decimals=a.decimals,t.leverageType=n.readNextByte(),t.times=n.readUint128(),t.entryPrice=F(n),t.lowLimit=F(n),t.highLimit=F(n),t.status=n.readNextByte(),t.frozenBy=ye(n.read(20)),t.frozenTime=n.readUint64(),t.tokenName.startsWith("p")&&(t.tokenName=t.tokenName.replace("p","")),t.tokenName="".concat(t.leverageType===X?"i":"s").concat(t.tokenName),t.label="".concat(t.tokenName).concat(1!==t.times?" (".concat(t.times,"x)"):""),o.push(t)},j=0;j<r;j++)d();for(p=n.readNextLen(),b=[],m=0;m<p;m++)(h={}).tokenId=n.readUint128(),h.price=F(n),b.push(h);for(v=function(){var e=O[f],t=b.find((function(t){return t.tokenId===e.tokenId})).price,n=t;e.lowLimit&&new L.a(t).lte(new L.a(e.lowLimit))?n=e.lowLimit:e.highLimit&&new L.a(t).gte(new L.a(e.highLimit))&&(n=e.highLimit),e.tokenPrice=n,e.leverageType===q?e.price=new L.a(e.entryPrice).plus(new L.a(n).times(e.times)).minus(new L.a(e.entryPrice).times(e.times)).toString():e.price=new L.a(e.entryPrice).plus(new L.a(e.entryPrice).times(e.times)).minus(new L.a(n).times(e.times)).toString(),(e.lowLimit&&new L.a(e.tokenPrice).lte(new L.a(e.lowLimit))||e.highLimit&&new L.a(e.tokenPrice).gte(new L.a(e.highLimit)))&&(e.unprocessedFrozen=!0)},f=0,O=s;f<O.length;f++)v();for(x=function(){var e=w[k];e.tokenPrice=b.find((function(t){return t.tokenId===e.tokenId})).price,e.status===B?e.tokenPrice=e.highLimit:e.status===V&&(e.tokenPrice=e.lowLimit)},k=0,w=o;k<w.length;k++)x();$e({liveAssets:s,frozenAssets:o,tokenPrices:b}),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(1),console.log("get synth stat",e.t0);case 31:case"end":return e.stop()}}),e,null,[[1,28]])})))).apply(this,arguments)}e();var n=setInterval(e,5e3);return function(){return clearInterval(n)}}),[Ze,at]),Object(c.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(d.a)(l.a.mark((function e(){var t,n,a,s,c,i,r,o,d,j,p,b,m,h,v,f,O,x,k;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(Qe&&fe.id&&at)){e.next=29;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:at,operation:"market_stat",args:[{type:"Long",value:fe.id},{type:"Address",value:Qe}]});case 4:for(t=e.sent,n=new Ne(t),a=n.readNextLen(),s=[],c=new L.a(0),i=function(e){var t={};t.assetId=n.readUint128(),t.balance=F(n),t.assetPrice=F(n);var a=Ye.liveAssets?[].concat(Object(Q.a)(Ye.liveAssets),Object(Q.a)(Ye.frozenAssets)).find((function(e){return e.assetId===t.assetId})):null;a&&(c=c.plus(new L.a(t.assetPrice).times(t.balance).div(Math.pow(10,a.decimals)))),s.push(t)},r=0;r<a;r++)i();for(o=n.readNextLen(),d=[],j=new L.a(0),p=function(e){var t={};t.assetId=n.readUint128(),t.balance=F(n),t.assetPrice=F(n);var a=Ye.liveAssets?[].concat(Object(Q.a)(Ye.liveAssets),Object(Q.a)(Ye.frozenAssets)).find((function(e){return e.assetId===t.assetId})):null;a&&(j=j.plus(new L.a(t.assetPrice).times(t.balance).div(Math.pow(10,a.decimals)))),d.push(t)},b=0;b<o;b++)p();m=F(n),h=F(n),v=F(n),f=F(n),O=F(n),x="0"!==c.toString()?j.div(c).times(v).toString():"0",k={marketAssetBalances:s,accountAssetBalances:d,marketAssetValue:c.toString(),accountAssetValue:j.toString(),transferable:x,marketStakeValue:m,accountStakeValue:h,marketTokenBalance:v,accountClaimedValue:f,accountWithdrawedStakeValue:O},ze(k),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(1),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[1,26]])})))).apply(this,arguments)}e();var n=setInterval(e,5e3);return function(){n&&clearInterval(n)}}),[Qe,fe,Ye.liveAssets,at]);var rt=function(e){_(e),we&&e?H(new L.a(e).times(A.assetPrice).div(we).times(.999).toFixed(fe.decimals)):0===Number(e)&&H("")},ot=function(e){ie(e),e?me(new L.a(Y.price).div(te.price).times(e).times(Math.pow(10,Y.decimals)).div(Math.pow(10,te.decimals)).times(.999).toFixed(te.decimals)):0===Number(e)&&me("")};function lt(){return(lt=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=3;break}return it.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(fe.id&&o.assetId&&at)){e.next=21;break}if(!(O<=0)){e.next=7;break}return it.error("Amount should be greater than 0"),e.abrupt("return");case 7:return e.prev=7,t=[{type:"Long",value:fe.id},{type:"Address",value:Qe},{type:"Long",value:new L.a(y).times(new L.a(Math.pow(10,fe.decimals))).integerValue(L.a.ROUND_DOWN).toString()},{type:"Long",value:o.assetId}],e.next=11,u.client.api.smartContract.invokeWasm({scriptHash:at,operation:"mint",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 11:(n=e.sent).transaction&&(Le(!1),w(""),S(""),a="",ge({method:"get",url:"".concat(n.transaction)}).then((function(e){if("SUCCESS"===e.Desc){try{"0"===e.Result.Notify.find((function(e){return"mint"===e.States[0]})).States[5]&&(a="Your last transaction successfully freezed the ".concat(o.label," asset, you'll get 1\u2030 of the redeemed UNX when burnt."))}catch(t){}vt("success",n.transaction,a)}})).catch((function(e){vt("success",n.transaction)}))),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(7),Le(!1),w(""),S(""),vt("error");case 21:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function dt(){return(dt=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=3;break}return it.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(fe.id&&A.assetId&&at)){e.next=21;break}if(!(M<=0)){e.next=7;break}return it.error("Amount should be greater than 0"),e.abrupt("return");case 7:return e.prev=7,t=[{type:"Long",value:fe.id},{type:"Address",value:Qe},{type:"Long",value:A.assetId},{type:"Long",value:new L.a(M).times(new L.a(Math.pow(10,A.decimals))).integerValue(L.a.ROUND_DOWN).toString()}],e.next=11,u.client.api.smartContract.invokeWasm({scriptHash:at,operation:"burn",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 11:(n=e.sent).transaction&&(Me(!1),_(""),H(""),vt("success",n.transaction)),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(7),Me(!1),_(""),H(""),vt("error");case 21:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function ut(){return(ut=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=3;break}return it.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!fe.id||!at){e.next=15;break}return e.prev=4,t=[{type:"Long",value:fe.id},{type:"Address",value:Qe}],e.next=8,u.client.api.smartContract.invokeWasm({scriptHash:at,operation:"burn_all_asset",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 8:(n=e.sent).transaction&&vt("success",n.transaction),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),vt("error");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}function jt(){return(jt=Object(d.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=3;break}return it.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!(fe.id&&Y.assetId&&at)){e.next=21;break}if(!(ce<=0)){e.next=7;break}return it.error("Amount should be greater than 0"),e.abrupt("return");case 7:return e.prev=7,t=[{type:"Long",value:fe.id},{type:"Address",value:Qe},{type:"Long",value:Y.assetId},{type:"Long",value:new L.a(ce).times(new L.a(Math.pow(10,Y.decimals))).integerValue(L.a.ROUND_DOWN).toString()},{type:"Long",value:te.assetId}],e.next=11,u.client.api.smartContract.invokeWasm({scriptHash:at,operation:"asset_swap",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 11:(n=e.sent).transaction&&(Ue(!1),ie(""),me(""),a="",ge({method:"get",url:"".concat(n.transaction)}).then((function(e){if("SUCCESS"===e.Desc){try{"0"===e.Result.Notify.find((function(e){return"asset_swap"===e.States[0]})).States[4]&&(a="Your last transaction successfully freezed the ".concat(Y.label," asset, you'll get 1\u2030 of the redeemed UNX when burnt."))}catch(t){}vt("success",n.transaction,a)}})).catch((function(e){vt("success",n.transaction)}))),e.next=21;break;case 15:e.prev=15,e.t0=e.catch(7),Ue(!1),ie(""),me(""),vt("error");case 21:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function pt(){return(pt=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=3;break}return it.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!fe.id||!at){e.next=15;break}return e.prev=4,t=[{type:"Long",value:fe.id},{type:"Address",value:Qe}],e.next=8,u.client.api.smartContract.invokeWasm({scriptHash:at,operation:"claim_unx",args:t,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 8:(n=e.sent).transaction&&vt("success",n.transaction),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),vt("error");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}var bt=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Qe){e.next=3;break}return it.show("Please Connect Wallet First"),e.abrupt("return");case 3:if(!at){e.next=15;break}return e.prev=4,n=[{type:"Address",value:Qe},{type:"Long",value:t.assetId}],e.next=8,u.client.api.smartContract.invokeWasm({scriptHash:at,operation:"freeze_asset",args:n,gasPrice:2500,gasLimit:6e7,requireIdentity:!1});case 8:(a=e.sent).transaction&&vt("success",a.transaction),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),vt("error");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),mt=function(e){return e.leverageType===q?new L.a(e.tokenPrice).times(e.times).div(new L.a(e.tokenPrice).times(e.times).plus(e.entryPrice).minus(new L.a(e.entryPrice).times(e.times))).toFixed(2):e.leverageType===X?new L.a(e.tokenPrice).times(e.times).div(new L.a(e.entryPrice).times(e.times).plus(e.entryPrice).minus(new L.a(e.tokenPrice).times(e.times))).toFixed(2):void 0},ht=function(e){var t="Entry Price: ".concat(e.entryPrice);return Number(e.lowLimit)&&(t+=" Low Limit: ".concat(e.lowLimit)),Number(e.highLimit)&&(t+=" High Limit: ".concat(e.highLimit)),t},vt=function(e,t,n){ct("infoModal",{show:!0,type:e,text:"success"===e?"Transaction Successful":"Transaction Failed",detail:n,extraText:"success"===e?"View Transaction":"",extraLink:"success"===e?"".concat(x).concat(t).concat(k):""})};return Object(s.jsxs)("div",{className:"synth-container",children:[Object(s.jsxs)("div",{className:"synth-overview-sections",children:[Object(s.jsxs)("div",{className:"synth-overview-section",children:[Object(s.jsxs)("div",{className:"synth-overview-sub-section",children:[Object(s.jsx)("p",{className:"synth-overview-section-title",children:"Mint APY"}),Object(s.jsxs)("p",{className:"synth-overview-detail",children:[He.marketStakeValue&&fe.id?new L.a(tt.distributionInfo.amount||0).div(tt.distributionInfo.period||1).times(31536e3).times(Math.pow(10,fe.decimals)).times(nt||0).div(He.marketStakeValue).toFixed(2):0,"%"]})]}),Object(s.jsx)("div",{className:"synth-overview-section-group",children:Object(s.jsxs)("div",{className:"synth-overview-sub-section",children:[Object(s.jsx)("p",{className:"synth-overview-section-title",children:"Market Balance"}),Object(s.jsxs)("p",{className:"synth-overview-detail",children:[He.marketTokenBalance?new L.a(He.marketTokenBalance).div(Math.pow(10,fe.decimals)).toFixed(fe.decimals):"0"," ",Object(s.jsx)("span",{children:"UNX"})]})]})})]}),Object(s.jsxs)("div",{className:"synth-overview-section-right",children:[Object(s.jsxs)("div",{className:"synth-overview-sub-section",children:[Object(s.jsx)("p",{className:"synth-overview-section-title",children:"Transferable"}),Object(s.jsxs)("p",{className:"synth-overview-detail",children:[He.transferable&&"0"!==He.transferable?new L.a(He.transferable).plus(Be).div(Math.pow(10,fe.decimals)).toFixed(fe.decimals):"0"," ",Object(s.jsx)("span",{children:"UNX"})]})]}),Object(s.jsxs)("div",{className:"synth-overview-section-group",children:[Object(s.jsxs)("div",{className:"synth-overview-sub-section",children:[Object(s.jsx)("p",{className:"synth-overview-section-title",children:"Staked Available"}),Object(s.jsxs)("p",{className:"synth-overview-detail",children:[He.transferable&&"0"!==He.transferable?new L.a(He.transferable).div(Math.pow(10,fe.decimals)).toFixed(fe.decimals):"0"," ",Object(s.jsx)("span",{children:"UNX"}),He.transferable&&"0"!==He.transferable?Object(s.jsx)("div",{className:"synth-overview-action-btn synth-overview-action-btn-burn",onClick:function(){return function(){return ut.apply(this,arguments)}()},children:"Burn All"}):null]})]}),Object(s.jsxs)("div",{className:"synth-overview-sub-section",children:[Object(s.jsx)("p",{className:"synth-overview-section-title",children:"Rewards Available"}),Object(s.jsxs)("p",{className:"synth-overview-detail",children:[fe.id?new L.a(Be).div(Math.pow(10,fe.decimals)).toString():0," ",Object(s.jsx)("span",{children:"UNX"}),Be&&"0"!==Be?Object(s.jsx)("div",{className:"synth-overview-action-btn",onClick:function(){return function(){return pt.apply(this,arguments)}()},children:"Claim"}):null]})]})]})]})]}),Object(s.jsxs)("div",{className:"mint-burn-wrapper",children:[Object(s.jsxs)("div",{className:"mint-burn-main",children:[Object(s.jsxs)("div",{className:"synth-type-switch",children:[Object(s.jsx)("div",{className:"synth-type-item ".concat("mint"===n?"selected":""),onClick:function(){return a("mint")},children:"Mint"}),Object(s.jsx)("div",{className:"synth-type-item ".concat("burn"===n?"selected":""),onClick:function(){return a("burn")},children:"Burn"})]}),Object(s.jsxs)("div",{className:"market-asset-value",children:["Market Asset Value: \xa0\xa0",Object(s.jsxs)("span",{children:["$",new L.a(He.marketAssetValue||0).div(W).toFixed(9)]})]}),Object(s.jsxs)("div",{className:"synth-assets-panel",children:[Object(s.jsxs)("div",{className:"synth-assets-panel-header",children:[Object(s.jsx)("div",{className:"panel-header-item panel-header-item-asset",children:"Asset"}),Object(s.jsx)("div",{className:"panel-header-item",children:"Price($)"}),Object(s.jsx)("div",{className:"panel-header-item",children:"Holdings($)"}),Object(s.jsx)("div",{className:"panel-header-item",children:"Effective Leverage"}),Object(s.jsx)("div",{className:"panel-header-item panel-header-item-action"})]}),Object(s.jsx)("div",{className:"synth-assets-list",children:"mint"===n?Ye.liveAssets?Ye.liveAssets.map((function(e){var t=He.accountAssetBalances?He.accountAssetBalances.find((function(t){return t.assetId===e.assetId})):null,n=1===e.times&&e.leverageType===X;return t&&(e.holdings=new L.a(t.assetPrice).div(W).times(t.balance).div(Math.pow(10,e.decimals)).toString()),e.effectiveLeverage=mt(e),Object(s.jsxs)("div",{className:"synth-assets-list-item ".concat(e.unprocessedFrozen?"unprocessed-frozen":""),children:[Object(s.jsx)("div",{className:"synth-assets-list-item-name",children:Object(s.jsxs)("div",{className:"synth-assets-list-item-icon icon-".concat(e.tokenName),children:[n?Object(s.jsx)(be.a,{placement:"top",overlay:ht(e),children:Object(s.jsx)("span",{children:e.label})}):Object(s.jsx)("span",{children:e.label}),e.unprocessedFrozen?Object(s.jsx)(be.a,{placement:"top",overlay:"The first one that freezes an asset will get 1\u2030 of burning fee from all holders",children:Object(s.jsx)("span",{className:"freeze-asset-btn",onClick:function(){return bt(e)}})}):null]})}),Object(s.jsx)("div",{className:"synth-assets-list-item-price",children:new L.a(e.price).div(W).toString()}),Object(s.jsx)("div",{className:"synth-assets-list-item-holding",children:e.holdings||0}),Object(s.jsx)("div",{className:"synth-assets-list-item-leverage",children:e.effectiveLeverage}),Object(s.jsx)("div",{className:"synth-assets-list-item-action",children:Object(s.jsx)("div",{className:"synth-assets-list-item-action-mint",onClick:function(){Le(!0),j(e)},children:"Mint"})})]},e.assetId)})):null:He.accountAssetBalances?He.accountAssetBalances.map((function(e){var t=Ye.liveAssets?Ye.liveAssets.find((function(t){return t.assetId===e.assetId})):null;return t||(t=Ye.frozenAssets?Ye.frozenAssets.find((function(t){return t.assetId===e.assetId})):null)&&(t.isFrozen=!0),t&&(t.isFrozen||(t.lowLimit&&new L.a(t.tokenPrice).lte(new L.a(t.lowLimit))||t.highLimit&&new L.a(t.tokenPrice).gte(new L.a(t.highLimit)))&&(t.unprocessedFrozen=!0),t.balance=e.balance,t.assetPrice=e.assetPrice,t.effectiveLeverage=mt(t)),t?Object(s.jsxs)("div",{className:"synth-assets-list-item ".concat(t.isFrozen?"frozen":""," ").concat(t.unprocessedFrozen?"unprocessed-frozen":""),children:[Object(s.jsx)("div",{className:"synth-assets-list-item-name",children:Object(s.jsxs)("div",{className:"synth-assets-list-item-icon icon-".concat(t.tokenName),children:[t.label,t.unprocessedFrozen?Object(s.jsx)(be.a,{placement:"top",overlay:"The first one that freezes an asset will get 1\u2030 of burning fee from all holders",children:Object(s.jsx)("span",{onClick:function(){return bt(t)}})}):null]})}),Object(s.jsx)("div",{className:"synth-assets-list-item-price",children:new L.a(e.assetPrice).div(W).toString()}),Object(s.jsx)("div",{className:"synth-assets-list-item-holding",children:new L.a(e.assetPrice).div(W).times(e.balance).div(Math.pow(10,t.decimals)).toString()}),Object(s.jsx)("div",{className:"synth-assets-list-item-leverage",children:t.effectiveLeverage}),Object(s.jsxs)("div",{className:"synth-assets-list-item-action",children:[Object(s.jsx)("div",{className:"synth-assets-list-item-action-burn",onClick:function(){Me(!0),I(t)},children:"Burn"}),Object(s.jsx)("div",{className:"synth-assets-list-item-action-exchange",onClick:function(){Ue(!0),$(t);var e=Ye.liveAssets.filter((function(e){return e.assetId!==t.assetId}));de(e),ne(e[0])},children:"Exchange"})]})]},e.assetId):null})):void 0})]})]}),"mint"===n?Object(s.jsxs)("div",{className:"mint-burn-info",children:[Object(s.jsx)("div",{className:"mint-burn-info-title",children:"Mint Synthetics by staking UNX"}),Object(s.jsx)("div",{className:"mint-burn-info-desc",children:"UNX stakers earn staking rewards once minted."}),Object(s.jsx)("div",{className:"mint-burn-account-info",children:Object(s.jsxs)("div",{className:"mint-burn-account-info-line",children:["Minted With ",Object(s.jsxs)("span",{children:[new L.a(He.accountStakeValue||0).div(Math.pow(10,fe.decimals)).toString()||"0"," UNX"]})]})})]}):Object(s.jsxs)("div",{className:"mint-burn-info",children:[Object(s.jsx)("div",{className:"mint-burn-info-title",children:"Burn Synthetics to unstake UNX"}),Object(s.jsx)("div",{className:"mint-burn-info-desc",children:"Burn your synthetics to withdraw UNX."}),Object(s.jsx)("div",{className:"mint-burn-account-info",children:Object(s.jsxs)("div",{className:"mint-burn-account-info-line",children:["Assets($) ",Object(s.jsx)("span",{children:new L.a(He.accountAssetValue).div(W).toString()})]})}),Object(s.jsxs)("div",{className:"mint-burn-info-note",children:[Object(s.jsx)("strong",{children:"NOTE"}),': when "Effective Leverage" is lower than 0.5 or higher than 2.0 times of nominal leverage, your asset will be frozen. ',Object(s.jsx)("span",{children:"You have to burn it within 3 days."})," Otherwise, your asset will be burned and the UNX will be donated to staked pool."]})]})]}),Ae?Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper",children:[Object(s.jsx)("div",{className:"close-btn",onClick:function(){Le(!1),w(""),S("")}}),Object(s.jsxs)("div",{className:"mint-wrapper",children:[Object(s.jsxs)("div",{className:"mint-wrapper-title",children:["Mint ",o.label]}),Object(s.jsxs)("div",{className:"mint-wrapper-info",children:["Price($)",Object(s.jsx)("span",{children:new L.a(o.price).div(W).toString()})]}),Object(s.jsxs)("div",{className:"form-item",children:[Object(s.jsx)("div",{className:"input-label",children:"Amount"}),Object(s.jsx)("div",{className:"input-wrapper",children:Object(s.jsx)(v,{placeholder:"0.0",value:O,decimals:o.decimals||0,onChange:function(e){return function(e){w(e),we&&e?S(new L.a(e).times(o.price).div(we).div(.999).toFixed(fe.decimals)):0===Number(e)&&S("")}(e)}})})]}),Object(s.jsx)(K,{label:"You need to pay (UNX)",value:y,defaultToken:fe,decimals:fe.decimals||0,onAmountChange:function(e){return function(e){S(e),we&&e?w(new L.a(e).times(we).div(o.price).times(.999).toFixed(o.decimals)):0===Number(e)&&w("")}(e)}}),Object(s.jsx)("div",{className:"mint-btn",onClick:function(){return function(){return lt.apply(this,arguments)}()},children:"Mint"})]})]})}):null,Pe?Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper",children:[Object(s.jsx)("div",{className:"close-btn",onClick:function(){Me(!1),_(""),H("")}}),Object(s.jsxs)("div",{className:"burn-wrapper",children:[Object(s.jsxs)("div",{className:"burn-wrapper-title",children:["Burn ",A.label]}),Object(s.jsxs)("div",{className:"burn-wrapper-info",children:["Price($)",Object(s.jsx)("span",{children:new L.a(A.assetPrice).div(W).toString()})]}),Object(s.jsxs)("div",{className:"form-item",children:[Object(s.jsxs)("div",{className:"input-label",children:["Amount",Object(s.jsxs)("span",{className:"hint",children:["Balance: ",new L.a(A.balance).div(Math.pow(10,A.decimals)).toString()]})]}),Object(s.jsxs)("div",{className:"input-wrapper",children:[Object(s.jsx)(v,{placeholder:"0.0",value:M,decimals:A.decimals||0,onChange:function(e){return rt(e)}}),Object(s.jsx)("div",{className:"input-max-btn",onClick:function(){A&&rt(new L.a(A.balance).div(Math.pow(10,A.decimals)).toString())},children:"MAX"})]})]}),Object(s.jsxs)("div",{className:"form-item",children:[Object(s.jsx)("div",{className:"input-label",children:"You will get (UNX)"}),Object(s.jsx)("div",{className:"input-wrapper",children:Object(s.jsx)(v,{placeholder:"0.0",value:R,decimals:fe.decimals||0,onChange:function(e){return function(e){H(e),we&&e?_(new L.a(e).times(we).div(A.assetPrice).div(.999).toFixed(A.decimals)):0===Number(e)&&_("")}(e)}})})]}),Object(s.jsx)("div",{className:"burn-btn",onClick:function(){return function(){return dt.apply(this,arguments)}()},children:"Burn"})]})]})}):null,De?Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper",children:[Object(s.jsx)("div",{className:"close-btn",onClick:function(){Ue(!1),ie(""),me("")}}),Object(s.jsxs)("div",{className:"exchange-wrapper",children:[Object(s.jsxs)("div",{className:"exchange-wrapper-title",children:["Exchange ",Y.label]}),Object(s.jsxs)("div",{className:"form-item",children:[Object(s.jsxs)("div",{className:"input-label",children:["Amount",Object(s.jsxs)("span",{className:"hint",children:["Balance: ",new L.a(Y.balance).div(Math.pow(10,Y.decimals)).toString()]})]}),Object(s.jsxs)("div",{className:"input-wrapper",children:[Object(s.jsx)(v,{placeholder:"0.0",value:ce,decimals:Y.decimals||0,onChange:function(e){return ot(e)}}),Object(s.jsx)("div",{className:"input-max-btn",onClick:function(){Y&&ot(new L.a(Y.balance).div(Math.pow(10,Y.decimals)).toString())},children:"MAX"})]})]}),Object(s.jsx)(K,{cls:"asset-select",label:"Exchange to",value:pe,tokens:le,showBalance:!1,withMax:!1,onTokenChange:function(e){return function(e){ne(e),ce?me(new L.a(Y.price).div(e.price).times(ce).times(Math.pow(10,Y.decimals)).div(Math.pow(10,e.decimals)).times(.999).toFixed(e.decimals)):0===Number(ce)&&me("")}(e)},onAmountChange:function(e){return function(e){me(e),e?ie(new L.a(e).times(Math.pow(10,te.decimals)).div(Math.pow(10,Y.decimals)).times(te.price).div(Y.price).div(.999).toFixed(Y.decimals)):0===Number(e)&&ie("")}(e)}}),Object(s.jsx)("div",{className:"exchange-btn",onClick:function(){return function(){return jt.apply(this,arguments)}()},children:"Exchange"})]})]})}):null]})},Ce=(n(650),function(e){var t=Object(m.c)((function(e){return{poolStat:e.gov.poolStat}})).poolStat;return Object(s.jsxs)("div",{className:"governance-wrapper",children:[Object(s.jsxs)("div",{className:"overview-wrapper",children:[Object(s.jsx)("div",{className:"overview-title",children:"Overview"}),Object(s.jsxs)("div",{className:"overview-sections",children:[Object(s.jsxs)("div",{className:"overview-left",children:[Object(s.jsx)("p",{className:"overview-section-title",children:"Total UNX"}),Object(s.jsx)("p",{className:"overview-detail",children:g(t.distributionInfo.amount||0)})]}),Object(s.jsxs)("div",{className:"overview-right",children:[Object(s.jsx)("p",{className:"overview-section-title",children:"Daily Distribution"}),Object(s.jsxs)("p",{className:"overview-detail",children:[g(((t.distributionInfo.amount||0)/(t.distributionInfo.period||1)*86400).toFixed(9))," ",Object(s.jsx)("span",{children:"UNX"})]})]})]})]}),Object(s.jsxs)("div",{className:"distribution-wrapper",children:[Object(s.jsx)("div",{className:"overview-title",children:"Distribution"}),Object(s.jsxs)("div",{className:"distribution-sections",children:[Object(s.jsx)("div",{className:"pie-svg",children:Object(s.jsxs)("svg",{className:"donut",width:"240px",height:"240px",viewBox:"0 0 42 42",role:"img",children:[Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#2BBE7F","stroke-width":"4","stroke-dasharray":"80, 20","stroke-dashoffset":"100"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"120"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FE332F","stroke-width":"4","stroke-dasharray":"8, 92","stroke-dashoffset":"219.5"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"311.5"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#F4BA5E","stroke-width":"4","stroke-dasharray":"8, 92","stroke-dashoffset":"411"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"503"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#2B3962","stroke-width":"4","stroke-dasharray":"3, 97","stroke-dashoffset":"602.5"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"699.5"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#F18DA5","stroke-width":"4","stroke-dasharray":"1, 99","stroke-dashoffset":"799"}),Object(s.jsx)("circle",{cx:"21",cy:"21",r:"15.915494309189533",fill:"none",stroke:"#FFFFFF","stroke-width":"4","stroke-dasharray":"0.5, 99.5","stroke-dashoffset":"898"})]})}),Object(s.jsxs)("div",{className:"pie-desc",children:[Object(s.jsxs)("div",{className:"d-item",children:[Object(s.jsx)("div",{className:"d-item-color",style:{background:"#2BBE7F"}}),Object(s.jsx)("div",{className:"d-item-name",children:"Community"}),Object(s.jsx)("div",{className:"d-item-ratio",children:"80%"})]}),Object(s.jsxs)("div",{className:"d-item",children:[Object(s.jsx)("div",{className:"d-item-color",style:{background:"#FE332F"}}),Object(s.jsx)("div",{className:"d-item-name",children:"Developer"}),Object(s.jsx)("div",{className:"d-item-ratio",children:"8%"})]}),Object(s.jsxs)("div",{className:"d-item",children:[Object(s.jsx)("div",{className:"d-item-color",style:{background:"#F4BA5E"}}),Object(s.jsx)("div",{className:"d-item-name",children:"Foundation"}),Object(s.jsx)("div",{className:"d-item-ratio",children:"8%"})]}),Object(s.jsxs)("div",{className:"d-item",children:[Object(s.jsx)("div",{className:"d-item-color",style:{background:"#2B3962"}}),Object(s.jsx)("div",{className:"d-item-name",children:"Resoucse Extension"}),Object(s.jsx)("div",{className:"d-item-ratio",children:"3%"})]}),Object(s.jsxs)("div",{className:"d-item",children:[Object(s.jsx)("div",{className:"d-item-color",style:{background:"#F18DA5"}}),Object(s.jsx)("div",{className:"d-item-name",children:"Volunteer"}),Object(s.jsx)("div",{className:"d-item-ratio",children:"1%"})]})]})]})]})]})}),Te=T.utils.StringReader,Ae=T.utils.hexstr2str,Le=T.utils.reverseHex,Ie=(n(651),function(){var e=Object(b.c)(),t=Object(m.c)((function(e){return{loadingToken:e.common.loadingToken,account:e.wallet.account}})),n=t.account,a=t.loadingToken,i=Object(m.b)(),r=Object(c.useCallback)((function(e){return i({type:"SET_ACCOUNT",account:e})}),[]);function o(){return h.apply(this,arguments)}function h(){return(h=Object(d.a)(l.a.mark((function t(){var n,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.client.api.network.getNetwork();case 3:if(!(n=t.sent)||n.type===f){t.next=7;break}return e.error("Please connect to the ".concat(f,"-Net")),t.abrupt("return");case 7:return t.next=9,u.client.api.asset.getAccount();case 9:a=t.sent,r(a),localStorage.setItem("account",a),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}return function(){var e=Object(m.c)((function(e){return{stopInterval:e.common.stopInterval,tokens:e.common.tokens}})),t=e.stopInterval,n=e.tokens,a=Object(m.b)(),s=Object(c.useCallback)((function(e){return a({type:"SET_LOADING_TOKEN",loadingToken:e})}),[]),i=Object(c.useCallback)((function(e){return a({type:"SET_TOKENS",tokens:e})}),[]),r=Object(c.useCallback)((function(e){return a({type:"SET_STOP_INTERVAL",stopInterval:e})}),[]),o=Object(c.useCallback)((function(e){return a({type:"SET_POOL_STAT",poolStat:e})}),[]);function j(){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(l.a.mark((function e(){var t,a,c,d,j,p,b,m,h,v,f,x,k,w,g,N;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.length){e.next=29;break}return e.prev=1,e.next=4,u.client.api.smartContract.invokeWasmRead({scriptHash:O,operation:"stat",args:[]});case 4:for(t=e.sent,a=new Te(t),(c={}).amount=a.readUint128()/Math.pow(10,9),c.period=a.readUint128(),c.startTimeStamp=a.readUint128(),c.settledTimeStamp=a.readUint128(),d={},j=a.readNextLen(),p=0,b=0;b<j;b++)m={},h=a.readNextLen(),m.name=Ae(a.read(h)),m.address=Le(a.read(20)),m.weight=a.readUint128(),p+=m.weight,d[m.name]=m;for(v in d)d[v].ratio=d[v].weight/p;for(f=a.readBoolean(),x=[],k=a.readNextLen(),w=0;w<k;w++)(g={}).id=a.readUint128(),N=a.readNextLen(),g.name=Ae(a.read(N)),g.address=Le(a.read(20)),g.ty=a.readUint8(),g.decimals=a.readUint128(),g.value=g.id,g.label=g.name,x.push(g);s(!1),i(x),o({distributionInfo:c,pools:d,upgrade:f}),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(1),console.log(e.t0),R(e.t0,(function(t){console.log(t),"CONTRACT_ADDRESS_ERROR"===t?r(!0):console.log("get all tokens",e.t0)}));case 29:case"end":return e.stop()}}),e,null,[[1,25]])})))).apply(this,arguments)}Object(c.useEffect)((function(){j();var e=!t&&!n.length&&setInterval((function(){return j}),1e3);return function(){e&&clearInterval(e)}}),[n,t])}(),Object(c.useEffect)((function(){u.client.api.provider.getProvider().catch((function(t){"NO_PROVIDER"===t&&e.error("Please install wallet extension first")}))}),[]),Object(s.jsx)(j.a,{children:Object(s.jsxs)("div",{className:"app",children:[a?Object(s.jsx)("div",{className:"modal-overlay",children:Object(s.jsxs)("div",{className:"modal-wrapper transparent-bg",children:[Object(s.jsx)("div",{className:"modal-icon-loading modal-icon"}),Object(s.jsx)("div",{className:"modal-text light",children:"Loading..."})]})}):null,null===n&&Object(s.jsx)("div",{className:"connect-wallet-overlay",children:Object(s.jsxs)("div",{className:"connect-wrapper",children:[Object(s.jsx)("p",{className:"connect-title",children:"Connect Wallet"}),Object(s.jsx)("div",{className:"wallet-item",onClick:function(){return o()},children:"Cyano Wallet"})]})}),Object(s.jsx)(C,{}),Object(s.jsx)(y,{onSignOut:function(){return r(""),void localStorage.setItem("account","")},onConnectWallet:function(){return o()}}),Object(s.jsx)("div",{className:"main-wrapper",children:Object(s.jsxs)(p.c,{children:[w.indexOf("/")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/",children:Object(s.jsx)(he,{})}):null,w.indexOf("/")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/staking/:id",children:Object(s.jsx)(fe,{})}):null,w.indexOf("/swap")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/swap",children:Object(s.jsx)(ie,{})}):null,w.indexOf("/swap")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/pool",children:Object(s.jsx)(le,{})}):null,w.indexOf("/swap")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/pool/add",children:Object(s.jsx)(de,{})}):null,w.indexOf("/swap")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/pool/remove/:id",children:Object(s.jsx)(pe,{})}):null,w.indexOf("/trade")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/trade",children:Object(s.jsx)(ke,{})}):null,w.indexOf("/governance")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/governance",children:Object(s.jsx)(Ce,{})}):null,w.indexOf("/token")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/token",children:Object(s.jsx)(Oe,{})}):null,w.indexOf("/option")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/option",children:Object(s.jsx)(xe,{})}):null,w.indexOf("/synth")>=0?Object(s.jsx)(p.a,{exact:!0,path:"/synth",children:Object(s.jsx)(Se,{})}):null]})})]})})}),Ee=n(122),Pe=n(309),Me={infoModal:{show:!1,type:"",text:"",extraText:"",extraLink:""}},_e={account:localStorage.getItem("account"),slippage:localStorage.getItem("slippage")||"0.1"},Fe={loadingToken:!0,stopInterval:!1,tokens:[]},De={poolStat:{distributionInfo:{},pools:{staking:{},swap:{},dex:{},synth:{}},upgrade:!1}},Ue={tokens:[],pairs:[]},Re={tokens:[]},We=Object(Ee.a)({modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MODAL":return Object(a.a)(Object(a.a)({},e),{},Object(re.a)({},t.modalType,t.modalDetail));default:return Object(a.a)({},e)}},wallet:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACCOUNT":return Object(a.a)(Object(a.a)({},e),{},{account:t.account});case"SET_SLIPPAGE":return localStorage.setItem("slippage",t.slippage),Object(a.a)(Object(a.a)({},e),{},{slippage:t.slippage});default:return Object(a.a)({},e)}},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING_TOKEN":return Object(a.a)(Object(a.a)({},e),{},{loadingToken:t.loadingToken});case"SET_STOP_INTERVAL":return Object(a.a)(Object(a.a)({},e),{},{stopInterval:t.stopInterval});case"SET_TOKENS":return Object(a.a)(Object(a.a)({},e),{},{tokens:t.tokens});default:return Object(a.a)({},e)}},gov:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POOL_STAT":return Object(a.a)(Object(a.a)({},e),{},{poolStat:t.poolStat});default:return Object(a.a)({},e)}},swap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SWAP_TOKENS":return Object(a.a)(Object(a.a)({},e),{},{tokens:t.tokens});case"SET_PAIRS":return Object(a.a)(Object(a.a)({},e),{},{pairs:t.pairs});default:return Object(a.a)({},e)}},staking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_STAKING_TOKENS":return Object(a.a)(Object(a.a)({},e),{},{tokens:t.tokens});default:return Object(a.a)({},e)}}}),Be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,660)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),c(e),i(e)}))},Ve=(n(653),n(654),n(655),n(656),Object(Ee.b)(We));u.client.registerClient({});var qe={timeout:1e4,position:b.b.TOP_CENTER};r.a.render(Object(s.jsx)(b.a,Object(a.a)(Object(a.a)({template:Pe.a},qe),{},{children:Object(s.jsx)(m.a.Provider,{value:Ve,children:Object(s.jsx)(Ie,{})})})),document.getElementById("root")),Be()}},[[657,1,2]]]);
//# sourceMappingURL=main.e059d17e.chunk.js.map