{"version":3,"sources":["../node_modules/milagro-crypto-js/src sync /^/.//.*$","components/input/index.js","config.js","utils/common.js","components/header/index.js","components/modal/index.js","utils/request.js","utils/token.js","utils/errorHandle.js","utils/constants.js","pages/transaction/index.js","components/tokenInput/index.js","hooks/usePair.js","utils/swap.js","pages/swap/index.js","pages/pool/index.js","pages/pool/addLiquidity/index.js","pages/pool/removeLiquidity/index.js","pages/staking/index.js","pages/staking/detail/index.js","pages/token/index.js","pages/option/index.js","utils/eventRequest.js","pages/synth/index.js","pages/governance/index.js","hooks/useToken.js","App.js","reducers/modal.js","reducers/wallet.js","reducers/common.js","reducers/gov.js","reducers/swap.js","reducers/staking.js","reducers/synth.js","reducers/trade.js","reducers/index.js","reportWebVitals.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Input","props","value","cls","disabled","round","decimals","inline","onChange","useState","val","setVal","useEffect","placeholder","handleInput","formattedValue","v","RegExp","test","formatter","target","className","type","onInput","NETWORK_TYPE","GOVERNANCE_ADDRESS","TRANSACTION_BASE_URL","TRANSACTION_AFTERFIX","READY_TABS","toLocaleFixed","num","n","priceNum","parseFloat","Math","toFixed","toString","indexOf","replace","$0","$1","formatAccount","account","substr","Header","selectedTab","setSelectedTab","showProfilePanel","setShowProfilePanel","useMappedState","state","wallet","slippage","showSiteIntro","setShowSiteIntro","dispatch","useDispatch","setSlippage","useCallback","pathname","useLocation","tab","href","window","location","origin","onClick","rel","renderSiteIntro","to","onConnectWallet","Number","amount","onSignOut","InfoModal","onCloseModal","text","detail","extraLink","extraText","Modal","infoModal","modal","setModal","modalType","modalDetail","modals","show","push","assign","buildModals","instance","axios","create","baseURL","timeout","headers","interceptors","response","use","data","error","Promise","reject","reverseHex","utils","readBigNumberUint128","reader","str","read","split","reverse","total","BigNumber","i","length","plus","pow","times","parseInt","isZero","getTokenBalance","token","cb","name","param","scriptHash","address","operation","args","invokeMethod","client","api","smartContract","invokeRead","ty","invokeWasmRead","then","bl","div","Request","method","url","resp","targetToken","result","find","t","asset_name","toLowerCase","balance","catch","console","log","getTokenIconDom","slice","tokenName","handleError","callback","json","JSON","parse","Result","PRICE_DECIMALS","SYNTH_PRICE_DECIMALS","ASSET_STATUS","LEVERAGE_TYPE","StringReader","Transaction","pairNameKeyword","setPairNameKeyword","showPairSelectModal","setShowPairSelectModal","tokenBalance","setTokenBalance","price","setPrice","setAmount","setTotal","isValid","setIsValid","stopInterval","common","tokens","trade","CONTRACT_ADDRESS","gov","poolStat","pools","dex","makes","myMakes","pairs","tradeType","tokenPair","makeView","pool","lastPrice","feeRate","setStopInterval","setMakes","setMyMakes","setPairs","setTokenPair","setTradeType","setMakeView","setPool","setLastPrice","setFeeRate","Alert","useAlert","urlPairName","decodeURIComponent","hash","reg","match","getHashString","localStorage","getItem","getMakes","curMakes","filter","m","asset_token_id","price_token_id","isMine","mm","make_id","onUnmake","a","assetToken","priceToken","tradeAmount","integerValue","ROUND_DOWN","invokeWasm","gasPrice","gasLimit","requireIdentity","makeResult","transaction","makeId","unmakeResult","getPriceHint","getAmountHint","p","getMakesOfPair","makeStr","parsedMakes","strReader","pairLastPrice","readUint128","j","makeCount","readNextLen","make","errorCode","interval","setInterval","clearInterval","getUserMakes","hexToAddress","getStat","statStr","tokenPool","tokenCount","tempToken","weight","tokenPairs","onMake","toUpperCase","tp","generateTokenPool","nameLC","reduce","b","pair","setItem","TokenInput","defaultToken","inputDisabled","showBalance","withMax","onTokenChange","onAmountChange","balanceChange","setToken","setBalance","label","dToken","defaultValue","options","isSearchable","components","Option","SingleValue","children","newToken","handleTokenChange","theme","borderRadius","colors","primary","renderTokenSeletion","isNaN","useFetchPairs","swapTokens","swap","SWAP_ADDRESS","setSwapTokens","getSwapStat","pairStr","parsedPairs","pairCount","token1","token2","reserve1","reserve2","lp","tokenIds","tk","REST","findAllPaths","sourceId","targetId","pathArr","findPath","pathNodes","neighborNodes","includes","sort","p1","p2","getInputAmount","output","minus","ROUND_CEIL","getOutputAmount","input","ROUND_FLOOR","findNextOutput","findPrevInput","bestSwap","paths","originAmount","maxOutput","minInput","Infinity","path","gt","lt","Swap","swapType","setSwapType","setToken1","setToken2","token1Amount","setToken1Amount","token2Amount","setToken2Amount","isValidPair","setIsValidPair","isValidSwap","setIsValidSwap","bestPath","setBestPath","showPrice","setShowPrice","setBalanceChange","history","useHistory","swapResult","st","validPair","onChangeToken1","inputAmount","onToken1AmountChange","onChangeToken2","outputAmount","onToken2AmountChange","handleSwap","abs","getPriceImpact","items","index","getBestPath","Pool","liquidityBalance","setLiquidityBalance","all","myLiquidities","l","lb","pairId","shareOfPool","onRemoveLiquidity","generateLiquidityList","AddLiquidity","isFirstProvider","setIsFirstProvider","showPriceInfo","setShowPriceInfo","getPairByToken","getPairPrice","onNavigateToPool","goBack","ROUND_UP","addResult","amountProduct","getShareOfPool","onAdd","RemoveLiquidity","setPair","getLiquidityBalanceByPairId","onRemove","Staking","showClosedEntry","setShowClosedEntry","showClosed","setShowClosed","unxPrice","setUnxPrice","tokenPrices","setTokenPrices","stakingTokens","staking","stakingPoolWeightRatio","ratio","STAKING_ADDRESS","setStakingTokens","getStakingTokenPrice","unxToken","parsedTokenPrices","LPTokens","nonLPTokens","lpt","tn","tokenId","tokenPriceStr","tokenNames","nonUnxToken","getStakingTokenBalance","parsedTokens","totalWeight","filteredTokens","originWeight","getTip","unxTk","daiTk","openStakingTokens","closedStakingTokens","unxAmount","distributionInfo","period","tokenAPY","startsWith","placement","overlay","onSelectToken","generateStakingPool","StakingDetail","stakeToken","setStakeToken","tokenWeight","setTokenWeight","myStake","setMyStake","stakeType","setStakeType","claimableWing","setClaimableWing","showStakingModal","setShowStakingModal","getAccountStake","stakeStr","interest","stake","handleStakeClick","action","stakeResult","harvestResult","sToken","getClaimableWing","onHarvest","onStake","Token","Synth","mintAsset","setMintAsset","mintAmount","setMintAmount","unxNeededForMint","setUnxNeededForMint","burnAsset","setBurnAsset","burnAmount","setBurnAmount","unxGetForBurn","setUnxGetForBurn","exchangeAsset","setExchangeAsset","exchangeToAsset","setExchangeToAsset","exchangeAmount","setExchangeAmount","exchangeToAssets","setExchangeToAssets","exchangeToAmount","setExchangeToAmount","setUnxToken","showMintModal","setShowMintModal","showBurnModal","setShowBurnModal","showExchangeModal","setShowExchangeModal","synth","synthPoolWeightRatio","SYNTH_ADDRESS","stat","marketStat","availableReward","synthType","setStat","setMarketStat","setAvailableReward","setSynthType","marketAssetValue","marketAssetBalances","marketTokenBalance","getAvailableReward","claimStr","liveAssetCount","liveAssets","asset","assetId","leverageType","readNextByte","entryPrice","lowLimit","highLimit","status","frozenBy","frozenTime","readUint64","frozenAssetCount","frozenAssets","tokenPriceCount","tokenPrice","liveAsset","currentPrice","lte","gte","unprocessedFrozen","frozenAsset","getMarketStat","marketAssetBalanceCount","marketAssetValueSum","assetBalance","assetPrice","la","accountAssetBalanceCount","accountAssetBalances","accountAssetValueSum","marketStakeValue","accountStakeValue","accountClaimedValue","accountWithdrawedStakeValue","transferable","parsedMarketStat","accountAssetValue","handleBurnAmountChange","handleExchangeAmountChange","mintResult","EventRequest","Desc","Notify","notify","States","setInfoModal","burnResult","burnAllResult","exchangeResult","claimResult","handleFreezeAsset","freezeResult","calcEffectiveLeverage","getPriceDetail","txt","onBurnAll","onClaim","assetList","accountAsset","ab","showPriceDetail","holdings","effectiveLeverage","fa","isFrozen","toAssets","renderAssetList","handleMintAmountChange","handleUnxNeededForMintChange","onMint","handleUnxGetForBurnChange","onBurn","handleChangeExchangeToAsset","handleChengeExchangeToAmount","onExchange","Governance","hasBegan","setHasBegan","leftTime","setLeftTime","getLeftTime","time","Date","day","hour","minute","second","dateInfo","startTimeStamp","width","height","viewBox","role","cx","cy","r","fill","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","style","background","hexstr2str","App","isUpgrading","loadingToken","setAccount","getAccount","accountAddress","retryTimes","provider","getProvider","network","getNetwork","setIsUpgrading","setLoadingToken","setTokens","setPoolStat","getGovStat","settledTimeStamp","poolCount","nameLength","poolName","upgrade","readBoolean","readUint8","useFetchTokens","renderUpgrading","Fragment","exact","initState","reducers","combineReducers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","createStore","Ontology","registerClient","position","positions","TOP_CENTER","ReactDOM","render","template","AlertTemplate","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.17dea2c4.chunk.js","sourcesContent":["var map = {\n\t\"./aes\": 271,\n\t\"./aes.js\": 271,\n\t\"./big\": 272,\n\t\"./big.js\": 272,\n\t\"./ctx\": 172,\n\t\"./ctx.js\": 172,\n\t\"./ecdh\": 273,\n\t\"./ecdh.js\": 273,\n\t\"./ecp\": 274,\n\t\"./ecp.js\": 274,\n\t\"./ecp2\": 275,\n\t\"./ecp2.js\": 275,\n\t\"./ff\": 276,\n\t\"./ff.js\": 276,\n\t\"./fp\": 277,\n\t\"./fp.js\": 277,\n\t\"./fp12\": 278,\n\t\"./fp12.js\": 278,\n\t\"./fp2\": 279,\n\t\"./fp2.js\": 279,\n\t\"./fp4\": 280,\n\t\"./fp4.js\": 280,\n\t\"./gcm\": 281,\n\t\"./gcm.js\": 281,\n\t\"./hash256\": 282,\n\t\"./hash256.js\": 282,\n\t\"./hash384\": 283,\n\t\"./hash384.js\": 283,\n\t\"./hash512\": 284,\n\t\"./hash512.js\": 284,\n\t\"./mpin\": 285,\n\t\"./mpin.js\": 285,\n\t\"./newhope\": 286,\n\t\"./newhope.js\": 286,\n\t\"./nhs\": 287,\n\t\"./nhs.js\": 287,\n\t\"./pair\": 288,\n\t\"./pair.js\": 288,\n\t\"./rand\": 289,\n\t\"./rand.js\": 289,\n\t\"./rom_curve\": 290,\n\t\"./rom_curve.js\": 290,\n\t\"./rom_field\": 291,\n\t\"./rom_field.js\": 291,\n\t\"./rsa\": 292,\n\t\"./rsa.js\": 292,\n\t\"./sha3\": 293,\n\t\"./sha3.js\": 293,\n\t\"./uint64\": 294,\n\t\"./uint64.js\": 294\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 593;","import React, { useState, useEffect } from 'react';\n\nconst Input = (props) => {\n  const { value = '', cls = '', round, disabled, decimals, inline = true, onChange } = props\n  const [val, setVal] = useState('')\n\n  useEffect(() => {\n    setVal(value)\n  //   if (value === '') {\n  //     setVal('')\n  //   } else if (`${value}`.endsWith('.')) {\n  //     setVal(value)\n  //   } else {\n  //     if (round === 'down') {\n  //       setVal(Math.floor(value * (10 ** decimals)) / (10 ** decimals))\n  //     } else if (round === 'up') {\n  //       setVal(Math.ceil(value * (10 ** decimals)) / (10 ** decimals))\n  //     }\n  //   }\n  }, [value])\n\n  const placeholder = decimals > 0 ? '0.0' : '0'\n  const formatter = (v, decimals = 9) => {\n    if (v === '' || v === '0') {\n      return v\n    } else {\n      const reg = (decimals > 0) ? new RegExp(\n        `^(([0-9]{0,20})|(([0]\\\\.\\\\d{0,${decimals}}|[0-9]{0,20}\\\\.\\\\d{0,${decimals}})))$`\n      ) : new RegExp('^[0-9]{0,20}$')\n      if (reg.test(v)) {\n        return v\n      } else {\n        return val\n      }\n    }\n  };\n  const handleInput = (e) => {\n    const formattedValue = formatter(e.target.value, decimals)\n\n    setVal(formattedValue)\n    typeof onChange === 'function' && onChange(formattedValue)\n  }\n\n  // const handleChange = (e) => {\n  //   typeof onChange === 'function' && onChange(e.target.value)\n  // }\n\n  return (\n    <input\n      className={`input ${inline ? 'inline-input' : ''} ${cls}`}\n      type=\"text\"\n      placeholder={placeholder}\n      value={val}\n      disabled={disabled}\n      onInput={(e) => handleInput(e)}\n      // onChange={(e) => handleChange(e)}\n    />\n  );\n};\n\nexport default Input;\n","export const NETWORK_TYPE = 'TEST'\nexport const GOVERNANCE_ADDRESS = '4ff0e29de750e612cf7195b00861b35191ac5bca'\nexport const API_BASE_URL = 'https://polarisexplorer.ont.io'\nexport const TRANSACTION_BASE_URL = 'https://explorer.ont.io/transaction/'\nexport const EVENT_API_BASE_URL = 'https://polaris1.ont.io:10334/api/v1/smartcode/event/txhash/'\nexport const TRANSACTION_AFTERFIX = '/testnet'\nexport const READY_TABS = ['/', '/swap', '/trade', '/governance', '/synth', '/option']","export const getQueryString = (search, name) => {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i')\n  const value = search.substr(1).match(reg)\n\n  if (value != null) {\n    return (value[2])\n  }\n\n  return null\n}\n\nexport const getHashString = (hash, name) => {\n  const reg = new RegExp(`(^|&|[/?]+)${name}=([^&]*)(&|$)`, 'i')\n  const value = hash.substr(1).match(reg)\n\n  if (value != null) {\n    return (value[2])\n  }\n\n  return null\n}\n\nexport function toLocaleFixed(num, n = 9) {\n  const priceNum = parseFloat(n === 0 ? Math.round(num).toFixed(n) : parseFloat(num).toFixed(n)).toString()\n  return priceNum && (priceNum.indexOf('.') !== -1 ? priceNum.replace(/(\\d)(?=(\\d{3})+\\.)/g, ($0, $1) => `${$1},`) : priceNum.replace(/(?=(\\B\\d{3})+$)/g, ','))\n}\n\nexport const formatAccount = (account = '') => {\n  return `${account.substr(0, 4)}...${account.substr(-4)}`\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { Link, useLocation } from 'react-router-dom'\nimport Input from '../input'\nimport { READY_TABS } from '../../config'\nimport { formatAccount } from '../../utils/common'\nimport './index.css'\n\nconst Header = (props) => {\n  const [selectedTab, setSelectedTab] = useState('')\n  const [showProfilePanel, setShowProfilePanel] = useState(false)\n  const { account, slippage } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage\n  }))\n  const [showSiteIntro, setShowSiteIntro] = useState(false)\n  const dispatch = useDispatch()\n  const setSlippage = useCallback((slippage) => dispatch({ type: 'SET_SLIPPAGE', slippage }), [])\n  const pathname = useLocation().pathname\n\n  const toggleShowSiteIntro = (show) => {\n    setShowSiteIntro(show)\n  }\n\n  useEffect(() => {\n    let tab = ''\n    if (pathname === '/' || pathname.indexOf('/staking') >= 0) {\n      tab = '/'\n    } else if (pathname.indexOf('/synth') >= 0) {\n      tab = '/synth'\n    } else if (pathname.indexOf('/swap') >= 0 || pathname.indexOf('/pool') >= 0) {\n      tab = '/swap'\n    } else if (pathname.indexOf('/trade') >= 0) {\n      tab = '/trade'\n    } else if (pathname.indexOf('/governance') >= 0) {\n      tab = '/governance'\n    } else if (pathname.indexOf('/token') >= 0) {\n      tab = '/token'\n    } else if (pathname.indexOf('/option') >= 0) {\n      tab = '/option'\n    }\n    \n    setSelectedTab(tab)\n  }, [pathname])\n\n  const renderSiteIntro = () => {\n    if (showSiteIntro) {\n      const href = `${window.location.origin}${window.location.pathname}#/trade?pair=pDAI%2FUNX`\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => toggleShowSiteIntro(false)}></div>\n            <p className=\"intro-line\">uniq-ex is a pure github based DAO dex, all activities are logged on github.</p>\n            <p className=\"intro-line\">You can open issues for discussion <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/uniq-ex/uniq-ex/issues\">here</a></p>\n            <p className=\"intro-line\">uniq-ex's future business will not be limited to exchanges though, we may enter various DeFi markets like compound or hegic.</p>\n            <p className=\"intro-line\">You can buy UNX(the governance token of uniq-ex) <a target=\"_blank\" rel=\"noreferrer\" href={href}>here</a></p>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  const onSignOut = () => {\n    setShowProfilePanel(false)\n    typeof props.onSignOut === 'function' && props.onSignOut()\n  }\n\n  const onConnectWallet = () => {\n    typeof props.onConnectWallet === 'function' && props.onConnectWallet()\n  }\n\n  const toggleProfilePanel = () => {\n    setShowProfilePanel(!showProfilePanel)\n  }\n\n  return (\n    <div className=\"header-wrapper\">\n      {renderSiteIntro()}\n      <div className=\"header\">\n        <div className=\"content-wrapper\">\n          <div className=\"logo-wrapper\">\n            UNIQ-EX\n            {/* <div className=\"site-intro\" onClick={() => toggleShowSiteIntro(true)}></div> */}\n          </div>\n          <div className=\"nav-list\">\n            { READY_TABS.indexOf('/') >= 0 ? <div className={`nav-item ${selectedTab === '/' ? 'selected' : ''}`}><Link to=\"/\">Staking</Link></div> : null }\n            { READY_TABS.indexOf('/synth') >= 0 ? <div className={`nav-item ${selectedTab === '/synth' ? 'selected' : ''}`}><Link to=\"/synth\">Synth</Link></div> : null }\n            { READY_TABS.indexOf('/swap') >= 0 ? <div className={`nav-item ${selectedTab === '/swap' ? 'selected' : ''}`}><Link to=\"/swap\">Swap</Link></div> : null }\n            { READY_TABS.indexOf('/trade') >= 0 ? <div className={`nav-item ${selectedTab === '/trade' ? 'selected' : ''}`}><Link to=\"/trade\">Trade</Link></div> : null }\n            { READY_TABS.indexOf('/governance') >= 0 ? <div className={`nav-item ${selectedTab === '/governance' ? 'selected' : ''}`}><Link to=\"/governance\">Governance</Link></div> : null }\n            { READY_TABS.indexOf('/token') >= 0 ? <div className={`nav-item ${selectedTab === '/token' ? 'selected' : ''}`}><Link to=\"/token\">Token</Link></div> : null }\n            { READY_TABS.indexOf('/option') >= 0 ? <div className={`nav-item ${selectedTab === '/option' ? 'selected' : ''}`}><Link to=\"/option\">Option</Link></div> : null }\n          </div>\n          <div className={`${account ? 'active' : ''} profile-wrapper`}>\n            { !account && <span className=\"connect-btn\" onClick={() => onConnectWallet()}>Connect Wallet</span>}\n            { account && <span className=\"account-address\" onClick={() => toggleProfilePanel()}>{formatAccount(account)}</span> }\n            {\n              showProfilePanel ? (\n                <div className=\"profile-panel\">\n                  <div className=\"setting-wrapper\">\n                    <div className=\"setting-section-title\">SLIPPAGE</div>\n                    <div className=\"slippage-setting\">\n                      <div className={`slippage-item ${Number(slippage) === 0.1 ? 'selected' : ''}`} onClick={() => setSlippage('0.1')}>0.1%</div>\n                      <div className={`slippage-item ${Number(slippage) === 0.5 ? 'selected' : ''}`} onClick={() => setSlippage('0.5')}>0.5%</div>\n                      <div className={`slippage-item ${Number(slippage) === 1 ? 'selected' : ''}`} onClick={() => setSlippage('1.0')}>1.0%</div>\n                      <div className=\"slippage-input-wrapper\">\n                        <Input value={slippage} cls=\"slippage-input\" decimals=\"2\" placeholder={slippage} onChange={(amount) => setSlippage(amount)} />%\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"signout-btn\" onClick={() => onSignOut()}>Sign Out</div>\n                </div>\n              ) : null\n            }\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header","import React, { useCallback } from 'react'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport './index.css'\n\nconst InfoModal = (props) => {\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-wrapper\">\n        <div className=\"close-btn\" onClick={() => props.onCloseModal()}></div>\n        <div className={`modal-icon-${props.type} modal-icon`}></div>\n        <div className={`modal-text-${props.type} modal-text`}>{props.text}</div>\n        { props.detail ? <div className=\"modal-detail\">{props.detail}</div> : null }\n        <div className=\"modal-extra-text\">\n        {\n          props.extraLink ? (\n            <a className=\"transaction-link\" target=\"_blank\" rel=\"noreferrer\" href={props.extraLink}>{props.extraText}</a>\n          ) : props.extraText\n        }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Modal = (props) => {\n  const { infoModal } = useMappedState((state) => ({\n    infoModal: state.modal.infoModal\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n\n  const onCloseInfoModal = () => {\n    setModal('infoModal', Object.assign({}, infoModal, { show: false }))\n  }\n\n  const buildModals = () => {\n    const modals = []\n    if (infoModal.show) {\n      modals.push(<InfoModal {...infoModal} onCloseModal={() => onCloseInfoModal()} />)\n    }\n    return modals\n  }\n\n  return (\n    <div className=\"modal-container\">\n      {buildModals()}\n    </div>\n  )\n}\n\nexport default Modal","import axios from 'axios'\nimport { API_BASE_URL } from '../config'\n\nconst instance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: { 'Content-Type': 'application/json' }\n})\n\ninstance.interceptors.response.use(\n  (response) => {\n    const res = response.data;\n    return res\n  },\n  (error) => {\n    return Promise.reject(error)\n  },\n)\n\nexport default instance","import { client } from '@ont-dev/ontology-dapi'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport Request from './request'\n\nconst { reverseHex } = utils\n\nexport const readBigNumberUint128 = (reader) => {\n  const hexRev = reverseHex(reader.read(16))\n  const str = hexRev.split('').reverse()\n  let total = new BigNumber(0)\n  \n  for (let i = 0; i < str.length; i++) {\n    total = total.plus(new BigNumber(16).pow(i).times(parseInt(str[i], 16)))\n  }\n\n  return total.isZero() ? 0 : total.toString()\n}\n\nexport const getTokenBalance = (account, token, cb) => {\n  \n  if (token.name !== 'ONT' && token.name !== 'ONG') {\n    const param = {\n      scriptHash: token.address,\n      operation: 'balanceOf',\n      args: [\n        {\n          type: 'Address',\n          value: account,\n        },\n      ],\n    }\n    let invokeMethod = client.api.smartContract.invokeRead\n\n    if (token.ty === 2 || token.ty === 3) {\n      invokeMethod = client.api.smartContract.invokeWasmRead\n    }\n    invokeMethod(param).then((bl) => {\n      if (bl) {\n        const str = reverseHex(bl).split('').reverse()\n        let total = new BigNumber(0)\n        \n        for (let i = 0; i < str.length; i++) {\n          total = total.plus(new BigNumber(16 ** i).times(parseInt(str[i], 16)))\n        }\n        \n        cb(total.div(10 ** token.decimals).toString())\n      }\n    })\n  } else {\n    Request({\n      method: 'get',\n      url: `/v2/addresses/${account}/native/balances`\n    }).then((resp) => {\n      if (resp.code === 0) {\n        const targetToken = resp.result.find((t) => t.asset_name === token.name.toLowerCase())\n        cb(targetToken.balance)\n      }\n    })\n    .catch((e) => {\n      console.log(e)\n    })\n  }\n}\n\nexport const getTokenIconDom = (token, cls = '') => {\n  if (token.id) {\n    return (\n      <div className={`token-icon-wrapper ${cls}`}>\n        {\n          token.ty === 3\n            ? token.name.split('-').slice(1).map((tokenName) => (<div key={`${token.name}-${tokenName}`} className={`token-icon-item with-drop-shadow icon-${tokenName}`} />))\n            : (<div className={`token-icon-item icon-${token.name}`} />)\n        }\n      </div>\n    )\n  }\n  return null\n}","export const handleError = (e, callback = () => {}) => {\n  try {\n    const json = JSON.parse(e)\n    if (json.Result === 'wasm contract does not exist') {\n      callback('CONTRACT_ADDRESS_ERROR')\n    }\n  } catch(error) {\n    // TODO\n  }\n}","export const PRICE_DECIMALS = 10 ** 9\nexport const SYNTH_PRICE_DECIMALS = 10 ** 12\nexport const DAI_PRICE = 1\nexport const TRANSACTION_FEE_RATE = 0.001\nexport const ASSET_STATUS = {\n  Live: '00',\n  HighLimit: '01',\n  LowLimit: '02'\n}\nexport const LEVERAGE_TYPE = {\n  Positive: '00',\n  Negative: '01'\n}","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { readBigNumberUint128, getTokenBalance } from '../../utils/token'\nimport Input from '../../components/input'\nimport { handleError } from '../../utils/errorHandle'\nimport { getHashString } from '../../utils/common'\nimport { PRICE_DECIMALS } from '../../utils/constants'\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../config'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Transaction = () => {\n  const [pairNameKeyword, setPairNameKeyword] = useState('')\n  // const [pairs, setPairs] = useState([])\n  // const [tokenPair, setTokenPair] = useState({})\n  const [showPairSelectModal, setShowPairSelectModal] = useState(false)\n  // const [tradeType, setTradeType] = useState('buy')\n  const [tokenBalance, setTokenBalance] = useState('-')\n  // const [makes, setMakes] = useState([])\n  // const [myMakes, setMyMakes] = useState([])\n  // const [makeView, setMakeView] = useState('all')\n  const [price, setPrice] = useState('')\n  const [amount, setAmount] = useState('')\n  const [total, setTotal] = useState('')\n  // const [pool, setPool] = useState([])\n  // const [lastPrice, setLastPrice] = useState(0)\n  // const [feeRate, setFeeRate] = useState(0)\n  const [isValid, setIsValid] = useState(false)\n  const { account, stopInterval, tokens, makes, myMakes, pairs, tradeType, tokenPair, makeView, pool, lastPrice, feeRate, CONTRACT_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    stopInterval: state.common.stopInterval,\n    tokens: state.common.tokens,\n    ...state.trade,\n    CONTRACT_ADDRESS: state.gov.poolStat.pools.dex.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const setStopInterval = useCallback((stopInterval) => dispatch({ type: 'SET_STOP_INTERVAL', stopInterval }), [])\n  const setMakes = useCallback((makes) => dispatch({ type: 'SET_TRADE_MAKES', makes }), [])\n  const setMyMakes = useCallback((myMakes) => dispatch({ type: 'SET_TRADE_MY_MAKES', myMakes }), [])\n  const setPairs = useCallback((pairs) => dispatch({ type: 'SET_TRADE_PAIRS', pairs }), [])\n  const setTokenPair = useCallback((tokenPair) => dispatch({ type: 'SET_TRADE_TOKEN_PAIR', tokenPair }), [])\n  const setTradeType = useCallback((tradeType) => dispatch({ type: 'SET_TRADE_TYPE', tradeType }), [])\n  const setMakeView = useCallback((makeView) => dispatch({ type: 'SET_TRADE_MAKE_VIEW', makeView }), [])\n  const setPool = useCallback((pool) => dispatch({ type: 'SET_TRADE_POOL', pool }), [])\n  const setLastPrice = useCallback((lastPrice) => dispatch({ type: 'SET_TRADE_LAST_PRICE', lastPrice }), [])\n  const setFeeRate = useCallback((feeRate) => dispatch({ type: 'SET_TRADE_FEE_RATE', feeRate }), [])\n\n  const Alert = useAlert()\n\n  const urlPairName = decodeURIComponent(getHashString(window.location.hash, 'pair') || '') || (localStorage.getItem('trade_token_pair') || '')\n\n  useEffect(() => {\n    if (pairs.length && !tokenPair.name) {\n      setTokenPair(pairs.find((p) => p.name === `${urlPairName}`) || pairs.find((p) => p.name === 'pDAI/UNX') || pairs.find((p) => p.name === 'UNX/pDAI'))\n    }\n  }, [pairs])\n\n  useEffect(() => {\n    if (account && tokenPair.name) {\n      setTokenBalance('-')\n      getTokenBalance(account, tradeType === 'buy' ? tokenPair.tokens[1] : tokenPair.tokens[0], (bl) => {\n        setTokenBalance(bl)\n      })\n    }\n  }, [account, tokenPair, tradeType])\n\n  useEffect(() => {\n    async function getMakesOfPair() {\n      if (tokenPair.name && CONTRACT_ADDRESS) {\n        try {\n          const makeStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'get_makes_of_pair',\n            args: [\n              {\n                type: 'Long',\n                value: tokenPair.tokens[0].id\n              },\n              {\n                type: 'Long',\n                value: tokenPair.tokens[1].id\n              }\n            ]\n          })\n          const parsedMakes = []\n          const strReader = new StringReader(makeStr)\n          const pairLastPrice = strReader.readUint128()\n  \n          for (let j = 0; j <= 1; j++) {\n            const makeCount = strReader.readNextLen()\n            for (let i = 0; i < makeCount; i++) {\n              const make = {}\n              make.make_id = strReader.readUint128()\n              make.price = strReader.readUint128()\n              make.amount = new BigNumber(strReader.readUint128()).toString()\n              make.asset_token_id = (j === 0 ? tokenPair.tokens[0].id : tokenPair.tokens[1].id)\n              make.price_token_id = (j === 0 ? tokenPair.tokens[1].id : tokenPair.tokens[0].id)\n      \n              parsedMakes.push(make)\n            }\n          }\n  \n          setLastPrice(pairLastPrice ? new BigNumber(pairLastPrice).div(PRICE_DECIMALS).toString() : 0)\n          setMakes(parsedMakes)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get makes of pair', e)\n            }\n          })\n        }\n      }\n    }\n    getMakesOfPair()\n    const interval = !stopInterval && setInterval(getMakesOfPair, 2000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokenPair, account, stopInterval, CONTRACT_ADDRESS])\n\n  useEffect(() => {\n    async function getUserMakes() {\n      if (account && CONTRACT_ADDRESS) {\n        try {\n          const makeStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'get_user_makes',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n          const parsedMakes = []\n          const strReader = new StringReader(makeStr)\n          const makeCount = strReader.readNextLen()\n          for (let i = 0; i < makeCount; i++) {\n            const make = {}\n            make.address = client.api.utils.hexToAddress(strReader.read(20))\n            make.asset_token_id = strReader.readUint128()\n            make.price_token_id = strReader.readUint128()\n            make.price = strReader.readUint128()\n            make.amount = strReader.readUint128()\n            make.make_id = strReader.readUint128()\n  \n            parsedMakes.push(make)\n          }\n  \n          setMyMakes(parsedMakes)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get user makes', e)\n            }\n          })\n        }\n      }\n    }\n\n    getUserMakes()\n    const interval = !stopInterval && setInterval(getUserMakes, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokenPair, account, stopInterval, CONTRACT_ADDRESS])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length && CONTRACT_ADDRESS) {\n        try {\n          const statStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'stat',\n            args: []\n          })\n          \n          const tokenPool = []\n          const strReader = new StringReader(statStr)\n          setFeeRate(strReader.readUint128())\n          const tokenCount = strReader.readNextLen()\n  \n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            token.id = strReader.readUint128()\n            const tempToken = tokens.find((t) => t.id === token.id)\n            token.weight = strReader.readUint128()\n            token.balance = new BigNumber(readBigNumberUint128(strReader)).div(new BigNumber(10 ** tempToken.decimals)).toString()\n  \n            tokenPool.push(Object.assign(tempToken, token))\n          }\n\n          if (!pairs.length) {\n            const tokenPairs = []\n            for (let i = 0; i < tokenPool.length; i++) {\n              for (let j = i + 1; j < tokenPool.length; j++) {\n                if (tokenPool[i].weight > tokenPool[j].weight || (tokenPool[i].weight === tokenPool[j].weight && tokenPool[i].id > tokenPool[j].id)) {\n                  tokenPairs.push({\n                    name: `${tokenPool[j].name}/${tokenPool[i].name}`,\n                    tokens: [tokenPool[j], tokenPool[i]]\n                  })\n                } else {\n                  tokenPairs.push({\n                    name: `${tokenPool[i].name}/${tokenPool[j].name}`,\n                    tokens: [tokenPool[i], tokenPool[j]]\n                  })\n                }\n              }\n            }\n\n            setPairs(tokenPairs)\n          }\n\n          setPool(tokenPool)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get stat', e)\n            }\n          })\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(() => {\n      if (stopInterval) {\n        clearInterval(interval)\n      } else {\n        getStat()\n      }\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [tokens, pairs, stopInterval, CONTRACT_ADDRESS])\n\n  useEffect(() => {\n    if (price > 0 && amount > 0) {\n      setTotal(new BigNumber(price).times(amount).toString())\n    }\n  }, [price, amount])\n\n  useEffect(() => {\n    if (price > 0) {\n      setAmount(new BigNumber(total || 0).div(price).toString())\n    }\n  }, [total])\n\n  useEffect(() => {\n    if (tokenPair.name && price > 0 && amount > 0) {\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }, [tokenPair, amount, price])\n\n  useEffect(() => {\n    setMakeView('all')\n  }, [account])\n\n  function onChangeToUserMakeView() {\n    if (account) {\n      setMakeView('my')\n    } else {\n      Alert.show('Please Connect Wallet First')\n    }\n  }\n\n  function getMakes(type) {\n    if (tokenPair.name) {\n      const curMakes = (makeView === 'my' ? myMakes : makes)\n      if (type === 'sell') {\n        return curMakes.filter((m) => m.asset_token_id === tokenPair.tokens[0].id && m.price_token_id === tokenPair.tokens[1].id).map((m) => {\n          const isMine = makeView !== 'my' && !!myMakes.find((mm) => m.make_id === mm.make_id)\n          return (\n            <div key={m.make_id} className={`my-make-item reverse ${isMine ? 'mine' : ''}`}>\n              <div className=\"make-item-detail make-sell\">{new BigNumber(m.price).div(PRICE_DECIMALS).toString()}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div((10 ** tokenPair.tokens[0].decimals)).toString()}</div>\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      } else {\n        return curMakes.filter((m) => m.asset_token_id === tokenPair.tokens[1].id && m.price_token_id === tokenPair.tokens[0].id).map((m) => {\n          const isMine = makeView !== 'my' && !!myMakes.find((mm) => m.make_id === mm.make_id)\n          return (\n            <div key={m.make_id} className={`my-make-item ${isMine ? 'mine' : ''}`}>\n              <div className=\"make-item-detail make-buy\">{new BigNumber(m.price).div(PRICE_DECIMALS).toString()}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div(m.price).times(PRICE_DECIMALS).div((10 ** tokenPair.tokens[1].decimals)).toString()}</div>\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>Cancel</div> }\n            </div>)\n        })\n      }\n    }\n    return null\n  }\n\n\n\n  async function onMake() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (tokenPair.name && CONTRACT_ADDRESS) {\n      if (price <= 0) {\n        Alert.error('Price should be greater than 0')\n        return\n      }\n      if (amount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const assetToken = tradeType === 'buy' ? tokenPair.tokens[1] : tokenPair.tokens[0]\n        const priceToken = tradeType === 'buy' ? tokenPair.tokens[0] : tokenPair.tokens[1]\n        // const tradePrice = tradeType === 'buy' ? new BigNumber(1).div(price).toString() : price\n        const tradeAmount = tradeType === 'buy' ? total : amount\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: assetToken.id\n          },\n          {\n            type: 'Long',\n            value: priceToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(price).times(PRICE_DECIMALS).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(tradeAmount).times(new BigNumber(10 ** assetToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const makeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'make',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (makeResult.transaction) {\n          setAmount('')\n          setPrice('')\n          setTotal('')\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${makeResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onUnmake(makeId) {\n    if (account && makeId && CONTRACT_ADDRESS) {\n      try {\n        const unmakeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'unmake',\n          args: [\n            {\n              type: 'Address',\n              value: account\n            },\n            {\n              type: 'Long',\n              value: makeId\n            }\n          ],\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n        if (unmakeResult.transaction) {\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${unmakeResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function getPriceHint() {\n    if (tokenPair.name) {\n      return tokenPair.tokens[1].name\n    }\n  }\n\n  function getAmountHint() {\n    if (tokenPair.name) {\n      return tokenPair.tokens[0].name\n    }\n  }\n\n  function generateTokenPool() {\n    if (pool.length) {\n      return pool.filter((tp) => Number(tp.balance) !== 0).map((tp) => {\n        return (\n          <div className=\"pool-item\" key={tp.name}>\n            <div className={`icon-${tp.name} token-name`}>{tp.name}</div>\n            <div className=\"token-balance\">{tp.balance}</div>\n          </div>\n        )\n      })\n    }\n  }\n\n  const handlePairClick = (pair) => {\n    setTokenPair(pair)\n    localStorage.setItem('trade_token_pair', pair.name)\n    setShowPairSelectModal(false)\n  }\n\n  return (\n    <div className=\"swap-wrapper\">\n      <div className=\"trade-container\">\n        <div className=\"make-wrapper\">\n          <div className=\"container-header\">Trade\n            {\n              tokenPair.name ? (\n                <div className=\"token-pair-select\" onClick={() => setShowPairSelectModal(true)}>\n                  <div className=\"token-pair-name\">{tokenPair.name}</div>\n                </div>\n              ) : null\n            }\n          </div>\n          <div className=\"trade-type-switch\">\n            <div className={`trade-type-item ${tradeType === 'buy' ? 'trade-buy' : ''}`} onClick={() => setTradeType('buy')}>Buy</div>\n            <div className={`trade-type-item ${tradeType === 'sell' ? 'trade-sell' : ''}`} onClick={() => setTradeType('sell')}>Sell</div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Price\n              <span className=\"hint\">{getPriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <Input placeholder=\"0.0\" value={price} decimals=\"9\" onChange={(amount) => setPrice(amount)} />\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Amount\n              <span className=\"hint\">{getAmountHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <Input placeholder=\"0.0\" value={amount} decimals={tokenPair.tokens ? tokenPair.tokens[0].decimals : '9'} onChange={(amount) => setAmount(amount)} />\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">Total {tradeType === 'buy' ? 'Need' : 'Receive'}\n              <span className=\"hint\">{getPriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <Input placeholder=\"0.0\" value={total} decimals=\"9\" onChange={(amount) => setTotal(amount)} />\n            </div>\n          </div>\n          { tokenPair.name ? <div className=\"balance-line\">Balance: <span>{tokenBalance} {tradeType === 'buy' ? tokenPair.tokens[1].name : tokenPair.tokens[0].name}</span></div> : null }\n          { feeRate ? <p className=\"fee-rate\">* The fee rate of transaction is {feeRate / 100}%</p> : null }\n          { isValid ? <div className={`make-btn make-btn-${tradeType}`} onClick={() => onMake()}>{tradeType.toUpperCase()} {tokenPair.tokens[0].name}</div> : <div className=\"make-btn disabled\">{tradeType.toUpperCase()} {tokenPair.tokens ? tokenPair.tokens[0].name : ''}</div> }\n        </div>\n        <div className=\"trade-panel\">\n          <div className=\"panel-header\">\n            <div className=\"panel-title\">Order Book</div>\n            <div className=\"tabs\">\n              <div className={makeView === 'all' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => setMakeView('all')}>All</div>\n              <div className={makeView === 'my' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => onChangeToUserMakeView()}>My</div>\n            </div>\n          </div>\n          <div className=\"list-title\">\n            <div className=\"blank-placeholder\"></div>\n            <div className=\"title-items\">\n              <div className=\"item-text\">Price ({getPriceHint()})</div>\n              <div className=\"item-text\">Amount ({getAmountHint()})</div>\n              { makeView === 'my' && <div className=\"item-placeholder\"></div> }\n            </div>\n          </div>\n          <div className=\"sell-section\">\n            <div className=\"section-title\">Sell</div>\n            <div className=\"make-list reverse\">\n            {getMakes('sell')}\n            </div>\n          </div>\n          {\n            (makeView === 'all' && Number(lastPrice) !== 0) ? <div className=\"last-price-wrapper\">\n              <div className=\"last-price-label\">Last Price</div>\n              <div className=\"last-price\">{lastPrice}</div>\n              <div className=\"last-price-placeholder\"></div>\n            </div> : null\n          }\n          <div className=\"buy-section\">\n            <div className=\"section-title\">Buy</div>\n            <div className=\"make-list\">\n            {getMakes('buy')}\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        pool.filter((tp) => Number(tp.balance) !== 0).length ? (\n          <div className=\"token-pool\">\n            <div className=\"container-header\">Token Balance</div>\n            <div className=\"pool-items\">\n            {generateTokenPool()}\n            </div>\n          </div>\n        ) : null\n      }\n      {\n        showPairSelectModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => setShowPairSelectModal(false)}></div>\n              <div className=\"pair-select-modal-wrapper\">\n                <div className=\"pair-select-modal-title\">Select</div>\n                <input type=\"text\" className=\"pair-select-modal-input\" value={pairNameKeyword} onInput={(e) => setPairNameKeyword(e.target.value)} />\n                <div className=\"pair-select-modal-list\">\n                  {\n                    pairs.filter((p) => {\n                      const nameLC = p.name.toLowerCase()\n                      const tNames = pairNameKeyword.split(' ').filter((n) => n)\n                      \n                      return tNames.reduce((a, b) => a && nameLC.indexOf(b) >= 0, true)\n                    }).map((p) => {\n                      return (\n                        <div key={p.name} className=\"pair-select-modal-list-item\" onClick={() => handlePairClick(p)}>\n                          {\n                            p.tokens.map((t) => <div key={`${p.name}-${t.name}`} className={`pair-select-modal-list-item-icon icon-${t.name}`}></div>)\n                          }\n                          <div className=\"pair-select-modal-list-item-name\">{p.name}</div>\n                        </div>\n                      )\n                    })\n                  }\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n    </div>\n  )\n}\n\nexport default Transaction","import React, { useState, useEffect } from 'react'\nimport { useMappedState } from 'redux-react-hook';\nimport Select, { components } from 'react-select'\nimport Input from '../input'\nimport { getTokenBalance } from '../../utils/token'\n\nimport './index.css'\n\nconst TokenInput = (props) => {\n  const { cls, value, round, tokens = [], defaultToken, inputDisabled = false, showBalance = true, withMax = true, onTokenChange, onAmountChange, balanceChange = 0 } = props\n  const [token, setToken] = useState(defaultToken || {})\n  const [balance, setBalance] = useState('-')\n  const { account } = useMappedState((state) => ({\n    account: state.wallet.account\n  }))\n\n  useEffect(() => {\n    if (account && showBalance && token.id) {\n      getTokenBalance(account, token, setBalance)\n    }\n  }, [token, showBalance, account, balanceChange])\n\n  const handleTokenChange = (e) => {\n    if (e.value !== token.id) {\n      const newToken = tokens.find((t) => t.id === e.value)\n\n      setToken(newToken)\n      typeof onTokenChange === 'function' && onTokenChange(newToken)\n    }\n  }\n\n  const renderTokenSeletion = (dToken) => {\n    if (tokens.length) {\n      const CustomOption = (props) => {\n        const label = props.label.split(' ')[0]\n        return (\n          <components.Option {...props}>\n            <div className=\"option-wrapper\">\n              <div className={`icon-${label} option-icon`}></div>\n              <div className=\"option-label\">{props.label}</div>\n            </div>\n          </components.Option>\n        )\n      }\n      const SingleValue = ({ children, ...props }) => {\n        const label = children.split(' ')[0]\n        return (\n          <components.SingleValue {...props}>\n            <div className=\"option-wrapper\">\n              <div className={`icon-${label} option-icon`}></div>\n              <div className=\"option-label\">{children}</div>\n            </div>\n          </components.SingleValue>\n        )\n      }\n      let defaultToken = dToken ? dToken : tokens[0]\n\n      if (!token.id || !tokens.find((t) => t.id === token.id)) {\n        setToken(defaultToken)\n      }\n\n      return (\n        <Select\n          className={`token-select ${cls}`}\n          defaultValue={defaultToken}\n          options={tokens}\n          isSearchable={false}\n          components={{ Option: CustomOption, SingleValue }}\n          onChange={(e) => handleTokenChange(e)}\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary: '#2c2c2c',\n            },\n          })}\n        />\n      )\n    }\n  }\n\n  const maxInput = () => {\n    if (!isNaN(balance) && typeof onAmountChange === 'function') {\n      onAmountChange(balance)\n    }\n  }\n\n  return (\n    <div className=\"token-input-wrapper\">\n      <div className=\"input-label\">{props.label || 'Input'}\n        { showBalance ? <span className=\"hint\">Balance: {balance}</span> : null }\n      </div>\n      <div className=\"input-wrapper\">\n        { renderTokenSeletion(defaultToken) }\n        <Input decimals={token.decimals} disabled={inputDisabled} value={value} round={round} onChange={(value) => onAmountChange(value)} />\n        { withMax && <div className=\"input-max-btn\" onClick={() => maxInput()}>MAX</div> }\n      </div>\n    </div>\n  )\n}\n\nexport default TokenInput\n","import { useEffect, useCallback } from 'react'\nimport { client } from '@ont-dev/ontology-dapi'\nimport { utils } from 'ontology-ts-sdk'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { readBigNumberUint128 } from '../utils/token'\n\nconst { StringReader, reverseHex } = utils\n\nexport const useFetchPairs = () => {\n  const { account, tokens, swapTokens, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    swapTokens: state.swap.tokens,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setSwapTokens = useCallback((tokens) => dispatch({ type: 'SET_SWAP_TOKENS', tokens }), [])\n  const setPairs = useCallback((pairs) => dispatch({ type: 'SET_PAIRS', pairs }), [])\n\n  useEffect(() => {\n    getSwapStat()\n    let interval = setInterval(getSwapStat, 3000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, tokens, swapTokens, SWAP_ADDRESS])\n\n  async function getSwapStat() {\n    if (SWAP_ADDRESS) {\n      try {\n        const pairStr = await client.api.smartContract.invokeWasmRead({\n          scriptHash: SWAP_ADDRESS,\n          operation: 'stat',\n          args: []\n        })\n\n        const parsedPairs = []\n        const strReader = new StringReader(pairStr)\n        const pairCount = strReader.readNextLen()\n        for (let i = 0; i < pairCount; i++) {\n          const pair = {}\n          pair.address = reverseHex(strReader.read(20))\n          pair.token1 = strReader.readUint128()\n          pair.token2 = strReader.readUint128()\n          pair.id = strReader.readUint128()\n          pair.reserve1 = readBigNumberUint128(strReader)\n          pair.reserve2 = readBigNumberUint128(strReader)\n          pair.lp = readBigNumberUint128(strReader)\n\n          parsedPairs.push(pair)\n        }\n\n        const tokenIds = []\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          tokenIds.push(strReader.readUint128())\n        }\n\n        setPairs(parsedPairs)\n        if (tokens.length && !swapTokens.length) {\n          setSwapTokens(tokenIds.map((t) => tokens.find((tk) => tk.id === t)))\n        }\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  return null\n}","import BigNumber from 'bignumber.js'\n\nconst REST = 0.997\n\nexport const findAllPaths = (pairs, sourceId, targetId) => {\n  let pathArr = []\n  const findPath = (sourceId, targetId, pathNodes = []) => {\n    pathNodes = [...pathNodes]\n    pathNodes.push(sourceId)\n\n    if (sourceId === targetId) {\n      pathArr.push(pathNodes)\n      return\n    }\n\n    let neighborNodes = []\n    pairs.map((p) => {\n      if (p.token1 === sourceId) {\n        neighborNodes.push(p.token2)\n      } else if (p.token2 === sourceId) {\n        neighborNodes.push(p.token1)\n      }\n    })\n\n    for (let id of neighborNodes) {\n      if (!pathNodes.includes(id)) {\n        findPath(id, targetId, pathNodes)\n      }\n    }\n  }\n\n  findPath(sourceId, targetId)\n\n  pathArr.sort((p1, p2) => {\n    return p1.length - p2.length\n  })\n  \n  return pathArr\n}\n\nconst getInputAmount = (output, pair, reverse = false) => {\n  let amount\n  if (reverse) {\n    amount = new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(pair.reserve1).minus(output)).minus(pair.reserve2).div(REST).integerValue(BigNumber.ROUND_CEIL).toString()\n  } else {\n    amount = new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(pair.reserve2).minus(output)).minus(pair.reserve1).div(REST).integerValue(BigNumber.ROUND_CEIL).toString()\n  }\n  return amount\n}\n\nconst getOutputAmount = (input, pair, reverse = false) => {\n  let amount\n  if (reverse) {\n    amount = new BigNumber(pair.reserve1).minus(new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(input).times(REST).plus(pair.reserve2))).integerValue(BigNumber.ROUND_FLOOR).toString()\n  } else {\n    amount = new BigNumber(pair.reserve2).minus(new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(input).times(REST).plus(pair.reserve1))).integerValue(BigNumber.ROUND_FLOOR).toString()\n  }\n  return amount\n}\n\nconst findNextOutput = (input, pairs, token1, token2) => {\n  let pair = pairs.find((p) => p.token1 === token1 && p.token2 === token2)\n\n  if (pair) {\n    return getOutputAmount(input, pair)\n  }\n\n  pair = pairs.find((p) => p.token1 === token2 && p.token2 === token1)\n\n  if (pair) {\n    return getOutputAmount(input, pair, true)\n  }\n}\n\nconst findPrevInput = (output, pairs, token1, token2) => {\n  let pair = pairs.find((p) => p.token1 === token1 && p.token2 === token2)\n\n  if (pair) {\n    return getInputAmount(output, pair)\n  }\n\n  pair = pairs.find((p) => p.token1 === token2 && p.token2 === token1)\n\n  if (pair) {\n    return getInputAmount(output, pair, true)\n  }\n}\n\nexport const bestSwap = (type = 'exactin', amount, pairs, token1, token2) => {\n  const paths = findAllPaths(pairs, token1, token2)\n  const originAmount = amount\n  let maxOutput = 0\n  let minInput = Infinity\n  let path = []\n  \n  for (let i = 0; i < paths.length; i++) {\n    amount = originAmount\n    if (type === 'exactin') {\n      for (let j = 0; j < paths[i].length - 1; j++) {\n        amount = findNextOutput(amount, pairs, paths[i][j], paths[i][j + 1])\n      }\n  \n      if (new BigNumber(amount).gt(new BigNumber(maxOutput))) {\n        maxOutput = amount\n        path = paths[i]\n      }\n    } else {\n      for (let j = paths[i].length - 1; j > 0; j--) {\n        amount = findPrevInput(amount, pairs, paths[i][j - 1], paths[i][j])\n      }\n  \n      if (new BigNumber(amount).lt(new BigNumber(minInput)) && amount > 0) {\n        minInput = amount\n        path = paths[i]\n      }\n    }\n  }\n\n  if (type === 'exactin') {\n    return [maxOutput, path]\n  } else if (type === 'exactout') {\n    return [minInput, path]\n  }\n}\n","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { useAlert } from 'react-alert'\nimport BigNumber from 'bignumber.js'\nimport TokenInput from '../../components/tokenInput'\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../config'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport { toLocaleFixed } from '../../utils/common'\nimport { bestSwap } from '../../utils/swap'\nimport './index.css'\n\nconst Swap = () => {\n  const [swapType, setSwapType] = useState('exactin')\n  const [token1, setToken1] = useState({})\n  const [token2, setToken2] = useState({})\n  const [token1Amount, setToken1Amount] = useState('')\n  const [token2Amount, setToken2Amount] = useState('')\n  const [isValidPair, setIsValidPair] = useState(false)\n  const [isValidSwap, setIsValidSwap] = useState(false)\n  const [bestPath, setBestPath] = useState([])\n  const [showPrice, setShowPrice] = useState(false)\n  const [balanceChange, setBalanceChange] = useState(0)\n  const { account, slippage, pairs, swapTokens, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage,\n    pairs: state.swap.pairs,\n    swapTokens: state.swap.tokens,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const Alert = useAlert()\n  const history = useHistory()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (token1.id !== token2.id && token1Amount > 0 && token2Amount > 0 && bestPath.length) {\n      setShowPrice(true)\n      setIsValidSwap(true)\n    } else {\n      setShowPrice(false)\n      setIsValidSwap(false)\n    }\n  }, [token1, token2, token1Amount, token2Amount, bestPath])\n\n  useEffect(() => {\n    if (swapTokens.length) {\n      setToken1(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI')))\n      setToken2(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX')))\n    }\n  }, [swapTokens])\n\n  useEffect(() => {\n    if (token1.id && token2.id && validPair(token1.id, token2.id)) {\n      setIsValidPair(true)\n    } else {\n      setIsValidPair(false)\n    }\n  }, [token1, token2])\n\n  function validPair(token1, token2) {\n    if (pairs.length) {\n      if (token1 && token2 && pairs.find((p) => (p.token1 === token1 && p.token2 === token2) || (p.token1 === token2 && p.token2 === token1))) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function onChangeToken1(token) {\n    if (token.id !== token1.id) {\n      setToken1(token)\n      localStorage.setItem('swap_token1', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onChangeToken2(token) {\n    if (token.id !== token2.id) {\n      setToken2(token)\n      localStorage.setItem('swap_token2', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onToken1AmountChange(amount) {\n    if (amount !== token1Amount) {\n      setSwapType('exactin')\n      setToken1Amount(amount)\n      if (pairs.length && amount) {\n        const inputAmount = new BigNumber(amount).times(10 ** token1.decimals).toString()\n        const [maxOutput, path] = bestSwap('exactin', inputAmount, pairs, token1.id, token2.id)\n\n        setToken2Amount(new BigNumber(maxOutput).div(10 ** token2.decimals).toString())\n        setBestPath(path)\n      } else if (Number(amount) === 0) {\n        setToken2Amount('')\n      }\n    }\n  }\n\n  function onToken2AmountChange(amount) {\n    if (amount !== token2Amount) {\n      setSwapType('exactout')\n      setToken2Amount(amount)\n      if (pairs.length && amount) {\n        const outputAmount = amount * (10 ** token2.decimals)\n        const [minInput, path] = bestSwap('exactout', outputAmount, pairs, token1.id, token2.id)\n\n        if (minInput === Infinity) {\n          setToken1Amount('')\n        } else {\n          setToken1Amount(new BigNumber(minInput).div(10 ** token1.decimals).toString())\n        }\n        setBestPath(path)\n      } else if (Number(amount) === 0) {\n        setToken1Amount('')\n      }\n    }\n  }\n\n  function onNavigateToPool() {\n    history.push('/pool')\n  }\n\n  async function handleSwap() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (token1Amount <= 0 || token2Amount <= 0) {\n      Alert.error('Amount should be greater than 0')\n      return\n    }\n    if (token1.id && token1.id === token2.id) {\n      Alert.error('Input should be different')\n      return\n    }\n\n    if (SWAP_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(new BigNumber(10 ** token1.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(new BigNumber(10 ** token2.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Array',\n            value: bestPath.map((p) => ({ type: 'Long', value: p }))\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const swapResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SWAP_ADDRESS,\n          operation: swapType === 'exactin' ? 'swap_exact_tokens_for_tokens' : 'swap_tokens_for_exact_tokens',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (swapResult.transaction) {\n          setBalanceChange(balanceChange + 1)\n          setToken1Amount('')\n          setToken2Amount('')\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${swapResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function getPrice() {\n    return `${toLocaleFixed(token2Amount / token1Amount, 6)} ${token2.name} per ${token1.name}`\n  }\n\n  function getMinReceiveOrMaxSold() {\n    if (swapType === 'exactin') {\n      return <p>Minimum Received:<span>{toLocaleFixed(token2Amount * (1 - slippage / 100), 6)} {token2.name}</span></p>\n    } else {\n      return <p>Maximum Sold:<span>{toLocaleFixed(token1Amount * (1 + slippage / 100), 6)} {token1.name}</span></p>\n    }\n  }\n\n  function getPriceImpact() {\n    let price\n    let pair = pairs.find((p) => p.token1 === token1.id && p.token2 === token2.id)\n\n    if (pair) {\n      price = new BigNumber(pair.reserve2).div(10 ** token2.decimals).div(pair.reserve1).times(10 ** token1.decimals).toString()\n    } else {\n      pair = pairs.find((p) => p.token1 === token2.id && p.token2 === token1.id)\n\n      if (pair) {\n        price = new BigNumber(pair.reserve1).div(10 ** token1.decimals).div(pair.reserve2).times(10 ** token2.decimals).toString()\n      }\n    }\n\n    return <p>Price Impact:<span>{Math.abs((token2Amount / token1Amount - price) / price * 100).toFixed(2)}%</span></p>\n  }\n\n  function getBestPath() {\n    if (bestPath.length) {\n      const items = []\n      bestPath.map((t, index) => {\n        const token = swapTokens.find((tk) => tk.id === t)\n        index > 0 && items.push((<div className=\"icon-arrow-right\"></div>))\n        items.push((<div className={`path-icon icon-${token.name}`}>{token.name}</div>))\n\n        return t\n      })\n\n      return items\n    }\n  }\n\n  return (\n    <div className=\"sw-wrapper\">\n      <div className=\"sw-container\">\n        <div className=\"sw-tabs\">\n          <div className=\"sw-tab active\">Swap</div>\n          <div className=\"sw-tab\" onClick={() => onNavigateToPool()}>Pool</div>\n        </div>\n        <div className=\"sw-content\">\n          <TokenInput\n            balanceChange={balanceChange}\n            label=\"From\"\n            tokens={swapTokens}\n            value={token1Amount}\n            round='up'\n            defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI'))}\n            onTokenChange={(token) => onChangeToken1(token)}\n            onAmountChange={(amount) => onToken1AmountChange(amount)} />\n          <div className=\"icon-arrow-down\"></div>\n          <TokenInput\n            balanceChange={balanceChange}\n            label=\"To\"\n            tokens={swapTokens}\n            value={token2Amount}\n            round='down'\n            defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX'))}\n            onTokenChange={(token) => onChangeToken2(token)}\n            onAmountChange={(amount) => onToken2AmountChange(amount)} />\n          { showPrice ? <div className=\"sw-price-wrapper\">Price<span className=\"sw-price-info\">{getPrice()}</span></div> : null }\n          { isValidPair ? null : <div className=\"add-liquidity-hint\">Add liquidity to enable swaps for this pair.</div> }\n          { isValidPair ? ( isValidSwap ? <div className=\"sw-swap-btn\" onClick={() => handleSwap()}>Swap</div> : <div className=\"sw-swap-btn disabled\">Swap</div> ) : <div className=\"sw-swap-btn disabled\">Invalid Liquidity</div> }\n        </div>\n        {\n          isValidPair && isValidSwap ? (\n            <div className=\"sw-hint-wrapper\">\n              <div className=\"sw-input-output\">{getMinReceiveOrMaxSold()}</div>\n              <div className=\"sw-price-impact\">{getPriceImpact()}</div>\n              <div className=\"sw-best-path\">\n                <p>Route:</p>\n                <div className=\"sw-best-path-list\">\n                  {getBestPath()}\n                </div>\n              </div>\n            </div>\n          ) : null\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Swap\n","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { useMappedState } from 'redux-react-hook';\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { readBigNumberUint128 } from '../../utils/token'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Pool = () => {\n  const [liquidityBalance, setLiquidityBalance] = useState([])\n  const { account, tokens, pairs, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    pairs: state.swap.pairs,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n\n  const history = useHistory()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (account && pairs.length && SWAP_ADDRESS) {\n      const getLiquidityBalanceByPairId = (id) => {\n        return client.api.smartContract.invokeWasmRead({\n          scriptHash: SWAP_ADDRESS,\n          operation: 'balanceOf',\n          args: [\n            {\n              type: 'Long',\n              value: id\n            },\n            {\n              type: 'Address',\n              value: account\n            }\n          ]\n        }).then((resp) => {\n          const strReader = new StringReader(resp)\n          const balance = readBigNumberUint128(strReader)\n          \n          return { [id]: balance }\n        })\n      }\n      Promise.all(pairs.map((p) => getLiquidityBalanceByPairId(p.id))).then((resp) => {\n        setLiquidityBalance(resp)\n      })\n    }\n  }, [account, pairs, SWAP_ADDRESS])\n\n  function onNavigateToSwap() {\n    history.push('/swap')\n  }\n\n  function onNavigateToAddLiquidity() {\n    history.push('/pool/add')\n  }\n\n  function onRemoveLiquidity(pairId) {\n    history.push(`/pool/remove/${pairId}`)\n  }\n\n  function generateLiquidityList() {\n    const myLiquidities = liquidityBalance.filter((l) => l[Object.keys(l)[0]])\n    if (myLiquidities.length && pairs.length && tokens.length) {\n      return myLiquidities.map((lb) => {\n        const pairId = Object.keys(lb)[0]\n        const pair = pairs.find((p) => `${p.id}` === pairId)\n        const token1 = tokens.find((t) => t.id === pair.token1)\n        const token2 = tokens.find((t) => t.id === pair.token2)\n        const balance = new BigNumber(lb[pairId])\n        const shareOfPool = balance.div(pair.lp)\n        const token1Amount = shareOfPool.times(pair.reserve1).div(10 ** token1.decimals).toFixed(token1.decimals)\n        const token2Amount = shareOfPool.times(pair.reserve2).div(10 ** token2.decimals).toFixed(token2.decimals)\n        \n        return (\n          <div className=\"pool-liquidity-item\">\n            <div className=\"liquidity-item-detail\">\n              <div className={`token-icon icon-${token1.name}`}></div>\n              <div className={`token-icon icon-${token2.name}`}></div>\n              <div className=\"token-pair\"><strong>{token1.name}/{token2.name}</strong></div>\n              <div className=\"pair-position\"><strong>Pooled</strong>: {token1Amount} / {token2Amount}</div>\n              <div className=\"pool-tokens\"><strong>Pool Tokens</strong>: {balance.div(10 ** 18).toString()}</div>\n            </div>\n            <div className=\"remove-liquidity-btn\" onClick={() => onRemoveLiquidity(pairId)}>Remove</div>\n          </div>\n        )\n      })\n    } else {\n      return <div className=\"pool-empty-lp\">No Liquidities</div>\n    }\n  }\n\n  return (\n    <div className=\"pool-wrapper\">\n      <div className=\"pool-container\">\n        <div className=\"sw-tabs\">\n          <div className=\"sw-tab\" onClick={() => onNavigateToSwap()}>Swap</div>\n          <div className=\"sw-tab active\">Pool</div>\n        </div>\n        <div className=\"pool-content\">\n          <div className=\"pool-add-liquidity-btn\" onClick={() => onNavigateToAddLiquidity()}>Add Liquidity</div>\n          <div className=\"pool-liquidity-list\">\n            <div className=\"my-liquidity\">Your Liquidity</div>\n            {generateLiquidityList()}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Pool","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { useAlert } from 'react-alert'\nimport BigNumber from 'bignumber.js'\nimport TokenInput from '../../../components/tokenInput'\nimport { useFetchPairs } from '../../../hooks/usePair';\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../../config'\nimport './index.css'\n\nconst AddLiquidity = () => {\n  const [token1, setToken1] = useState({})\n  const [token2, setToken2] = useState({})\n  const [token1Amount, setToken1Amount] = useState('')\n  const [token2Amount, setToken2Amount] = useState('')\n  const [isValidPair, setIsValidPair] = useState(true)\n  const [isFirstProvider, setIsFirstProvider] = useState(false)\n  const [showPriceInfo, setShowPriceInfo] = useState(false)\n  const [balanceChange, setBalanceChange] = useState(0)\n  const { account, slippage, pairs, swapTokens, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage,\n    pairs: state.swap.pairs,\n    swapTokens: state.swap.tokens,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const Alert = useAlert()\n  const history = useHistory()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (!token1.id || !token2.id || (token1.id === token2.id)) {\n      setIsValidPair(false)\n    } else {\n      setIsValidPair(true)\n    }\n  }, [token1, token2])\n\n  useEffect(() => {\n    const pair = getPairByToken()\n    if (token1.id && token2.id && token1.id != token2.id && (!pairs.length || !pair || (pair.reserve1 === 0 && pair.reserve2 === 0))) {\n      setIsFirstProvider(true)\n    } else {\n      setIsFirstProvider(false)\n    }\n  }, [pairs, token1, token2])\n\n  useEffect(() => {\n    if (token1.id && token2.id) {\n      setShowPriceInfo(true)\n    } else {\n      setShowPriceInfo(false)\n    }\n  }, [pairs, token1, token2, token1Amount, token2Amount])\n\n  useEffect(() => {\n    if (swapTokens.length) {\n      setToken1(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI')))\n      setToken2(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX')))\n    }\n  }, [account, swapTokens])\n\n  function getPairByToken() {\n    return pairs.find((p) => (p.token1 === token1.id && p.token2 === token2.id) || (p.token1 === token2.id && p.token2 === token1.id))\n  }\n\n  function onChangeToken1(token) {\n    if (token.id !== token1.id) {\n      setToken1(token)\n      localStorage.setItem('swap_token1', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onChangeToken2(token) {\n    if (token.id !== token2.id) {\n      setToken2(token)\n      localStorage.setItem('swap_token2', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onToken1AmountChange(amount) {\n    setToken1Amount(amount)\n    if (!isFirstProvider) {\n      if (amount) {\n        setToken2Amount(new BigNumber(amount).times(getPairPrice()).times(10 ** token2.decimals).integerValue(BigNumber.ROUND_CEIL).div(10 ** token2.decimals).toString())\n      } else if (Number(amount) === 0) {\n        setToken2Amount('')\n      }\n    }\n  }\n\n  function onToken2AmountChange(amount) {\n    setToken2Amount(amount)\n    if (!isFirstProvider) {\n      if (amount) {\n        setToken1Amount(new BigNumber(amount).div(getPairPrice()).times(10 ** token1.decimals).integerValue(BigNumber.ROUND_CEIL).div(10 ** token1.decimals).toString())\n      } else if (Number(amount) === 0) {\n        setToken1Amount('')\n      }\n    }\n  }\n\n  function getPairPrice() {\n    if (token1.id && token2.id && pairs.length) {\n      if (isFirstProvider && token1Amount && token2Amount) {\n        return token2Amount / token1Amount\n      }\n      let pair = pairs.find((p) => p.token1 === token1.id && p.token2 === token2.id)\n      if (pair) {\n        return pair.reserve1 ? new BigNumber(pair.reserve2).div(10 ** token2.decimals).div(pair.reserve1).times(10 ** token1.decimals) : 0\n      }\n      pair = pairs.find((p) => p.token1 === token2.id && p.token2 === token1.id)\n      if (pair) {\n        return pair.reserve2 ? new BigNumber(pair.reserve1).div(10 ** token1.decimals).div(pair.reserve2).times(10 ** token2.decimals) : 0\n      }\n    }\n\n    return 0\n  }\n\n  function getShareOfPool() {\n    if (isFirstProvider) {\n      return '100%'\n    } else {\n      const pair = getPairByToken()\n      const amountProduct = new BigNumber(token1Amount || 0).times(10 ** token1.decimals).times(token2Amount || 0).times(10 ** token2.decimals)\n\n      if (pair) {\n        return `${amountProduct.times(100).div(new BigNumber(pair.reserve1).times(pair.reserve2).plus(amountProduct)).toFixed(2)}%`\n      }\n      return `0%`\n    }\n  }\n\n  function onNavigateToPool() {\n    history.goBack()\n  }\n\n  async function onAdd() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (token1Amount <= 0 || token2Amount <= 0) {\n      Alert.error('Amount should be greater than 0')\n      return\n    }\n    if (token1.id && token1.id === token2.id) {\n      Alert.error('Input should be different')\n      return\n    }\n\n    if (SWAP_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: token1.id\n          },\n          {\n            type: 'Long',\n            value: token2.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(new BigNumber(10 ** token1.decimals)).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(new BigNumber(10 ** token2.decimals)).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(new BigNumber(10 ** token1.decimals)).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(new BigNumber(10 ** token2.decimals)).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const addResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SWAP_ADDRESS,\n          operation: 'add_liquidity',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (addResult.transaction) {\n          setBalanceChange(balanceChange + 1)\n          setToken1Amount('')\n          setToken2Amount('')\n          onNavigateToPool()\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${addResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  return (\n    <div className=\"add-liquidity-wrapper\">\n      <div className=\"al-header\">Add Liquidity\n        <div className=\"back-icon\" onClick={() => onNavigateToPool()}></div>\n      </div>\n      <div className=\"al-wrapper\">\n        {\n          isValidPair && isFirstProvider ? (\n            <div className=\"first-provider-hint\">\n              <div><strong>You are the first liquidity provider.</strong><br /><br />The ratio of tokens you add will set the price of this pool.</div>\n            </div>\n          ) : null\n        }\n        <TokenInput\n          balanceChange={balanceChange}\n          tokens={swapTokens}\n          value={token1Amount}\n          defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI'))}\n          onTokenChange={(token) => onChangeToken1(token)}\n          onAmountChange={(amount) => onToken1AmountChange(amount)} />\n        <div className=\"icon-plus\"></div>\n        <TokenInput\n          balanceChange={balanceChange}\n          tokens={swapTokens}\n          value={token2Amount}\n          defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX'))}\n          onTokenChange={(token) => onChangeToken2(token)}\n          onAmountChange={(amount) => onToken2AmountChange(amount)} />\n        {\n          isValidPair && showPriceInfo ? (\n            <div className=\"al-price-wrapper\">\n              <div className=\"al-price-item\">\n                <div className=\"price-item-detail\">{getPairPrice().toFixed(4)}</div>\n                <div className=\"price-item-label\">{token2.name} per {token1.name}</div>\n              </div>\n              <div className=\"al-price-item\">\n                <div className=\"price-item-detail\">{(getPairPrice() ? 1 / getPairPrice() : 0).toFixed(4)}</div>\n                <div className=\"price-item-label\">{token1.name} per {token2.name}</div>\n              </div>\n              <div className=\"al-price-item\">\n                <div className=\"price-item-detail\">{getShareOfPool()}</div>\n                <div className=\"price-item-label\">Share of Pool</div>\n              </div>\n            </div>\n          ) : null\n        }\n        <div className=\"al-add-btn\" onClick={() => onAdd()}>Add</div>\n      </div>\n    </div>\n  )\n}\n\nexport default AddLiquidity\n","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory, useLocation } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { utils } from 'ontology-ts-sdk'\nimport { useAlert } from 'react-alert'\nimport BigNumber from 'bignumber.js'\nimport Slider from 'rc-slider'\nimport { readBigNumberUint128 } from '../../../utils/token'\nimport { useFetchPairs } from '../../../hooks/usePair';\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../../config'\nimport 'rc-slider/assets/index.css'\nimport './index.css'\n\nconst { StringReader, reverseHex } = utils\n\nconst RemoveLiquidity = () => {\n  const [liquidityBalance, setLiquidityBalance] = useState(0)\n  const [token1, setToken1] = useState({})\n  const [token2, setToken2] = useState({})\n  const [token1Amount, setToken1Amount] = useState(0)\n  const [token2Amount, setToken2Amount] = useState(0)\n  const [pair, setPair] = useState({})\n  const [amount, setAmount] = useState(0)\n  const [showPrice, setShowPrice] = useState(false)\n  const { account, slippage, tokens, pairs, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage,\n    tokens: state.common.tokens,\n    pairs: state.swap.pairs,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const Alert = useAlert()\n  const history = useHistory()\n  const location = useLocation()\n  const pairId = location.pathname.match(/\\/([^/]+)$/)[1]\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (account && pairs.length && pairId) {\n      getLiquidityBalanceByPairId(pairId).then((resp) => {\n        setLiquidityBalance(resp)\n      })\n    }\n  }, [account, pairs, SWAP_ADDRESS])\n\n  useEffect(() => {\n    if (tokens.length && pairs.length && pairId) {\n      const pair = pairs.find((p) => `${p.id}` === pairId)\n      setPair(pair)\n      setToken1(tokens.find((t) => t.id === pair.token1))\n      setToken2(tokens.find((t) => t.id === pair.token2))\n      setShowPrice(true)\n    }\n  }, [pairs, tokens])\n\n  useEffect(() => {\n    if (pair && token1.id && token2.id && pairId && liquidityBalance) {\n      const shareOfPool = new BigNumber(liquidityBalance).div(pair.lp)\n      const token1Amount = shareOfPool.times(pair.reserve1).div(10 ** token1.decimals)\n      const token2Amount = shareOfPool.times(pair.reserve2).div(10 ** token2.decimals)\n\n      setToken1Amount(new BigNumber(amount).div(100).times(token1Amount).toFixed(token1.decimals))\n      setToken2Amount(new BigNumber(amount).div(100).times(token2Amount).toFixed(token2.decimals))\n    }\n  }, [amount, pair, token1, token2])\n\n  function getLiquidityBalanceByPairId(id) {\n    if (SWAP_ADDRESS) {\n      return client.api.smartContract.invokeWasmRead({\n        scriptHash: SWAP_ADDRESS,\n        operation: 'balanceOf',\n        args: [\n          {\n            type: 'Long',\n            value: id\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n      }).then((resp) => {\n        const strReader = new StringReader(resp)\n        const balance = readBigNumberUint128(strReader)\n        \n        return balance\n      })\n    }\n  }\n\n  function getPairPrice() {\n    return new BigNumber(pair.reserve2).div(10 ** token2.decimals).div(pair.reserve1).times(10 ** token1.decimals).toString()\n  }\n\n  function onNavigateToPool() {\n    history.goBack()\n  }\n\n  async function onRemove() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (SWAP_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: token1.id\n          },\n          {\n            type: 'Long',\n            value: token2.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(liquidityBalance).times(amount / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(10 ** token1.decimals).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(10 ** token2.decimals).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n\n        const addResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SWAP_ADDRESS,\n          operation: 'remove_liquidity',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (addResult.transaction) {\n          onNavigateToPool()\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${addResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  return (\n    <div className=\"remove-liquidity-wrapper\">\n      <div className=\"rl-header\">Remove Liquidity\n        <div className=\"back-icon\" onClick={() => onNavigateToPool()}></div>\n      </div>\n      <div className=\"rl-wrapper\">\n        <div className=\"rl-amount\">\n          <div className=\"rl-amount-label\">Amount<span>{amount}%</span></div>\n          <Slider value={amount} onChange={(e) => setAmount(e)} />\n          <div className=\"quick-items\">\n            <div className=\"quick-item\" onClick={() => setAmount(25)}>25%</div>\n            <div className=\"quick-item\" onClick={() => setAmount(50)}>50%</div>\n            <div className=\"quick-item\" onClick={() => setAmount(75)}>75%</div>\n            <div className=\"quick-item\" onClick={() => setAmount(100)}>Max</div>\n          </div>\n        </div>\n        <div className=\"icon-arrow-down\" />\n        <div className=\"rl-receive-wrapper\">\n          <div className={`receive-token-item icon-${token1.name}`}>\n            {token1.name}\n            <span>{token1Amount}</span>\n          </div>\n          <div className={`receive-token-item icon-${token2.name}`}>\n            {token2.name}\n            <span>{token2Amount}</span>\n          </div>\n        </div>\n        {\n          showPrice ? (\n            <div className=\"rl-price-wrapper\">\n              <div className=\"price-wrapper-lable\">Price</div>\n              <div className=\"price\">1 {token1.name} = {getPairPrice()} {token2.name}</div>\n              <div className=\"price-reverse\">1 {token2.name} = {new BigNumber(1).div(getPairPrice()).toString()} {token1.name}</div>\n            </div>\n          ) : null\n        }\n        { amount ? <div className=\"rl-remove-btn\" onClick={() => onRemove()}>Remove</div> : <div className=\"rl-remove-btn disabled\">Remove</div> }\n      </div>\n    </div>\n  )\n}\n\nexport default RemoveLiquidity","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport Tooltip from 'rc-tooltip'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { DAI_PRICE } from '../../utils/constants'\nimport { GOVERNANCE_ADDRESS } from '../../config'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport { readBigNumberUint128, getTokenIconDom } from '../../utils/token'\n\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Staking = () => {\n  const [showClosedEntry, setShowClosedEntry] = useState(false)\n  const [showClosed, setShowClosed] = useState(false)\n  const [unxPrice, setUnxPrice] = useState(0)\n  const [tokenPrices, setTokenPrices] = useState({})\n  const { account, tokens, stakingTokens, poolStat, pairs, stakingPoolWeightRatio, STAKING_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    stakingTokens: state.staking.tokens,\n    poolStat: state.gov.poolStat,\n    pairs: state.swap.pairs,\n    stakingPoolWeightRatio: state.gov.poolStat.pools.staking.ratio,\n    STAKING_ADDRESS: state.gov.poolStat.pools.staking.address\n  }))\n  const dispatch = useDispatch()\n  const setStakingTokens = useCallback((tokens) => dispatch({ type: 'SET_STAKING_TOKENS', tokens }), [])\n  const history = useHistory()\n  const Alert = useAlert()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (pairs.length && (!unxPrice || unxPrice === '0')) {\n      const unxTk = tokens.find((t) => t.name === 'UNX')\n      const daiTk = tokens.find((t) => t.name === 'pDAI')\n      const pair = pairs.find((p) => (p.token1 === unxTk.id && p.token2 === daiTk.id) || (p.token2 === unxTk.id && p.token1 === daiTk.id))\n\n      if (pair) {\n        if (pair.token1 === unxTk.id) {\n          setUnxPrice(new BigNumber(pair.reserve2).div(10 ** daiTk.decimals).div(pair.reserve1).times(10 ** unxTk.decimals).times(DAI_PRICE).toString())\n        } else {\n          setUnxPrice(new BigNumber(pair.reserve1).div(10 ** daiTk.decimals).div(pair.reserve2).times(10 ** unxTk.decimals).times(DAI_PRICE).toString())\n        }\n      }\n    }\n  }, [pairs, tokens])\n\n  useEffect(() => {\n    getStakingTokenPrice()\n    let interval = setInterval(() => getStakingTokenPrice, 3000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [stakingTokens])\n\n  useEffect(() => {\n    getStakingTokenBalance()\n    let interval = setInterval(() => getStakingTokenBalance, 3000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, STAKING_ADDRESS])\n\n  useEffect(() => {\n    if (stakingTokens.filter((st) => !st.originWeight).length) {\n      setShowClosedEntry(true)\n    } else {\n      setShowClosedEntry(false)\n    }\n  }, [stakingTokens])\n\n  async function getStakingTokenPrice() {\n    if (stakingTokens.length) {\n      try {\n        const unxToken = tokens.find((t) => t.name === 'UNX')\n        const parsedTokenPrices = {}\n        const LPTokens = stakingTokens.filter((st) => st.ty === 3)\n        const nonLPTokens = stakingTokens.filter((st) => st.ty !== 3)\n        const tokenIds = nonLPTokens.map((t) => t.id)\n        \n        LPTokens.map((lpt) => {\n          const tokenNames = lpt.name.split('-').filter((t) => t !== 'LP' && t !== 'UNX')\n\n          tokenNames.map((tn) => {\n            const tokenId = tokens.find((t) => t.name === tn).id\n          \n            if (tokenIds.indexOf(tokenId) < 0) {\n              tokenIds.push(tokenId)\n            }\n          })\n        })\n\n        const args = [\n          {\n            type: 'Array',\n            value: tokenIds.map((id) => ({ type: 'Long', value: id }))\n          }\n        ]\n        const tokenPriceStr = await client.api.smartContract.invokeWasmRead({\n          scriptHash: GOVERNANCE_ADDRESS,\n          operation: 'token_prices',\n          args\n        })\n        const strReader = new StringReader(tokenPriceStr)\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          parsedTokenPrices[tokenIds[i]] = readBigNumberUint128(strReader)\n        }\n\n        LPTokens.map((lpt) => {\n          const tokenNames = lpt.name.split('-').filter((t) => t !== 'LP')\n          const token1 = tokens.find((t) => t.name === tokenNames[0])\n          const token2 = tokens.find((t) => t.name === tokenNames[1])\n          const pair = pairs.find((p) => (p.token1 === token1.id && p.token2 === token2.id) || p.token1 === token2.id && p.token2 === token1.id)\n\n          if (pair) {\n            let value = new BigNumber(0)\n            if (token1.name === 'UNX' || token2.name === 'UNX') {\n              const nonUnxToken = (token1.name === 'UNX') ? token2 : token1\n\n              if (pair.token1 === unxToken.id) {\n                value = value.plus(new BigNumber(pair.reserve2).div(10 ** nonUnxToken.decimals).times(parsedTokenPrices[pair.token2]).times(2))\n              } else {\n                value = value.plus(new BigNumber(pair.reserve1).div(10 ** nonUnxToken.decimals).times(parsedTokenPrices[pair.token1]).times(2))\n              }\n            } else {\n              if (pair.token1 === token1.id) {\n                value  = value.plus(new BigNumber(pair.reserve1).div(10 ** token1.decimals).times(parsedTokenPrices[pair.token1])).plus(new BigNumber(pair.reserve2).div(10 ** token2.decimals).times(parsedTokenPrices[pair.token2]))\n              } else {\n                value  = value.plus(new BigNumber(pair.reserve1).div(10 ** token2.decimals).times(parsedTokenPrices[pair.token1])).plus(new BigNumber(pair.reserve2).div(10 ** token1.decimals).times(parsedTokenPrices[pair.token2]))\n              }\n            }\n\n            parsedTokenPrices[lpt.id] = value.div(pair.lp).times(10 ** 18).toString()\n          }\n        })\n        \n        setTokenPrices(parsedTokenPrices)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  async function getStakingTokenBalance() {\n    if (tokens.length && STAKING_ADDRESS) {\n      try {\n        const statStr = await client.api.smartContract.invokeWasmRead({\n          scriptHash: STAKING_ADDRESS,\n          operation: 'stat',\n          args: []\n        })\n        const parsedTokens = []\n        const strReader = new StringReader(statStr)\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          const token = {}\n          token.id = strReader.readUint128()\n          const tempToken = tokens.find((t) => t.id === token.id)\n          token.weight = strReader.readUint128()\n          token.balance = readBigNumberUint128(strReader)\n\n          parsedTokens.push(Object.assign(tempToken, token))\n        }\n\n        const totalWeight = parsedTokens.filter((t) => t.balance).reduce((a, b) => a + b.weight, 0)\n        const filteredTokens = parsedTokens.map((t) => {\n          return {\n            ...t,\n            originWeight: t.weight,\n            weight: t.balance ? (t.weight / totalWeight) : 0\n          }\n        })\n\n        setStakingTokens(filteredTokens)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  function onSelectToken(token) {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    history.push(`/staking/${token.id}`)\n  }\n\n  function getTip(token) {\n    return `${token.name} is the hidden receipt for WING ${token.name.replace('f', '')} suppliers`\n  }\n\n  function generateStakingPool() {\n    if (stakingTokens.length) {\n      const openStakingTokens = stakingTokens.filter((t) => !!t.originWeight)\n      const closedStakingTokens = stakingTokens.filter((t) => !t.originWeight)\n\n      return (showClosed ? closedStakingTokens : openStakingTokens).map((token) => {\n        const unxAmount = new BigNumber(poolStat.distributionInfo.amount || 0)\n          .div(poolStat.distributionInfo.period || 1)\n          .times(86400 * 365)\n          .times(stakingPoolWeightRatio || 0)\n          .times(token.weight)\n        const tokenAPY = tokenPrices[token.id] ? unxAmount\n          .times(unxPrice)\n          .times(10 ** 12)\n          .div(tokenPrices[token.id])\n          .div(token.balance)\n          .times(10 ** token.decimals)\n          .times(100)\n          .toFixed(2) : 0\n\n        return (\n          <div className={`pool-list-item ${!showClosed ? '' : 'pool-list-item-disabled'}`} key={token.name}>\n            <div className=\"item-detail\">\n              <div className=\"item-detail-wrapper\">\n                { token.ty === 3 && <div className=\"corner-badge\">10X</div> }\n                <div className=\"staking-token\">\n                  {\n                    token.ty === 3 ? (\n                      <div className=\"staking-text\">Deposit\n                        {getTokenIconDom(token, 'stake-lp-token')}\n                      </div>\n                    ) : (\n                      <div className={`staking-text icon-${token.name}`}>Deposit</div>\n                    )\n                  }\n                  {\n                    token.name.startsWith('f') ? (\n                      <Tooltip placement=\"top\" overlay={getTip(token)}>\n                        <div className=\"staking-token-name\">{token.name}</div>\n                      </Tooltip>\n                    ) : <div className=\"staking-token-name\">{token.name}</div>\n                  }\n                </div>\n                <div className=\"earn-line\">Earn<span>UNX</span></div>\n                <div className=\"earn-line\">APY<span>{tokenAPY}%</span></div>\n                <div className=\"total-staking\">Total Staking<span>{new BigNumber(token.balance || 0).div(10 ** token.decimals).toString()}</span></div>\n                <div className=\"select-btn\" onClick={() => onSelectToken(token)}>{ showClosed ? 'Unstake' : 'Stake' }</div>\n              </div>\n            </div>\n          </div>\n        )\n      })\n    }\n  }\n\n  return (\n    <div className=\"stake-container\">\n      <div className=\"stake-pool\">\n        { !stakingTokens.length ? <div className=\"title\">Loading...</div> : null }\n        {\n          showClosed ? (\n            <div className=\"unstake-pool-title\">\n              <div className=\"back-icon\" onClick={() => setShowClosed(false)}></div>\n              Unstake from Closed Pool\n            </div>\n          ) : null\n        }\n        <div className=\"pool-list\">\n          {generateStakingPool()}\n        </div>\n        { showClosedEntry ? <div className=\"closed-pool-entrance\" onClick={() => setShowClosed(true)}>Unstake from Closed Pool</div> : null }\n      </div>\n    </div>\n  )\n}\n\nexport default Staking","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory, useLocation } from \"react-router-dom\"\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport Tooltip from 'rc-tooltip';\nimport Input from '../../../components/input'\nimport { readBigNumberUint128, getTokenBalance, getTokenIconDom } from '../../../utils/token'\nimport { GOVERNANCE_ADDRESS, TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../../config'\n\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst StakingDetail = (props) => {\n  const [stakeToken, setStakeToken] = useState({})\n  const [tokenBalance, setTokenBalance] = useState('-')\n  const [tokenWeight, setTokenWeight] = useState(1)\n  const [amount, setAmount] = useState('')\n  const [myStake, setMyStake] = useState({})\n  const [stakeType, setStakeType] = useState('stake')\n  const [claimableWing, setClaimableWing] = useState(0)\n  const [showStakingModal, setShowStakingModal] = useState(false)\n  const { account, tokens, stakingTokens, STAKING_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    stakingTokens: state.staking.tokens,\n    STAKING_ADDRESS: state.gov.poolStat.pools.staking.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n\n  const Alert = useAlert()\n  const location = useLocation()\n  const history = useHistory()\n  const tokenId = location.pathname.match(/\\/([^/]+)$/)[1]\n\n  useEffect(() => {\n    if (stakingTokens.length) {\n      setTokenWeight(stakingTokens.find((t) => `${t.id}` === tokenId).originWeight)\n    }\n  }, [stakingTokens])\n\n  useEffect(() => {\n    if (account && tokens.length) {\n      const sToken = tokens.find((t) => `${t.id}` === tokenId)\n\n      setStakeToken(sToken)\n      getTokenBalance(account, sToken, setTokenBalance)\n    }\n  }, [tokens, account])\n\n\n  useEffect(() => {\n    const getClaimableWing = async () => {\n      if (account && stakeToken.ty === 2) {\n        try {\n          const resp = await client.api.smartContract.invokeWasmRead({\n            scriptHash: GOVERNANCE_ADDRESS,\n            operation: 'claimable_wing',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              },\n              {\n                type: 'Long',\n                value: stakeToken.id\n              }\n            ]\n          })\n          const strReader = new StringReader(resp)\n\n          setClaimableWing(readBigNumberUint128(strReader))\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getClaimableWing()\n    let interval = setInterval(getClaimableWing, 10000)\n\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, stakeToken])\n\n  useEffect(() => {\n    if (account && stakeToken.id && STAKING_ADDRESS) {\n      getAccountStake()\n      const interval = setInterval(getAccountStake, 10000)\n      return () => {\n        interval && clearInterval(interval)\n      }\n    }\n  }, [stakeToken, account, STAKING_ADDRESS])\n\n  useEffect(() => {\n    if (!account) {\n      setMyStake({})\n    }\n  }, [account])\n\n  function getAccountStakeByTokenId(id) {\n    return client.api.smartContract.invokeWasmRead({\n      scriptHash: STAKING_ADDRESS,\n      operation: 'account_stake_info',\n      args: [\n        {\n          type: 'Address',\n          value: account\n        },\n        {\n          type: 'Long',\n          value: id\n        }\n      ]\n    }).then((stakeStr) => {\n      const strReader = new StringReader(stakeStr)\n      return {\n        id,\n        balance: new BigNumber(readBigNumberUint128(strReader) || 0).div(10 ** (stakeToken.decimals || 0)).toString(),\n        interest: readBigNumberUint128(strReader)\n      }\n    })\n  }\n\n  function getAccountStake() {\n    getAccountStakeByTokenId(tokenId)\n    .then((stake) => {\n      setMyStake(stake)\n    })\n    .catch((e) => {\n      console.log('get account stakes', e)\n    })\n  }\n\n  function handleStakeClick(action) {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    setStakeType(action)\n    setShowStakingModal(true)\n  }\n\n  async function onStake() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n    if (stakeToken.id && STAKING_ADDRESS) {\n      if (amount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      if (stakeType === 'unstake' && new BigNumber(amount).gt(new BigNumber(myStake.balance))) {\n        Alert.error('Amount should be less than your balance')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: stakeToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(amount).times(new BigNumber(10 ** stakeToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const param = {\n          scriptHash: STAKING_ADDRESS,\n          operation: stakeType,\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        }\n\n        const stakeResult = await client.api.smartContract.invokeWasm(param)\n\n        if (stakeResult.transaction) {\n          setShowStakingModal(false)\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${stakeResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setShowStakingModal(false)\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onHarvest() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (STAKING_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: stakeToken.id\n          }\n        ]\n        const param = {\n          scriptHash: STAKING_ADDRESS,\n          operation: 'harvest',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        }\n\n        const harvestResult = await client.api.smartContract.invokeWasm(param)\n\n        if (harvestResult.transaction) {\n          setShowStakingModal(false)\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: 'Transaction Successful',\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${harvestResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: 'Transaction Failed',\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function onNavigateToStaking() {\n    history.goBack()\n  }\n\n  const maxInput = () => {\n    if (stakeType === 'stake' && !isNaN(tokenBalance)) {\n      setAmount(tokenBalance)\n    } else if (stakeType === 'unstake' && !isNaN(myStake.balance)) {\n      setAmount(myStake.balance)\n    }\n  }\n\n  return (\n    <div className=\"stake-container\">\n      <div className=\"stake-title\">\n        <div className=\"back-icon\" onClick={() => onNavigateToStaking()} />\n        Earn <span className=\"icon-UNX\">UNX</span> by\n        {getTokenIconDom(stakeToken, 'inline-token-wrapper')}\n        {stakeToken.name || ''}\n      </div>\n      <div className=\"stake-token-detail\">\n        <div className=\"stake-token-amount\">\n          {getTokenIconDom(stakeToken, 'stake-token-wrapper')}\n          <div className=\"stake-token-amount-detail\">\n            <div className=\"stake-token-amount-label\">Current Staked</div>\n            <div className=\"stake-token-amount-info\">{myStake.balance} {stakeToken.name}</div>\n          </div>\n        </div>\n        <div className=\"stake-token-actions\">\n          { tokenWeight ? <div className=\"stake-token-action\" onClick={() => handleStakeClick('stake')}>Stake</div> : null }\n          <div className=\"stake-token-action\" onClick={() => handleStakeClick('unstake')}>Unstake</div>\n        </div>\n      </div>\n      <div className=\"harvest-token-detail\">\n        <div className=\"harvest-token-amount icon-UNX\">\n          <div className=\"harvest-token-amount-label\">Rewards Available</div>\n          <div className=\"harvest-token-amount-info\">{new BigNumber(myStake.interest || 0).div(10 ** 9).toString()} UNX</div>\n        </div>\n        <div className=\"harvest-token-actions\">\n          <div className=\"harvest-token-action\" onClick={() => onHarvest() }>Harvest</div>\n        </div>\n      </div>\n      {\n        stakeToken.ty === 2 ? (\n          <div className=\"claimable-wing-detail\">\n            <div className=\"claimable-wing-amount icon-WING\">{new BigNumber(claimableWing || 0).div(10 ** 9).toString()}\n              <div className=\"claimable-wing-label\">WING Earned\n                <Tooltip placement=\"top\" overlay=\"WING earned by ftoken will be transferred to your account when you stake or unstake\">\n                  <span>?</span>\n                </Tooltip>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n      { showStakingModal ? (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => { setShowStakingModal(false); setAmount(''); }}></div>\n            <div className=\"stake-wrapper\">\n              {/* <div className={`icon-${stakeToken.name} token-placeholder`}></div> */}\n              {getTokenIconDom(stakeToken, 'token-placeholder')}\n              <div className=\"form-item\">\n                <div className=\"input-label\">Amount\n                  {\n                    stakeType === 'stake' ? (\n                      <span className=\"hint\">Balance: {tokenBalance}</span>\n                    ) : (\n                      <span className=\"hint\">Staked: {myStake.balance}</span>\n                    )\n                  }\n                </div>\n                <div className=\"input-wrapper\">\n                  <Input placeholder=\"0.0\" value={amount} decimals={stakeToken.decimals || 0} onChange={(amount) => setAmount(amount)} />\n                  <div className=\"input-max-btn\" onClick={() => maxInput()}>MAX</div>\n                </div>\n              </div>\n              <div className=\"stake-btn\" onClick={() => onStake()}>{ stakeType === 'stake' ? 'Stake' : 'Unstake'}</div>\n            </div>\n          </div>\n        </div>\n      ) : null }\n    </div>\n  )\n}\n\nexport default StakingDetail","import React from 'react'\nimport './index.css'\n\nconst Token = (props) => {\n  return (\n    <div className=\"coming-soon-placeholder\"></div>\n  )\n}\n\nexport default Token","import React from 'react'\nimport './index.css'\n\nconst Option = (props) => {\n  return (\n    <div className=\"coming-soon-placeholder\"></div>\n  )\n}\n\nexport default Option","import axios from 'axios'\nimport { EVENT_API_BASE_URL } from '../config'\n\nconst instance = axios.create({\n  baseURL: EVENT_API_BASE_URL,\n  timeout: 30000,\n  headers: { 'Content-Type': 'application/json' }\n})\n\ninstance.interceptors.response.use(\n  (response) => {\n    const res = response.data;\n    return res\n  },\n  (error) => {\n    return Promise.reject(error)\n  },\n)\n\nexport default instance","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport Tooltip from 'rc-tooltip';\nimport TokenInput from '../../components/tokenInput';\nimport Input from '../../components/input'\nimport EventRequest from '../../utils/eventRequest'\nimport { readBigNumberUint128 } from '../../utils/token'\nimport { DAI_PRICE, SYNTH_PRICE_DECIMALS, ASSET_STATUS, LEVERAGE_TYPE, TRANSACTION_FEE_RATE } from '../../utils/constants'\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../config'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport './index.css'\n\nconst { StringReader, reverseHex } = utils\n\nconst Synth = () => {\n  const [mintAsset, setMintAsset] = useState({})\n  const [mintAmount, setMintAmount] = useState('')\n  const [unxNeededForMint, setUnxNeededForMint] = useState('')\n  const [burnAsset, setBurnAsset] = useState({})\n  const [burnAmount, setBurnAmount] = useState('')\n  const [unxGetForBurn, setUnxGetForBurn] = useState('')\n  const [exchangeAsset, setExchangeAsset] = useState({})\n  const [exchangeToAsset, setExchangeToAsset] = useState({})\n  const [exchangeAmount, setExchangeAmount] = useState('')\n  const [exchangeToAssets, setExchangeToAssets] = useState([])\n  const [exchangeToAmount, setExchangeToAmount] = useState('')\n  const [unxToken, setUnxToken] = useState({})\n  const [unxPrice, setUnxPrice] = useState(0)\n  const [showMintModal, setShowMintModal] = useState(false)\n  const [showBurnModal, setShowBurnModal] = useState(false)\n  const [showExchangeModal, setShowExchangeModal] = useState(false)\n  const { account, tokens, pairs, poolStat, stat, marketStat, availableReward, synthType, synthPoolWeightRatio, SYNTH_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    pairs: state.swap.pairs,\n    poolStat: state.gov.poolStat,\n    ...state.synth,\n    synthPoolWeightRatio: state.gov.poolStat.pools.synth.ratio,\n    SYNTH_ADDRESS: state.gov.poolStat.pools.synth.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const setStat = useCallback((stat) => dispatch({ type: 'SET_SYNTH_STAT', stat }), [])\n  const setMarketStat = useCallback((marketStat) => dispatch({ type: 'SET_SYNTH_MARKET_STAT', marketStat }), [])\n  const setAvailableReward = useCallback((availableReward) => dispatch({ type: 'SET_SYNTH_AVAILABLE_REWARD', availableReward }), [])\n  const setSynthType = useCallback((synthType) => dispatch({ type: 'SET_SYNTH_TYPE', synthType }), [])\n\n  const Alert = useAlert()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (tokens.length) {\n      setUnxToken(tokens.find((t) => t.name === 'UNX'))\n    }\n  }, [tokens])\n\n  useEffect(() => {\n    if (tokens.length && pairs.length && (!unxPrice || unxPrice === '0') && marketStat.marketAssetValue) {\n      const unxTk = tokens.find((t) => t.name === 'UNX')\n      if (!marketStat.marketAssetBalances.length) {\n        const daiTk = tokens.find((t) => t.name === 'pDAI')\n        const pair = pairs.find((p) => (p.token1 === unxTk.id && p.token2 === daiTk.id) || (p.token2 === unxTk.id && p.token1 === daiTk.id))\n\n        if (pair) {\n          if (pair.token1 === unxTk.id) {\n            setUnxPrice(new BigNumber(pair.reserve2).div(10 ** daiTk.decimals).div(pair.reserve1).times(10 ** unxTk.decimals).times(DAI_PRICE).times(SYNTH_PRICE_DECIMALS).toString())\n          } else {\n            setUnxPrice(new BigNumber(pair.reserve1).div(10 ** daiTk.decimals).div(pair.reserve2).times(10 ** unxTk.decimals).times(DAI_PRICE).times(SYNTH_PRICE_DECIMALS).toString())\n          }\n        }\n      } else {\n        setUnxPrice(new BigNumber(marketStat.marketAssetValue).div(marketStat.marketTokenBalance).times(10 ** unxTk.decimals).toString())\n      }\n\n      setUnxToken(unxTk)\n    }\n  }, [pairs, tokens, marketStat])\n\n  useEffect(() => {\n    async function getAvailableReward() {\n      if (account && unxToken.id && SYNTH_ADDRESS) {\n        try {\n          const claimStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: SYNTH_ADDRESS,\n            operation: 'claim_unx',\n            args: [\n              {\n                type: 'Long',\n                value: unxToken.id\n              },\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n\n          const strReader = new StringReader(claimStr)\n          const availableReward = strReader.readUint128()\n\n          setAvailableReward(new BigNumber(availableReward).toString())\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getAvailableReward()\n    const interval = setInterval(getAvailableReward, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, unxToken, SYNTH_ADDRESS])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length && SYNTH_ADDRESS) {\n        try {\n          const statStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: SYNTH_ADDRESS,\n            operation: 'stat',\n            args: []\n          })\n          const strReader = new StringReader(statStr)\n  \n          reverseHex(strReader.read(20)) // govAddress\n          strReader.readUint128() // daiTokenId\n          strReader.readUint128() // unxTokenId\n          strReader.readUint128() // pairId\n\n          const liveAssetCount = strReader.readNextLen()\n          const liveAssets = []\n          for (let i = 0; i < liveAssetCount; i++) {\n            const asset = {}\n            asset.assetId = strReader.readUint128()\n            asset.tokenId = strReader.readUint128()\n\n            const token = tokens.find((t) => t.id === asset.tokenId)\n            asset.tokenName = token.name\n            asset.decimals = token.decimals\n            asset.leverageType = strReader.readNextByte()\n            asset.times = strReader.readUint128()\n            asset.entryPrice = readBigNumberUint128(strReader)\n            asset.lowLimit = readBigNumberUint128(strReader)\n            asset.highLimit = readBigNumberUint128(strReader)\n            asset.status = strReader.readNextByte()\n            asset.frozenBy = reverseHex(strReader.read(20))\n            asset.frozenTime = strReader.readUint64()\n\n            if (asset.tokenName.startsWith('p')) {\n              asset.tokenName = asset.tokenName.replace('p', '')\n            }\n            asset.tokenName = `${asset.leverageType === LEVERAGE_TYPE.Negative ? 'i' : 's'}${asset.tokenName}`\n            asset.id = asset.assetId\n            asset.value = asset.assetId\n            asset.label = `${asset.tokenName}${asset.times !== 1 ? ` (${asset.times}x)` : ''}`\n            liveAssets.push(asset)\n          }\n\n          const frozenAssetCount = strReader.readNextLen()\n          const frozenAssets = []\n          for (let i = 0; i < frozenAssetCount; i++) {\n            const asset = {}\n            asset.assetId = strReader.readUint128()\n            asset.tokenId = strReader.readUint128()\n\n            const token = tokens.find((t) => t.id === asset.tokenId)\n            asset.tokenName = token.name\n            asset.decimals = token.decimals\n            asset.leverageType = strReader.readNextByte()\n            asset.times = strReader.readUint128()\n            asset.entryPrice = readBigNumberUint128(strReader)\n            asset.lowLimit = readBigNumberUint128(strReader)\n            asset.highLimit = readBigNumberUint128(strReader)\n            asset.status = strReader.readNextByte()\n            asset.frozenBy = reverseHex(strReader.read(20))\n            asset.frozenTime = strReader.readUint64()\n\n            if (asset.tokenName.startsWith('p')) {\n              asset.tokenName = asset.tokenName.replace('p', '')\n            }\n            asset.tokenName = `${asset.leverageType === LEVERAGE_TYPE.Negative ? 'i' : 's'}${asset.tokenName}`\n            asset.label = `${asset.tokenName}${asset.times !== 1 ? ` (${asset.times}x)` : ''}`\n  \n            frozenAssets.push(asset)\n          }\n\n          const tokenPriceCount = strReader.readNextLen()\n          const tokenPrices = []\n          for (let i = 0; i < tokenPriceCount; i++) {\n            const tokenPrice = {}\n            tokenPrice.tokenId = strReader.readUint128()\n            tokenPrice.price = readBigNumberUint128(strReader)\n  \n            tokenPrices.push(tokenPrice)\n          }\n\n          for (let liveAsset of liveAssets) {\n            const currentPrice = tokenPrices.find((tp) => tp.tokenId === liveAsset.tokenId).price\n            let tokenPrice = currentPrice\n\n            if (liveAsset.lowLimit && new BigNumber(currentPrice).lte(new BigNumber(liveAsset.lowLimit))) {\n              tokenPrice = liveAsset.lowLimit\n            } else if (liveAsset.highLimit && new BigNumber(currentPrice).gte(new BigNumber(liveAsset.highLimit))) {\n              tokenPrice = liveAsset.highLimit\n            }\n\n            liveAsset.tokenPrice = tokenPrice\n\n            if (liveAsset.leverageType === LEVERAGE_TYPE.Positive) {\n              liveAsset.price = new BigNumber(liveAsset.entryPrice).plus(new BigNumber(tokenPrice).times(liveAsset.times)).minus(new BigNumber(liveAsset.entryPrice).times(liveAsset.times)).toString()\n            } else {\n              liveAsset.price = new BigNumber(liveAsset.entryPrice).plus(new BigNumber(liveAsset.entryPrice).times(liveAsset.times)).minus(new BigNumber(tokenPrice).times(liveAsset.times)).toString()\n            }\n\n            if ((liveAsset.lowLimit && new BigNumber(liveAsset.tokenPrice).lte(new BigNumber(liveAsset.lowLimit))) || (liveAsset.highLimit && new BigNumber(liveAsset.tokenPrice).gte(new BigNumber(liveAsset.highLimit)))) {\n              liveAsset.unprocessedFrozen = true\n            }\n          }\n\n          for (let frozenAsset of frozenAssets) {\n            frozenAsset.tokenPrice = tokenPrices.find((tp) => tp.tokenId === frozenAsset.tokenId).price\n            if (frozenAsset.status === ASSET_STATUS.HighLimit) {\n              frozenAsset.tokenPrice = frozenAsset.highLimit\n            } else if (frozenAsset.status === ASSET_STATUS.LowLimit) {\n              frozenAsset.tokenPrice = frozenAsset.lowLimit\n            }\n          }\n\n          setStat({\n            liveAssets,\n            frozenAssets,\n            tokenPrices\n          })\n        } catch (e) {\n          console.log('get synth stat', e)\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(getStat, 5000)\n\n    return () => clearInterval(interval)\n  }, [tokens, SYNTH_ADDRESS])\n\n  useEffect(() => {\n    async function getMarketStat() {\n      if (account && unxToken.id && SYNTH_ADDRESS) {\n        try {\n          const statStr = await client.api.smartContract.invokeWasmRead({\n            scriptHash: SYNTH_ADDRESS,\n            operation: 'market_stat',\n            args: [\n              {\n                type: 'Long',\n                value: unxToken.id\n              },\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n          const strReader = new StringReader(statStr)\n\n          const marketAssetBalanceCount = strReader.readNextLen()\n          const marketAssetBalances = []\n          let marketAssetValueSum = new BigNumber(0)\n          for (let i = 0; i < marketAssetBalanceCount; i++) {\n            const assetBalance = {}\n            assetBalance.assetId = strReader.readUint128()\n            assetBalance.balance = readBigNumberUint128(strReader)\n            assetBalance.assetPrice = readBigNumberUint128(strReader)\n\n            const asset = stat.liveAssets ? [...stat.liveAssets, ...stat.frozenAssets].find((la) => la.assetId === assetBalance.assetId) : null\n\n            if (asset) {\n              marketAssetValueSum = marketAssetValueSum.plus(new BigNumber(assetBalance.assetPrice).times(assetBalance.balance).div(10 ** asset.decimals))\n            }\n  \n            marketAssetBalances.push(assetBalance)\n          }\n\n          const accountAssetBalanceCount = strReader.readNextLen()\n          const accountAssetBalances = []\n          let accountAssetValueSum = new BigNumber(0)\n          for (let i = 0; i < accountAssetBalanceCount; i++) {\n            const assetBalance = {}\n            assetBalance.assetId = strReader.readUint128()\n            assetBalance.balance = readBigNumberUint128(strReader)\n            assetBalance.assetPrice = readBigNumberUint128(strReader)\n\n            const asset = stat.liveAssets ? [...stat.liveAssets, ...stat.frozenAssets].find((la) => la.assetId === assetBalance.assetId) : null\n\n            if (asset) {\n              accountAssetValueSum = accountAssetValueSum.plus(new BigNumber(assetBalance.assetPrice).times(assetBalance.balance).div(10 ** asset.decimals))\n            }\n  \n            accountAssetBalances.push(assetBalance)\n          }\n\n          const marketStakeValue = readBigNumberUint128(strReader)\n          const accountStakeValue = readBigNumberUint128(strReader)\n          const marketTokenBalance = readBigNumberUint128(strReader)\n          const accountClaimedValue = readBigNumberUint128(strReader)\n          const accountWithdrawedStakeValue = readBigNumberUint128(strReader)\n          const transferable = (marketAssetValueSum.toString() !== '0') ? accountAssetValueSum.div(marketAssetValueSum).times(marketTokenBalance).toString() : '0'\n\n          const parsedMarketStat = {\n            marketAssetBalances,\n            accountAssetBalances,\n            marketAssetValue: marketAssetValueSum.toString(),\n            accountAssetValue: accountAssetValueSum.toString(),\n            transferable,\n            marketStakeValue,\n            accountStakeValue,\n            marketTokenBalance,\n            accountClaimedValue,\n            accountWithdrawedStakeValue\n          }\n\n          setMarketStat(parsedMarketStat)\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getMarketStat()\n    const interval = setInterval(getMarketStat, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, unxToken, stat.liveAssets, SYNTH_ADDRESS])\n\n  const handleMintAmountChange = (amount) => {\n    setMintAmount(amount)\n    if (unxPrice && amount) {\n      setUnxNeededForMint(new BigNumber(amount).times(mintAsset.price).div(unxPrice).div(1 - TRANSACTION_FEE_RATE).toFixed(unxToken.decimals))\n    } else if (Number(amount) === 0) {\n      setUnxNeededForMint('')\n    }\n  }\n\n  const handleUnxNeededForMintChange = (amount) => {\n    setUnxNeededForMint(amount)\n    if (unxPrice && amount) {\n      setMintAmount(new BigNumber(amount).times(unxPrice).div(mintAsset.price).times(1 - TRANSACTION_FEE_RATE).toFixed(mintAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setMintAmount('')\n    }\n  }\n\n  const handleBurnAmountChange = (amount) => {\n    setBurnAmount(amount)\n    if (unxPrice && amount) {\n      setUnxGetForBurn(new BigNumber(amount).times(burnAsset.assetPrice).div(unxPrice).times(1 - TRANSACTION_FEE_RATE).toFixed(unxToken.decimals))\n    } else if (Number(amount) === 0) {\n      setUnxGetForBurn('')\n    }\n  }\n\n  const handleUnxGetForBurnChange = (amount) => {\n    setUnxGetForBurn(amount)\n    if (unxPrice && amount) {\n      setBurnAmount(new BigNumber(amount).times(unxPrice).div(burnAsset.assetPrice).div(1 - TRANSACTION_FEE_RATE).toFixed(burnAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setBurnAmount('')\n    }\n  }\n\n  const handleExchangeAmountChange = (amount) => {\n    setExchangeAmount(amount)\n    if (amount) {\n      setExchangeToAmount(new BigNumber(exchangeAsset.price).div(exchangeToAsset.price).times(amount).times(10 ** exchangeAsset.decimals).div(10 ** exchangeToAsset.decimals).times(1 - TRANSACTION_FEE_RATE).toFixed(exchangeToAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setExchangeToAmount('')\n    }\n  }\n\n  const handleChengeExchangeToAmount = (amount) => {\n    setExchangeToAmount(amount)\n    if (amount) {\n      setExchangeAmount(new BigNumber(amount).times(10 ** exchangeToAsset.decimals).div(10 ** exchangeAsset.decimals).times(exchangeToAsset.price).div(exchangeAsset.price).div(1 - TRANSACTION_FEE_RATE).toFixed(exchangeAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setExchangeAmount('')\n    }\n  }\n\n  const maxBurnAmount = () => {\n    if (burnAsset) {\n      handleBurnAmountChange(new BigNumber(burnAsset.balance).div(10 ** burnAsset.decimals).toString())\n    }\n  }\n\n  const maxExchangeAmount = () => {\n    if (exchangeAsset) {\n      handleExchangeAmountChange(new BigNumber(exchangeAsset.balance).div(10 ** exchangeAsset.decimals).toString())\n    }\n  }\n\n  const handleChangeExchangeToAsset = (asset) => {\n    setExchangeToAsset(asset)\n    if (exchangeAmount) {\n      setExchangeToAmount(new BigNumber(exchangeAsset.price).div(asset.price).times(exchangeAmount).times(10 ** exchangeAsset.decimals).div(10 ** asset.decimals).times(1 - TRANSACTION_FEE_RATE).toFixed(asset.decimals))\n    } else if (Number(exchangeAmount) === 0) {\n      setExchangeToAmount('')\n    }\n  }\n\n  async function onMint() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (unxToken.id && mintAsset.assetId && SYNTH_ADDRESS) {\n      if (mintAmount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(unxNeededForMint).times(new BigNumber(10 ** unxToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: mintAsset.assetId\n          }\n        ]\n        const mintResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'mint',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (mintResult.transaction) {\n          setShowMintModal(false)\n          setMintAmount('')\n          setUnxNeededForMint('')\n\n          let detail = ''\n\n          EventRequest({\n            method: 'get',\n            url: `${mintResult.transaction}`\n          }).then((resp) => {\n            if (resp.Desc === 'SUCCESS') {\n              try {\n                const eventStates = resp.Result.Notify.find((notify) => notify.States[0] === 'mint').States\n\n                if (eventStates[5] === '0') {\n                  detail = `Your last transaction successfully freezed the ${mintAsset.label} asset, you'll get 1 of the redeemed UNX when burnt.`\n                }\n              } catch (e) {}\n\n              setInfoModal('success', mintResult.transaction, detail)\n            }\n          }).catch((e) => {\n            setInfoModal('success', mintResult.transaction)\n          })\n        }\n      } catch (e) {\n        setShowMintModal(false)\n        setMintAmount('')\n        setUnxNeededForMint('')\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onBurn() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (unxToken.id && burnAsset.assetId && SYNTH_ADDRESS) {\n      if (burnAmount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: burnAsset.assetId\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(burnAmount).times(new BigNumber(10 ** burnAsset.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const burnResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'burn',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (burnResult.transaction) {\n          setShowBurnModal(false)\n          setBurnAmount('')\n          setUnxGetForBurn('')\n          setInfoModal('success', burnResult.transaction)\n        }\n      } catch (e) {\n        setShowBurnModal(false)\n        setBurnAmount('')\n        setUnxGetForBurn('')\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onBurnAll() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (unxToken.id && SYNTH_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const burnAllResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'burn_all_asset',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (burnAllResult.transaction) {\n          setInfoModal('success', burnAllResult.transaction)\n        }\n      } catch (e) {\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onExchange() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (unxToken.id && exchangeAsset.assetId && SYNTH_ADDRESS) {\n      if (exchangeAmount <= 0) {\n        Alert.error('Amount should be greater than 0')\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: exchangeAsset.assetId\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(exchangeAmount).times(new BigNumber(10 ** exchangeAsset.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },{\n            type: 'Long',\n            value: exchangeToAsset.assetId\n          }\n        ]\n        const exchangeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'asset_swap',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (exchangeResult.transaction) {\n          setShowExchangeModal(false)\n          setExchangeAmount('')\n          setExchangeToAmount('')\n\n          let detail = ''\n\n          EventRequest({\n            method: 'get',\n            url: `${exchangeResult.transaction}`\n          }).then((resp) => {\n            if (resp.Desc === 'SUCCESS') {\n              try {\n                const eventStates = resp.Result.Notify.find((notify) => notify.States[0] === 'asset_swap').States\n\n                if (eventStates[4] === '0') {\n                  detail = `Your last transaction successfully freezed the ${exchangeAsset.label} asset, you'll get 1 of the redeemed UNX when burnt.`\n                }\n              } catch (e) {}\n\n              setInfoModal('success', exchangeResult.transaction, detail)\n            }\n          }).catch((e) => {\n            setInfoModal('success', exchangeResult.transaction)\n          })\n        }\n      } catch (e) {\n        setShowExchangeModal(false)\n        setExchangeAmount('')\n        setExchangeToAmount('')\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onClaim() {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (unxToken.id && SYNTH_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const claimResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'claim_unx',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (claimResult.transaction) {\n          setInfoModal('success', claimResult.transaction)\n        }\n      } catch (e) {\n        setInfoModal('error')\n      }\n    }\n  }\n\n  const handleFreezeAsset = async (asset) => {\n    if (!account) {\n      Alert.show('Please Connect Wallet First')\n      return\n    }\n\n    if (SYNTH_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: asset.assetId\n          }\n        ]\n        const freezeResult = await client.api.smartContract.invokeWasm({\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'freeze_asset',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (freezeResult.transaction) {\n          setInfoModal('success', freezeResult.transaction)\n        }\n      } catch (e) {\n        setInfoModal('error')\n      }\n    }\n  }\n\n  const calcEffectiveLeverage = (asset) => {\n    if (asset.leverageType === LEVERAGE_TYPE.Positive) {\n      return new BigNumber(asset.tokenPrice).times(asset.times)\n        .div(new BigNumber(asset.tokenPrice).times(asset.times).plus(asset.entryPrice).minus(new BigNumber(asset.entryPrice).times(asset.times)))\n        .toFixed(2)\n    } else if (asset.leverageType === LEVERAGE_TYPE.Negative) {\n      return new BigNumber(asset.tokenPrice).times(asset.times)\n        .div(new BigNumber(asset.entryPrice).times(asset.times).plus(asset.entryPrice).minus(new BigNumber(asset.tokenPrice).times(asset.times)))\n        .toFixed(2)\n    }\n  }\n\n  const getPriceDetail = (asset) => {\n    let txt = `Entry Price: ${new BigNumber(asset.entryPrice).div(SYNTH_PRICE_DECIMALS).toString()}`\n    if (Number(asset.lowLimit)) {\n      txt += ` Low Limit: ${new BigNumber(asset.lowLimit).div(SYNTH_PRICE_DECIMALS).toString()}`\n    }\n    if (Number(asset.highLimit)) {\n      txt += ` High Limit: ${new BigNumber(asset.highLimit).div(SYNTH_PRICE_DECIMALS).toString()}`\n    }\n    \n    return txt\n  }\n\n  const renderAssetList = () => {\n    if (synthType === 'mint') {\n      if (stat.liveAssets) {\n        const assetList = stat.liveAssets.map((la) => {\n          const accountAsset = marketStat.accountAssetBalances ? marketStat.accountAssetBalances.find((ab) => ab.assetId === la.assetId) : null\n          const showPriceDetail = !(la.times === 1 && la.leverageType === LEVERAGE_TYPE.Positive)\n\n          if (accountAsset) {\n            la.holdings = new BigNumber(accountAsset.assetPrice).div(SYNTH_PRICE_DECIMALS).times(accountAsset.balance).div(10 ** la.decimals).toString()\n          }\n\n          la.effectiveLeverage = calcEffectiveLeverage(la)\n\n          return (\n            <div className={`synth-assets-list-item ${la.unprocessedFrozen ? 'unprocessed-frozen' : ''}`} key={la.assetId}>\n              <div className=\"synth-assets-list-item-name\">\n                <div className={`synth-assets-list-item-icon icon-${la.tokenName}`}>\n                  {\n                    showPriceDetail ? (\n                      <Tooltip placement=\"top\" overlay={getPriceDetail(la)}><span>{la.label}</span></Tooltip>\n                    ) : <span>{la.label}</span>\n                  }\n                  {\n                    la.unprocessedFrozen ? (\n                      <Tooltip placement=\"top\" overlay=\"The first one that freezes an asset will get 1 of burning fee from all holders\">\n                        <span className=\"freeze-asset-btn\" onClick={() => handleFreezeAsset(la)}></span>\n                      </Tooltip>\n                    ) : null\n                  }\n                </div>\n              </div>\n              <div className=\"synth-assets-list-item-price\">{new BigNumber(la.price).div(SYNTH_PRICE_DECIMALS).toString()}</div>\n              <div className=\"synth-assets-list-item-holding\">{la.holdings || 0}</div>\n              <div className=\"synth-assets-list-item-leverage\">{la.effectiveLeverage}</div>\n              <div className=\"synth-assets-list-item-action\">\n                <div className=\"synth-assets-list-item-action-mint\" onClick={() => { setShowMintModal(true); setMintAsset(la); }}>Mint</div>\n              </div>\n            </div>\n          )\n        })\n        return assetList.length ? assetList : (<div className=\"empty-asset-hint\">No Assets</div>)\n      } else {\n        return (<div className=\"asset-loading-hint\">Loading...</div>)\n      }\n    } else {\n      if (marketStat.accountAssetBalances) {\n        const assetList = marketStat.accountAssetBalances.map((ab) => {\n          let asset = stat.liveAssets ? stat.liveAssets.find((la) => la.assetId === ab.assetId) : null\n\n          if (!asset) {\n            asset = stat.frozenAssets ? stat.frozenAssets.find((fa) => fa.assetId === ab.assetId) : null\n\n            if (asset) {\n              asset.isFrozen = true\n            }\n          }\n\n          if (asset) {\n            if (!asset.isFrozen) {\n              if ((asset.lowLimit && new BigNumber(asset.tokenPrice).lte(new BigNumber(asset.lowLimit))) || (asset.highLimit && new BigNumber(asset.tokenPrice).gte(new BigNumber(asset.highLimit)))) {\n                asset.unprocessedFrozen = true\n              }\n            }\n            asset.balance = ab.balance\n            asset.assetPrice = ab.assetPrice\n            asset.effectiveLeverage = calcEffectiveLeverage(asset)\n          }\n          return asset ? (\n            <div className={`synth-assets-list-item ${asset.isFrozen ? 'frozen' : ''} ${asset.unprocessedFrozen ? 'unprocessed-frozen' : ''}`} key={ab.assetId}>\n              <div className=\"synth-assets-list-item-name\">\n                <div className={`synth-assets-list-item-icon icon-${asset.tokenName}`}>\n                  {asset.label}\n                  {\n                    asset.unprocessedFrozen ? (\n                      <Tooltip placement=\"top\" overlay=\"The first one that freezes an asset will get 1 of burning fee from all holders\">\n                        <span onClick={() => handleFreezeAsset(asset)}></span>\n                      </Tooltip>\n                    ) : null\n                  }\n                </div>\n              </div>\n              <div className=\"synth-assets-list-item-price\">{new BigNumber(ab.assetPrice).div(SYNTH_PRICE_DECIMALS).toString()}</div>\n              <div className=\"synth-assets-list-item-holding\">{new BigNumber(ab.assetPrice).div(SYNTH_PRICE_DECIMALS).times(ab.balance).div(10 ** asset.decimals).toString()}</div>\n              <div className=\"synth-assets-list-item-leverage\">{asset.effectiveLeverage}</div>\n              <div className=\"synth-assets-list-item-action\">\n                <div className=\"synth-assets-list-item-action-burn\" onClick={() => { setShowBurnModal(true); setBurnAsset(asset); }}>Burn</div>\n                <div className=\"synth-assets-list-item-action-exchange\"\n                  onClick={() => {\n                    setShowExchangeModal(true)\n                    setExchangeAsset(asset)\n                    const toAssets = stat.liveAssets.filter((la) => la.assetId !== asset.assetId)\n                    setExchangeToAssets(toAssets)\n                    setExchangeToAsset(toAssets[0])\n                  }}\n                >Exchange</div>\n              </div>\n            </div>\n          ) : null\n        })\n\n        return assetList.length ? assetList : (<div className=\"empty-asset-hint\">No Assets</div>)\n      } else {\n        return (<div className=\"asset-loading-hint\">Loading...</div>)\n      }\n    }\n  }\n\n  const setInfoModal = (type, transaction, detail) => {\n    setModal('infoModal', {\n      show: true,\n      type,\n      text: type === 'success' ? 'Transaction Successful' : 'Transaction Failed',\n      detail,\n      extraText: type === 'success' ? 'View Transaction' : '',\n      extraLink: type === 'success' ? `${TRANSACTION_BASE_URL}${transaction}${TRANSACTION_AFTERFIX}` : ''\n    })\n  }\n\n  return (\n    <div className=\"synth-container\">\n      <div className=\"synth-overview-sections\">\n        <div className=\"synth-overview-section\">\n          <div className=\"synth-overview-sub-section\">\n            <p className=\"synth-overview-section-title\">Mint APY</p>\n            <p className=\"synth-overview-detail\">{(marketStat.marketStakeValue && unxToken.id) ? new BigNumber(poolStat.distributionInfo.amount || 0).div(poolStat.distributionInfo.period || 1).times(86400 * 365).times(10 ** unxToken.decimals).times(synthPoolWeightRatio || 0).div(marketStat.marketStakeValue).toFixed(2) : 0}%</p>\n          </div>\n          <div className=\"synth-overview-section-group\">\n            <div className=\"synth-overview-sub-section\">\n              <p className=\"synth-overview-section-title\">Market Balance</p>\n              <p className=\"synth-overview-detail\">{marketStat.marketTokenBalance ? new BigNumber(marketStat.marketTokenBalance).div(10 ** unxToken.decimals).toFixed(unxToken.decimals) : '0'} <span>UNX</span></p>\n            </div>\n          </div>\n        </div>\n        <div className=\"synth-overview-section-right\">\n          <div className=\"synth-overview-sub-section\">\n            <p className=\"synth-overview-section-title\">Transferable</p>\n            <p className=\"synth-overview-detail\">{(marketStat.transferable && marketStat.transferable !== '0') ? new BigNumber(marketStat.transferable).plus(availableReward).div(10 ** unxToken.decimals).toFixed(unxToken.decimals) : '0'} <span>UNX</span></p>\n          </div>\n          <div className=\"synth-overview-section-group\">\n            <div className=\"synth-overview-sub-section\">\n              <p className=\"synth-overview-section-title\">Staked Available</p>\n              <p className=\"synth-overview-detail\">{(marketStat.transferable && marketStat.transferable !== '0') ? (new BigNumber(marketStat.transferable)).div(10 ** unxToken.decimals).toFixed(unxToken.decimals) : '0'} <span>UNX</span>\n                { (marketStat.transferable && marketStat.transferable !== '0') ? <span className=\"synth-overview-action-btn synth-overview-action-btn-burn\" onClick={() => onBurnAll()}>Burn All</span> : null }\n              </p>\n            </div>\n            <div className=\"synth-overview-sub-section\">\n              <p className=\"synth-overview-section-title\">Rewards Available</p>\n              <p className=\"synth-overview-detail\">{unxToken.id ? new BigNumber(availableReward).div(10 ** unxToken.decimals).toString() : 0}\n                <span>UNX</span>\n                { (availableReward && availableReward !== '0') ? <span className=\"synth-overview-action-btn\" onClick={() => onClaim()}>Claim</span> : null }\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"mint-burn-wrapper\">\n        <div className=\"mint-burn-main\">\n          <div className=\"synth-type-switch\">\n            <div className={`synth-type-item ${synthType === 'mint' ? 'selected' : ''}`} onClick={() => setSynthType('mint')}>Mint</div>\n            <div className={`synth-type-item ${synthType === 'burn' ? 'selected' : ''}`} onClick={() => setSynthType('burn')}>Burn</div>\n          </div>\n          <div className=\"market-asset-value\">Market Asset Value: &nbsp;&nbsp;<span>${new BigNumber(marketStat.marketAssetValue || 0).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n          <div className=\"synth-assets-panel\">\n            <div className=\"synth-assets-panel-header\">\n              <div className=\"panel-header-item panel-header-item-asset\">Asset</div>\n              <div className=\"panel-header-item\">Price($)</div>\n              <div className=\"panel-header-item\">Holdings($)</div>\n              <div className=\"panel-header-item\">Effective Leverage</div>\n              <div className=\"panel-header-item panel-header-item-action\"></div>\n            </div>\n            <div className=\"synth-assets-list\">\n              {renderAssetList()}\n            </div>\n          </div>\n        </div>\n        {\n          synthType === 'mint' ? (\n            <div className=\"mint-burn-info\">\n              <div className=\"mint-burn-info-title\">Mint Synthetics by staking UNX</div>\n              <div className=\"mint-burn-info-desc\">UNX stakers earn staking rewards once minted.</div>\n              <div className=\"mint-burn-account-info\">\n                <div className=\"mint-burn-account-info-line\">Minted With <span>{new BigNumber(marketStat.accountStakeValue || 0).div(10 ** unxToken.decimals).toString() || '0'} UNX</span></div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mint-burn-info\">\n              <div className=\"mint-burn-info-title\">Burn Synthetics to unstake UNX</div>\n              <div className=\"mint-burn-info-desc\">Burn your synthetics to withdraw UNX.</div>\n              <div className=\"mint-burn-account-info\">\n                <div className=\"mint-burn-account-info-line\">Assets($) <span>{new BigNumber(marketStat.accountAssetValue).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n              </div>\n              <div className=\"mint-burn-info-note\"><strong>NOTE</strong>: when \"Effective Leverage\" is lower than 0.5 or higher than 2.0 times of nominal leverage, your asset will be frozen. <span>You have to burn it within 3 days.</span> Otherwise, your asset will be burned and the UNX will be donated to staked pool.</div>\n            </div>\n          )\n        }\n        \n      </div>\n      {\n        showMintModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => {setShowMintModal(false);setMintAmount('');setUnxNeededForMint('');}}></div>\n              <div className=\"mint-wrapper\">\n                <div className=\"mint-wrapper-title\">Mint {mintAsset.label}</div>\n                <div className=\"mint-wrapper-info\">Price($)<span>{new BigNumber(mintAsset.price).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">Amount</div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={mintAmount} decimals={mintAsset.decimals || 0} onChange={(amount) => handleMintAmountChange(amount)} />\n                  </div>\n                </div>\n                <TokenInput\n                  label=\"You need to pay (UNX)\"\n                  value={unxNeededForMint}\n                  defaultToken={unxToken}\n                  decimals={unxToken.decimals || 0}\n                  onAmountChange={(amount) => handleUnxNeededForMintChange(amount)} />\n                <div className=\"fee-rate\">* The fee rate of transaction is 0.1%</div>\n                <div className=\"mint-btn\" onClick={() => onMint()}>Mint</div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n      {\n        showBurnModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => {setShowBurnModal(false);setBurnAmount('');setUnxGetForBurn('');}}></div>\n              <div className=\"burn-wrapper\">\n                <div className=\"burn-wrapper-title\">Burn {burnAsset.label}</div>\n                <div className=\"burn-wrapper-info\">Price($)<span>{new BigNumber(burnAsset.assetPrice).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">Amount\n                    <span className=\"hint\">Balance: {new BigNumber(burnAsset.balance).div(10 ** burnAsset.decimals).toString()}</span>\n                  </div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={burnAmount} decimals={burnAsset.decimals || 0} onChange={(amount) => handleBurnAmountChange(amount)} />\n                    <div className=\"input-max-btn\" onClick={() => maxBurnAmount()}>MAX</div>\n                  </div>\n                </div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">You will get (UNX)</div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={unxGetForBurn} decimals={unxToken.decimals || 0} onChange={(amount) => handleUnxGetForBurnChange(amount)} />\n                  </div>\n                </div>\n                <div className=\"fee-rate\">* The fee rate of transaction is 0.1%</div>\n                <div className=\"burn-btn\" onClick={() => onBurn()}>Burn</div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n      {\n        showExchangeModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => {setShowExchangeModal(false);setExchangeAmount('');setExchangeToAmount('');}}></div>\n              <div className=\"exchange-wrapper\">\n                <div className=\"exchange-wrapper-title\">Exchange {exchangeAsset.label}</div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">Amount\n                    <span className=\"hint\">Balance: {new BigNumber(exchangeAsset.balance).div(10 ** exchangeAsset.decimals).toString()}</span>\n                  </div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={exchangeAmount} decimals={exchangeAsset.decimals || 0} onChange={(amount) => handleExchangeAmountChange(amount)} />\n                    <div className=\"input-max-btn\" onClick={() => maxExchangeAmount()}>MAX</div>\n                  </div>\n                </div>\n                <TokenInput\n                  cls=\"asset-select\"\n                  label=\"Exchange to\"\n                  value={exchangeToAmount}\n                  tokens={exchangeToAssets}\n                  showBalance={false}\n                  withMax={false}\n                  onTokenChange={(asset) => handleChangeExchangeToAsset(asset)}\n                  onAmountChange={(amount) => handleChengeExchangeToAmount(amount)}\n                  />\n                <div className=\"fee-rate\">* The fee rate of transaction is 0.1%</div>\n                <div className=\"exchange-btn\" onClick={() => onExchange()}>Exchange</div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n    </div>\n  )\n}\n\nexport default Synth","import React, { useState, useEffect } from 'react'\nimport { useMappedState } from 'redux-react-hook';\nimport { toLocaleFixed } from '../../utils/common'\nimport './index.css'\n\nconst Governance = (props) => {\n  const [hasBegan, setHasBegan] = useState(true)\n  const [leftTime, setLeftTime] = useState({})\n  const { poolStat } = useMappedState((state) => ({\n    poolStat: state.gov.poolStat\n  }))\n\n  const getLeftTime = (t) => {\n    const time = parseInt((new Date(t * 1000) - new Date()) / 1000, 10)\n    const day = parseInt((time < 0 ? 0 : time / 3600 / 24), 10)\n    const hour = parseInt((time < 0 ? 0 : time / 3600 % 24), 10)\n    const minute = parseInt((time < 0 ? 0 : time / 60 % 60), 10)\n    const second = time < 0 ? 0 : time % 60\n    const dateInfo = {\n      day: day < 10 ? `0${day}` : day,\n      hour: hour < 10 ? `0${hour}` : hour,\n      minute: minute < 10 ? `0${minute}` : minute,\n      second: second < 10 ? `0${second}` : second\n    }\n\n    setLeftTime(dateInfo)\n  }\n\n  useEffect(() => {\n    const startTimeStamp = poolStat.distributionInfo.startTimeStamp\n    if (startTimeStamp && new Date(startTimeStamp * 1000) > new Date()) {\n      setHasBegan(false)\n      getLeftTime(poolStat.distributionInfo.startTimeStamp)\n    } else {\n      setHasBegan(true)\n    }\n  }, [poolStat])\n\n  useEffect(() => {\n    const interval = !hasBegan && setInterval(() => getLeftTime(poolStat.distributionInfo.startTimeStamp), 1000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [hasBegan])\n\n  return (\n    <div className=\"governance-wrapper\">\n      <div className=\"overview-wrapper\">\n        <div className=\"overview-title\">Overview</div>\n        {\n          !hasBegan ? (\n            <div className=\"countdown-wrapper\">Distribution will begin in\n              { Number(leftTime.day) ? <div className=\"date-item\">DAYS<p>{leftTime.day}</p></div> : null }\n              { leftTime.hour ? <div className=\"date-item\">HOURS<p>{leftTime.hour}</p></div> : null }\n              { leftTime.minute ? <div className=\"date-item\">MINUTES<p>{leftTime.minute}</p></div> : null }\n              { leftTime.second ? <div className=\"date-item\">SECONDS<p>{leftTime.second}</p></div> : null }\n            </div>\n          ) : null\n        }\n        <div className=\"overview-sections\">\n          <div className=\"overview-left\">\n            <p className=\"overview-section-title\">Total UNX</p>\n            <p className=\"overview-detail\">{toLocaleFixed(poolStat.distributionInfo.amount || 0)}</p>\n          </div>\n          <div className=\"overview-right\">\n            <p className=\"overview-section-title\">Daily Distribution</p>\n            <p className=\"overview-detail\">{toLocaleFixed(((poolStat.distributionInfo.amount || 0) / (poolStat.distributionInfo.period || 1) * 86400).toFixed(9))} <span>UNX</span></p>\n          </div>\n        </div>\n      </div>\n      <div className=\"distribution-wrapper\">\n        <div className=\"overview-title\">Distribution</div>\n        <div className=\"distribution-sections\">\n          <div className=\"pie-svg\">\n            <svg className=\"donut\" width=\"240px\" height=\"240px\" viewBox=\"0 0 42 42\" role=\"img\">\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#2BBE7F\" stroke-width=\"4\" stroke-dasharray=\"80, 20\" stroke-dashoffset=\"100\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"120\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FE332F\" stroke-width=\"4\" stroke-dasharray=\"8, 92\" stroke-dashoffset=\"219.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"311.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#F4BA5E\" stroke-width=\"4\" stroke-dasharray=\"8, 92\" stroke-dashoffset=\"411\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"503\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#2B3962\" stroke-width=\"4\" stroke-dasharray=\"3, 97\" stroke-dashoffset=\"602.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"699.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#F18DA5\" stroke-width=\"4\" stroke-dasharray=\"1, 99\" stroke-dashoffset=\"799\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"898\"></circle>\n            </svg>\n          </div>\n          <div className=\"pie-desc\">\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#2BBE7F' } }></div>\n              <div className=\"d-item-name\">Community</div>\n              <div className=\"d-item-ratio\">80%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#FE332F' } }></div>\n              <div className=\"d-item-name\">Developer</div>\n              <div className=\"d-item-ratio\">8%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#F4BA5E' } }></div>\n              <div className=\"d-item-name\">Foundation</div>\n              <div className=\"d-item-ratio\">8%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#2B3962' } }></div>\n              <div className=\"d-item-name\">Resoucse Extension</div>\n              <div className=\"d-item-ratio\">3%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#F18DA5' } }></div>\n              <div className=\"d-item-name\">Volunteer</div>\n              <div className=\"d-item-ratio\">1%</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Governance","import { useEffect, useCallback } from 'react'\nimport { client } from '@ont-dev/ontology-dapi'\nimport { utils } from 'ontology-ts-sdk'\nimport { GOVERNANCE_ADDRESS } from '../config'\nimport { handleError } from '../utils/errorHandle'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\n\nconst { StringReader, hexstr2str, reverseHex } = utils\n\nexport const useFetchTokens = () => {\n  const { stopInterval, tokens } = useMappedState((state) => ({\n    stopInterval: state.common.stopInterval,\n    tokens: state.common.tokens\n  }))\n  const dispatch = useDispatch()\n  const setIsUpgrading = useCallback((isUpgrading) => dispatch({ type: 'SET_IS_UPGRADING', isUpgrading }), [])\n  const setLoadingToken = useCallback((loadingToken) => dispatch({ type: 'SET_LOADING_TOKEN', loadingToken }), [])\n  const setTokens = useCallback((tokens) => dispatch({ type: 'SET_TOKENS', tokens }), [])\n  const setStopInterval = useCallback((stopInterval) => dispatch({ type: 'SET_STOP_INTERVAL', stopInterval }), [])\n  const setPoolStat = useCallback((poolStat) => dispatch({ type: 'SET_POOL_STAT', poolStat }), [])\n\n  useEffect(() => {\n    getGovStat()\n    let interval = !stopInterval && !tokens.length && setInterval(() => getGovStat, 1000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, stopInterval])\n\n  async function getGovStat() {\n    if (!tokens.length) {\n      try {\n        const statStr = await client.api.smartContract.invokeWasmRead({\n          scriptHash: GOVERNANCE_ADDRESS,\n          operation: 'stat',\n          args: []\n        })\n\n        const strReader = new StringReader(statStr)\n        const distributionInfo = {}\n        distributionInfo.amount = strReader.readUint128() / (10 ** 9)\n        distributionInfo.period = strReader.readUint128()\n        distributionInfo.startTimeStamp = strReader.readUint128()\n        distributionInfo.settledTimeStamp = strReader.readUint128()\n  \n        const pools = {}\n        const poolCount = strReader.readNextLen()\n        let totalWeight = 0\n        for (let i = 0; i < poolCount; i++) {\n          const pool = {}\n          const nameLength = strReader.readNextLen()\n          pool.name = hexstr2str(strReader.read(nameLength))\n          pool.address = reverseHex(strReader.read(20))\n          pool.weight = strReader.readUint128()\n          totalWeight += pool.weight\n          pools[pool.name] = pool\n        }\n\n        for (let poolName in pools) {\n          pools[poolName].ratio = pools[poolName].weight / totalWeight\n        }\n  \n        const upgrade = strReader.readBoolean()\n        const parsedTokens = []\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          const token = {}\n          token.id = strReader.readUint128()\n          const nameLength = strReader.readNextLen()\n          token.name = hexstr2str(strReader.read(nameLength))\n          token.address = reverseHex(strReader.read(20))\n          token.ty = strReader.readUint8()\n          token.decimals = strReader.readUint128()\n\n          token.value = token.id\n          token.label = token.name\n\n          parsedTokens.push(token)\n        }\n\n        if (upgrade) {\n          setIsUpgrading(true)\n        }\n\n        setLoadingToken(false)\n        setTokens(parsedTokens)\n        setPoolStat({\n          distributionInfo,\n          pools,\n          upgrade\n        })\n      } catch (e) {\n        console.log(e)\n        handleError(e, (errorCode) => {\n          console.log(errorCode)\n          if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n            setStopInterval(true)\n          } else {\n            console.log('get all tokens', e)\n          }\n        })\n      }\n    }\n  }\n\n  return null\n}","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useEffect, useCallback } from 'react'\nimport {\n  // BrowserRouter as Router,\n  HashRouter as Router,\n  Switch,\n  Route\n} from 'react-router-dom'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport Header from './components/header'\nimport Modal from './components/modal'\nimport Transaction from './pages/transaction'\nimport Swap from './pages/swap'\nimport Pool from './pages/pool'\nimport AddLiquidity from './pages/pool/addLiquidity'\nimport RemoveLiquidity from './pages/pool/removeLiquidity'\nimport Staking from './pages/staking'\nimport StakingDetail from './pages/staking/detail'\nimport Token from './pages/token'\nimport Option from './pages/option'\n// import Trade from './pages/trade'\nimport Synth from './pages/synth'\nimport Overview from './pages/governance'\nimport { NETWORK_TYPE, READY_TABS } from './config'\nimport { useFetchTokens } from './hooks/useToken'\nimport './App.css'\n\nexport const App = () => {\n  const Alert = useAlert()\n  const { account, isUpgrading, loadingToken } = useMappedState((state) => ({\n    isUpgrading: state.common.isUpgrading,\n    loadingToken: state.common.loadingToken,\n    account: state.wallet.account\n  }))\n  const dispatch = useDispatch()\n  const setAccount = useCallback((account) => dispatch({ type: 'SET_ACCOUNT', account }), [])\n\n  useEffect(() => {\n    let retryTimes = 3\n    const interval = setInterval(() => {\n      client.api.provider.getProvider()\n        .then(() => {\n          clearInterval(interval)\n        })\n        .catch((e) => {\n          if (e === 'NO_PROVIDER') {\n            retryTimes--\n            if (!retryTimes) {\n              Alert.error('Please install wallet extension first')\n            }\n          }\n        })\n    }, 500)\n  }, [])\n\n  useEffect(() => {\n    client.api.network.getNetwork()\n      .then((network) => {\n        if (network && network.type !== NETWORK_TYPE) {\n          Alert.error(`Please connect to the ${NETWORK_TYPE}-Net`)\n          return\n        }\n      })\n      .catch((e) => {\n        console.log(e)\n      })\n  }, [])\n\n  useFetchTokens()\n\n  async function onConnectWallet() {\n    try {\n      const accountAddress = await client.api.asset.getAccount()\n      setAccount(accountAddress)\n      localStorage.setItem('account', accountAddress)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  function onSignOut() {\n    setAccount('')\n    localStorage.setItem('account', '')\n  }\n\n  function renderLoading() {\n    if (loadingToken) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper transparent-bg\">\n            <div className=\"modal-icon-loading modal-icon\"></div>\n            <div className=\"modal-text light\">Loading...</div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function renderUpgrading() {\n    if (isUpgrading) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper transparent-bg\">\n            <div className=\"modal-icon-upgrading modal-icon\"></div>\n            <div className=\"modal-text light\">UNIQ-EX is upgrading...</div>\n          </div>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <Router>\n      {renderLoading()}\n      {\n        !isUpgrading ? (\n          <div className=\"app\">\n            <React.Fragment>\n              {\n                (account === null) && <div className=\"connect-wallet-overlay\">\n                  <div className=\"connect-wrapper\">\n                    <p className=\"connect-title\">Connect Wallet</p>\n                    <div className=\"wallet-item\" onClick={() => onConnectWallet()}>Cyano Wallet</div>\n                  </div>\n                </div>\n              }\n              <Modal />\n              <Header onSignOut={() => onSignOut()} onConnectWallet={() => onConnectWallet()} />\n              <div className=\"main-wrapper\">\n                <Switch>\n                  {\n                    READY_TABS.indexOf('/') >= 0 ?\n                    <Route exact path=\"/\">\n                      <Staking />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/') >= 0 ?\n                    <Route exact path=\"/staking/:id\">\n                      <StakingDetail />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/swap\">\n                      <Swap />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/pool\">\n                      <Pool />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/pool/add\">\n                      <AddLiquidity />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/pool/remove/:id\">\n                      <RemoveLiquidity />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/trade') >= 0 ?\n                    <Route exact path=\"/trade\">\n                      <Transaction />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/governance') >= 0 ?\n                    <Route exact path=\"/governance\">\n                      <Overview />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/token') >= 0 ?\n                    <Route exact path=\"/token\">\n                      <Token />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/option') >= 0 ?\n                    <Route exact path=\"/option\">\n                      <Option />\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/synth') >= 0 ?\n                    <Route exact path=\"/synth\">\n                      <Synth />\n                    </Route> : null\n                  }\n                </Switch>\n              </div>\n            </React.Fragment>\n          </div>\n        ) : renderUpgrading()\n      }\n      \n    </Router>\n  )\n}\n","const initState = {\n  infoModal: {\n    show: false,\n    type: '',\n    text: '',\n    extraText: '',\n    extraLink: ''\n  },\n}\n\nexport const modal = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_MODAL':\n      return { ...state, [action.modalType]: action.modalDetail }\n    default:\n      return { ...state }\n  }\n}","const initState = {\n  account: localStorage.getItem('account'),\n  slippage: localStorage.getItem('slippage') || '0.1'\n}\n\nexport const wallet = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_ACCOUNT':\n      return { ...state, account: action.account }\n    case 'SET_SLIPPAGE':\n      localStorage.setItem('slippage', action.slippage)\n      return { ...state, slippage: action.slippage }\n    default:\n      return { ...state }\n  }\n}","const initState = {\n  isUpgrading: false,\n  loadingToken: true,\n  stopInterval: false,\n  tokens: []\n}\n\nexport const common = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_IS_UPGRADING':\n      return { ...state, isUpgrading: action.isUpgrading }\n    case 'SET_LOADING_TOKEN':\n      return { ...state, loadingToken: action.loadingToken }\n    case 'SET_STOP_INTERVAL':\n      return { ...state, stopInterval: action.stopInterval }\n    case 'SET_TOKENS':\n      return { ...state, tokens: action.tokens }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  poolStat: {\n    distributionInfo: {},\n    pools: {\n      staking: {},\n      swap: {},\n      dex: {},\n      synth: {}\n    },\n    upgrade: false\n  }\n}\n\nexport const gov = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_POOL_STAT':\n      return { ...state, poolStat: action.poolStat }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  tokens: [],\n  pairs: []\n}\n\nexport const swap = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_SWAP_TOKENS':\n      return { ...state, tokens: action.tokens }\n    case 'SET_PAIRS':\n      return { ...state, pairs: action.pairs }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  tokens: []\n}\n\nexport const staking = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_STAKING_TOKENS':\n      return { ...state, tokens: action.tokens }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  stat: {},\n  marketStat: {},\n  availableReward: 0,\n  synthType: 'mint'\n}\n\nexport const synth = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_SYNTH_STAT':\n      return { ...state, stat: action.stat }\n    case 'SET_SYNTH_MARKET_STAT':\n      return { ...state, marketStat: action.marketStat }\n    case 'SET_SYNTH_AVAILABLE_REWARD':\n      return { ...state, availableReward: action.availableReward }\n    case 'SET_SYNTH_TYPE':\n      return { ...state, synthType: action.synthType }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  makes: [],\n  myMakes: [],\n  pairs: [],\n  tradeType: 'buy',\n  tokenPair: {},\n  makeView: 'all',\n  pool: [],\n  lastPrice: 0,\n  feeRate: 0\n}\n\nexport const trade = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_TRADE_MAKES':\n      return { ...state, makes: action.makes }\n    case 'SET_TRADE_MY_MAKES':\n      return { ...state, myMakes: action.myMakes }\n    case 'SET_TRADE_PAIRS':\n      return { ...state, pairs: action.pairs }\n    case 'SET_TRADE_TYPE':\n      return { ...state, tradeType: action.tradeType }\n    case 'SET_TRADE_TOKEN_PAIR':\n      return { ...state, tokenPair: action.tokenPair }\n    case 'SET_TRADE_MAKE_VIEW':\n      return { ...state, makeView: action.makeView }\n    case 'SET_TRADE_POOL':\n      return { ...state, pool: action.pool }\n    case 'SET_TRADE_LAST_PRICE':\n      return { ...state, lastPrice: action.lastPrice }\n    case 'SET_TRADE_FEE_RATE': \n      return { ...state, feeRate: action.feeRate }\n    default:\n      return { ...state }\n  }\n}\n","import { combineReducers } from 'redux'\nimport { modal } from './modal'\nimport { wallet } from './wallet'\nimport { common } from './common'\nimport { gov } from './gov'\nimport { swap } from './swap'\nimport { staking } from './staking'\nimport { synth } from './synth'\nimport { trade } from './trade'\n\nconst reducers = combineReducers({\n  modal,\n  wallet,\n  common,\n  gov,\n  swap,\n  staking,\n  synth,\n  trade\n})\n\nexport default reducers","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\nimport * as Ontology from '@ont-dev/ontology-dapi';\nimport { positions, Provider } from \"react-alert\";\nimport { createStore } from 'redux';\nimport { StoreContext } from 'redux-react-hook';\nimport AlertTemplate from \"react-alert-template-basic\";\nimport reducers from './reducers';\nimport reportWebVitals from './reportWebVitals';\n\nimport 'rc-tooltip/assets/bootstrap.css'\nimport './styles/font.css';\nimport './styles/common.css';\nimport './index.css';\n\nconst store = createStore(reducers)\n\nOntology.client.registerClient({});\n\nconst options = {\n  timeout: 10000,\n  position: positions.TOP_CENTER\n};\n\nReactDOM.render(\n  <Provider template={AlertTemplate} {...options}>\n    <StoreContext.Provider value={store}>\n      <App />\n    </StoreContext.Provider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}