{"version":3,"sources":["../node_modules/milagro-crypto-js/src sync /^/.//.*$","components/input/index.js","config.js","utils/common.js","components/header/index.js","components/modal/index.js","utils/request.js","utils/token.js","utils/cyano.js","utils/errorHandle.js","utils/constants.js","pages/transaction/index.js","components/tokenInput/index.js","hooks/usePair.js","utils/swap.js","pages/swap/index.js","pages/pool/index.js","pages/pool/addLiquidity/index.js","pages/pool/removeLiquidity/index.js","pages/staking/index.js","pages/staking/detail/index.js","pages/token/index.js","pages/option/index.js","components/countdown/index.js","pages/coming/index.js","utils/eventRequest.js","pages/synth/index.js","pages/governance/index.js","hooks/useToken.js","App.js","reducers/modal.js","reducers/wallet.js","reducers/common.js","reducers/gov.js","reducers/swap.js","reducers/staking.js","reducers/synth.js","reducers/trade.js","reducers/pool.js","reducers/index.js","reportWebVitals.js","i18n.js","i18n/en.js","i18n/zh.js","index.js"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","Input","props","value","cls","disabled","round","decimals","inline","onChange","useState","val","setVal","useEffect","placeholder","handleInput","formattedValue","v","RegExp","test","formatter","target","className","type","onInput","NETWORK_TYPE","GOVERNANCE_ADDRESS","TRANSACTION_BASE_URL","TRANSACTION_AFTERFIX","READY_TABS","COMING_TABS","toLocaleFixed","num","n","priceNum","parseFloat","Math","toFixed","toString","indexOf","replace","$0","$1","formatAccount","account","substr","languageMap","en","zh","Header","selectedTab","setSelectedTab","showProfilePanel","setShowProfilePanel","showLanguageSelection","setShowLanguageSelection","useMappedState","state","wallet","slippage","dispatch","useDispatch","setSlippage","useCallback","pathname","useLocation","useTranslation","t","tab","handleSwitchLanguage","language","i18next","localStorage","setItem","changeLanguage","to","onClick","onConnectWallet","onMouseEnter","onMouseLeave","Number","amount","onSignOut","InfoModal","onCloseModal","text","detail","extraLink","rel","href","extraText","Modal","infoModal","modal","setModal","modalType","modalDetail","modals","show","push","assign","buildModals","instance","axios","create","baseURL","timeout","headers","interceptors","response","use","data","error","Promise","reject","reverseHex","utils","readBigNumberUint128","reader","str","read","split","reverse","total","BigNumber","i","length","plus","pow","times","parseInt","isZero","getTokenBalance","token","cb","name","param","scriptHash","address","operation","args","invokeMethod","client","api","smartContract","invokeRead","ty","invokeWasmRead","then","bl","div","Request","method","url","resp","targetToken","result","find","asset_name","toLowerCase","balance","catch","console","log","getTokenIconDom","slice","tokenName","cyanoRequest","request","invokeWasm","handleError","callback","json","JSON","parse","Result","PRICE_DECIMALS","SYNTH_PRICE_DECIMALS","ASSET_STATUS","LEVERAGE_TYPE","StringReader","Transaction","pairNameKeyword","setPairNameKeyword","showPairSelectModal","setShowPairSelectModal","stopInterval","common","tokens","trade","CONTRACT_ADDRESS","gov","poolStat","pools","dex","makes","myMakes","pairs","tradeType","tokenPair","makeView","pool","lastPrice","feeRate","isValid","tokenBalance","price","setStopInterval","setMakes","setMyMakes","setPairs","setTokenPair","setTradeType","setMakeView","setPool","setLastPrice","setFeeRate","setIsValid","setTokenBalance","setPrice","setAmount","setTotal","Alert","useAlert","urlPairName","decodeURIComponent","hash","reg","match","getHashString","window","location","getItem","getMakes","curMakes","filter","m","asset_token_id","price_token_id","isMine","mm","make_id","onUnmake","a","assetToken","priceToken","tradeAmount","integerValue","ROUND_DOWN","gasPrice","gasLimit","requireIdentity","makeResult","transaction","makeId","unmakeResult","getPriceHint","getAmountHint","p","getMakesOfPair","makeStr","parsedMakes","strReader","pairLastPrice","readUint128","j","makeCount","readNextLen","make","errorCode","interval","setInterval","clearInterval","getUserMakes","hexToAddress","getStat","statStr","tokenPool","tokenCount","tempToken","weight","tokenPairs","onMake","toUpperCase","tp","generateTokenPool","nameLC","reduce","b","pair","TokenInput","defaultToken","inputDisabled","showBalance","withMax","onTokenChange","onAmountChange","balanceChange","setToken","setBalance","label","dToken","defaultValue","options","isSearchable","components","Option","SingleValue","children","newToken","handleTokenChange","theme","borderRadius","colors","primary","renderTokenSeletion","isNaN","useFetchPairs","swapTokens","swap","SWAP_ADDRESS","setSwapTokens","getSwapStat","pairStr","parsedPairs","pairCount","token1","token2","reserve1","reserve2","lp","min1","min2","tokenIds","tk","REST","findAllPaths","sourceId","targetId","pathArr","findPath","pathNodes","neighborNodes","includes","sort","p1","p2","getInputAmount","output","minus","ROUND_CEIL","getOutputAmount","input","ROUND_FLOOR","findNextOutput","findPrevInput","bestSwap","paths","originAmount","maxOutput","minInput","Infinity","path","gt","lt","Swap","setBalanceChange","swapType","token1Amount","token2Amount","isValidPair","isValidSwap","bestPath","showPrice","setSwapType","setToken1","setToken2","setToken1Amount","setToken2Amount","setIsValidPair","setIsValidSwap","setBestPath","setShowPrice","history","useHistory","swapResult","st","validPair","onChangeToken1","inputAmount","onToken1AmountChange","onChangeToken2","outputAmount","onToken2AmountChange","handleSwap","abs","getPriceImpact","items","index","getBestPath","Pool","liquidityBalance","setLiquidityBalance","all","myLiquidities","l","lb","pairId","shareOfPool","onRemoveLiquidity","generateLiquidityList","AddLiquidity","minToken1","setMinToken1","minToken2","setMinToken2","enableAdd","setEnableAdd","isFirstProvider","setIsFirstProvider","showPriceInfo","setShowPriceInfo","getPairByToken","getPairPrice","onNavigateToPool","goBack","ROUND_UP","addResult","amountProduct","getShareOfPool","onAdd","RemoveLiquidity","setPair","getLiquidityBalanceByPairId","onRemove","Staking","showClosedEntry","setShowClosedEntry","showClosed","setShowClosed","unxPrice","setUnxPrice","tokenPrices","setTokenPrices","stakingTokens","staking","stakingPoolWeightRatio","ratio","STAKING_ADDRESS","setStakingTokens","getStakingTokenPrice","unxToken","parsedTokenPrices","LPTokens","nonLPTokens","lpt","tn","tokenId","tokenPriceStr","tokenNames","nonUnxToken","getStakingTokenBalance","parsedTokens","totalWeight","filteredTokens","originWeight","getTip","subtoken","unxTk","daiTk","openStakingTokens","closedStakingTokens","unxAmount","distributionInfo","period","tokenAPY","startsWith","placement","overlay","onSelectToken","generateStakingPool","StakingDetail","stakeToken","setStakeToken","tokenWeight","setTokenWeight","myStake","setMyStake","stakeType","setStakeType","claimableWing","setClaimableWing","showStakingModal","setShowStakingModal","isEnLanguage","getAccountStake","stakeStr","interest","stake","handleStakeClick","action","stakeResult","harvestResult","sToken","getClaimableWing","Fragment","onHarvest","onStake","Token","Countdown","hasBegan","setHasBegan","leftTime","setLeftTime","getLeftTime","time","Date","day","hour","minute","second","dateInfo","startTimeStamp","Coming","showCountdown","Synth","mintAsset","setMintAsset","mintAmount","setMintAmount","unxNeededForMint","setUnxNeededForMint","burnAsset","setBurnAsset","burnAmount","setBurnAmount","unxGetForBurn","setUnxGetForBurn","exchangeAsset","setExchangeAsset","exchangeToAsset","setExchangeToAsset","exchangeAmount","setExchangeAmount","exchangeToAssets","setExchangeToAssets","exchangeToAmount","setExchangeToAmount","showMintModal","setShowMintModal","showBurnModal","setShowBurnModal","showExchangeModal","setShowExchangeModal","synth","synthPoolWeightRatio","SYNTH_ADDRESS","stat","marketStat","availableReward","synthType","setStat","setMarketStat","setAvailableReward","setSynthType","setUnxToken","marketAssetValue","marketAssetBalances","marketTokenBalance","getAvailableReward","claimStr","liveAssetCount","liveAssets","asset","assetId","leverageType","readNextByte","entryPrice","lowLimit","highLimit","status","frozenBy","frozenTime","readUint64","frozenAssetCount","frozenAssets","tokenPriceCount","tokenPrice","liveAsset","currentPrice","lte","gte","unprocessedFrozen","frozenAsset","getMarketStat","marketAssetBalanceCount","marketAssetValueSum","assetBalance","assetPrice","la","accountAssetBalanceCount","accountAssetBalances","accountAssetValueSum","marketStakeValue","accountStakeValue","accountClaimedValue","accountWithdrawedStakeValue","transferable","parsedMarketStat","accountAssetValue","handleBurnAmountChange","handleExchangeAmountChange","mintResult","EventRequest","Desc","Notify","notify","States","setInfoModal","burnResult","burnAllResult","exchangeResult","claimResult","handleFreezeAsset","freezeResult","calcEffectiveLeverage","getPriceDetail","txt","onBurnAll","onClaim","assetList","accountAsset","ab","showPriceDetail","holdings","effectiveLeverage","fa","isFrozen","toAssets","renderAssetList","handleMintAmountChange","handleUnxNeededForMintChange","onMint","handleUnxGetForBurnChange","onBurn","handleChangeExchangeToAsset","handleChengeExchangeToAmount","onExchange","Governance","width","height","viewBox","role","cx","cy","r","fill","stroke","stroke-width","stroke-dasharray","stroke-dashoffset","style","background","hexstr2str","App","isUpgrading","loadingToken","setAccount","getAccount","accountAddress","retryTimes","provider","getProvider","network","getNetwork","setIsUpgrading","setLoadingToken","setTokens","setPoolStat","getGovStat","settledTimeStamp","poolCount","nameLength","poolName","upgrade","readBoolean","readUint8","useFetchTokens","renderUpgrading","exact","initState","reducers","combineReducers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","defaultLanguage","resources","translation","i18n","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","store","createStore","Ontology","registerClient","position","positions","TOP_CENTER","ReactDOM","render","template","AlertTemplate","Provider","document","getElementById"],"mappings":"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","file":"static/js/main.47c96266.chunk.js","sourcesContent":["var map = {\n\t\"./aes\": 275,\n\t\"./aes.js\": 275,\n\t\"./big\": 276,\n\t\"./big.js\": 276,\n\t\"./ctx\": 176,\n\t\"./ctx.js\": 176,\n\t\"./ecdh\": 277,\n\t\"./ecdh.js\": 277,\n\t\"./ecp\": 278,\n\t\"./ecp.js\": 278,\n\t\"./ecp2\": 279,\n\t\"./ecp2.js\": 279,\n\t\"./ff\": 280,\n\t\"./ff.js\": 280,\n\t\"./fp\": 281,\n\t\"./fp.js\": 281,\n\t\"./fp12\": 282,\n\t\"./fp12.js\": 282,\n\t\"./fp2\": 283,\n\t\"./fp2.js\": 283,\n\t\"./fp4\": 284,\n\t\"./fp4.js\": 284,\n\t\"./gcm\": 285,\n\t\"./gcm.js\": 285,\n\t\"./hash256\": 286,\n\t\"./hash256.js\": 286,\n\t\"./hash384\": 287,\n\t\"./hash384.js\": 287,\n\t\"./hash512\": 288,\n\t\"./hash512.js\": 288,\n\t\"./mpin\": 289,\n\t\"./mpin.js\": 289,\n\t\"./newhope\": 290,\n\t\"./newhope.js\": 290,\n\t\"./nhs\": 291,\n\t\"./nhs.js\": 291,\n\t\"./pair\": 292,\n\t\"./pair.js\": 292,\n\t\"./rand\": 293,\n\t\"./rand.js\": 293,\n\t\"./rom_curve\": 294,\n\t\"./rom_curve.js\": 294,\n\t\"./rom_field\": 295,\n\t\"./rom_field.js\": 295,\n\t\"./rsa\": 296,\n\t\"./rsa.js\": 296,\n\t\"./sha3\": 297,\n\t\"./sha3.js\": 297,\n\t\"./uint64\": 298,\n\t\"./uint64.js\": 298\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 606;","import React, { useState, useEffect } from 'react';\n\nconst Input = (props) => {\n  const { value = '', cls = '', round, disabled, decimals, inline = true, onChange } = props\n  const [val, setVal] = useState('')\n\n  useEffect(() => {\n    setVal(value)\n  //   if (value === '') {\n  //     setVal('')\n  //   } else if (`${value}`.endsWith('.')) {\n  //     setVal(value)\n  //   } else {\n  //     if (round === 'down') {\n  //       setVal(Math.floor(value * (10 ** decimals)) / (10 ** decimals))\n  //     } else if (round === 'up') {\n  //       setVal(Math.ceil(value * (10 ** decimals)) / (10 ** decimals))\n  //     }\n  //   }\n  }, [value])\n\n  const placeholder = decimals > 0 ? '0.0' : '0'\n  const formatter = (v, decimals = 9) => {\n    if (v === '' || v === '0') {\n      return v\n    } else {\n      const reg = (decimals > 0) ? new RegExp(\n        `^(([0-9]{0,20})|(([0]\\\\.\\\\d{0,${decimals}}|[0-9]{0,20}\\\\.\\\\d{0,${decimals}})))$`\n      ) : new RegExp('^[0-9]{0,20}$')\n      if (reg.test(v)) {\n        return v\n      } else {\n        return val\n      }\n    }\n  };\n  const handleInput = (e) => {\n    const formattedValue = formatter(e.target.value, decimals)\n\n    setVal(formattedValue)\n    typeof onChange === 'function' && onChange(formattedValue)\n  }\n\n  // const handleChange = (e) => {\n  //   typeof onChange === 'function' && onChange(e.target.value)\n  // }\n\n  return (\n    <input\n      className={`input ${inline ? 'inline-input' : ''} ${cls}`}\n      type=\"text\"\n      placeholder={placeholder}\n      value={val}\n      disabled={disabled}\n      onInput={(e) => handleInput(e)}\n      // onChange={(e) => handleChange(e)}\n    />\n  );\n};\n\nexport default Input;\n","export const NETWORK_TYPE = 'MAIN'\nexport const GOVERNANCE_ADDRESS = '820d869c18db5e16005627167a8054d9da52c32f'\nexport const API_BASE_URL = 'https://explorer.ont.io'\nexport const TRANSACTION_BASE_URL = 'https://explorer.ont.io/transaction/'\nexport const EVENT_API_BASE_URL = 'https://dappnode1.ont.io:10334/api/v1/smartcode/event/txhash/'\nexport const TRANSACTION_AFTERFIX = ''\nexport const READY_TABS = ['/', '/swap', '/trade', '/governance', '/synth', '/option']\nexport const COMING_TABS = ['/', '/synth', '/option']","export const getQueryString = (search, name) => {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i')\n  const value = search.substr(1).match(reg)\n\n  if (value != null) {\n    return (value[2])\n  }\n\n  return null\n}\n\nexport const getHashString = (hash, name) => {\n  const reg = new RegExp(`(^|&|[/?]+)${name}=([^&]*)(&|$)`, 'i')\n  const value = hash.substr(1).match(reg)\n\n  if (value != null) {\n    return (value[2])\n  }\n\n  return null\n}\n\nexport function toLocaleFixed(num, n = 9) {\n  const priceNum = parseFloat(n === 0 ? Math.round(num).toFixed(n) : parseFloat(num).toFixed(n)).toString()\n  return priceNum && (priceNum.indexOf('.') !== -1 ? priceNum.replace(/(\\d)(?=(\\d{3})+\\.)/g, ($0, $1) => `${$1},`) : priceNum.replace(/(?=(\\B\\d{3})+$)/g, ','))\n}\n\nexport const formatAccount = (account = '') => {\n  return `${account.substr(0, 4)}...${account.substr(-4)}`\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { Link, useLocation } from 'react-router-dom'\nimport i18next from 'i18next'\nimport { useTranslation } from 'react-i18next'\nimport Input from '../input'\nimport { READY_TABS } from '../../config'\nimport { formatAccount } from '../../utils/common'\nimport './index.css'\n\nconst languageMap = {\n  en: 'EN',\n  zh: '中'\n}\n\nconst Header = (props) => {\n  const [selectedTab, setSelectedTab] = useState('')\n  const [showProfilePanel, setShowProfilePanel] = useState(false)\n  const [showLanguageSelection, setShowLanguageSelection] = useState(false)\n  const { account, slippage } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage\n  }))\n  const dispatch = useDispatch()\n  const setSlippage = useCallback((slippage) => dispatch({ type: 'SET_SLIPPAGE', slippage }), [])\n  const pathname = useLocation().pathname\n  const [t] = useTranslation()\n\n  useEffect(() => {\n    let tab = ''\n    if (pathname === '/' || pathname.indexOf('/staking') >= 0) {\n      tab = '/'\n    } else if (pathname.indexOf('/synth') >= 0) {\n      tab = '/synth'\n    } else if (pathname.indexOf('/swap') >= 0 || pathname.indexOf('/pool') >= 0) {\n      tab = '/swap'\n    } else if (pathname.indexOf('/trade') >= 0) {\n      tab = '/trade'\n    } else if (pathname.indexOf('/governance') >= 0) {\n      tab = '/governance'\n    } else if (pathname.indexOf('/token') >= 0) {\n      tab = '/token'\n    } else if (pathname.indexOf('/option') >= 0) {\n      tab = '/option'\n    }\n    \n    setSelectedTab(tab)\n  }, [pathname])\n\n  const handleSwitchLanguage = (language) => {\n    const currentLanguage = i18next.language\n    \n    if (currentLanguage !== language) {\n      localStorage.setItem('language', language)\n      i18next.changeLanguage(language)\n    }\n    setShowLanguageSelection(false)\n  }\n\n  const onSignOut = () => {\n    setShowProfilePanel(false)\n    typeof props.onSignOut === 'function' && props.onSignOut()\n  }\n\n  const onConnectWallet = () => {\n    typeof props.onConnectWallet === 'function' && props.onConnectWallet()\n  }\n\n  return (\n    <div className=\"header-wrapper\">\n      <div className=\"header\">\n        <div className=\"content-wrapper\">\n          <div className=\"logo-wrapper\">UNIQ-EX</div>\n          <div className=\"nav-list\">\n            { READY_TABS.indexOf('/') >= 0 ? <div className={`nav-item ${selectedTab === '/' ? 'selected' : ''}`}><Link to=\"/\">{t('staking')}</Link></div> : null }\n            { READY_TABS.indexOf('/synth') >= 0 ? <div className={`nav-item ${selectedTab === '/synth' ? 'selected' : ''}`}><Link to=\"/synth\">{t('synth')}</Link></div> : null }\n            { READY_TABS.indexOf('/swap') >= 0 ? <div className={`nav-item ${selectedTab === '/swap' ? 'selected' : ''}`}><Link to=\"/swap\">{t('swap')}</Link></div> : null }\n            { READY_TABS.indexOf('/trade') >= 0 ? <div className={`nav-item ${selectedTab === '/trade' ? 'selected' : ''}`}><Link to=\"/trade\">{t('trade')}</Link></div> : null }\n            { READY_TABS.indexOf('/governance') >= 0 ? <div className={`nav-item ${selectedTab === '/governance' ? 'selected' : ''}`}><Link to=\"/governance\">{t('governance')}</Link></div> : null }\n            { READY_TABS.indexOf('/token') >= 0 ? <div className={`nav-item ${selectedTab === '/token' ? 'selected' : ''}`}><Link to=\"/token\">{t('token')}</Link></div> : null }\n            { READY_TABS.indexOf('/option') >= 0 ? <div className={`nav-item ${selectedTab === '/option' ? 'selected' : ''}`}><Link to=\"/option\">{t('option')}</Link></div> : null }\n          </div>\n          <div className={`${account ? 'active' : ''} profile-wrapper`}>\n\n            { !account && <span className=\"connect-btn\" onClick={() => onConnectWallet()}>{t('connect_wallet')}</span>}\n            {\n              account && (\n                <div\n                  className=\"account-address\"\n                  onMouseEnter={() => { setShowProfilePanel(true); setShowLanguageSelection(false); }}\n                  onMouseLeave={() => { setShowProfilePanel(false); setShowLanguageSelection(false); }}>\n                  {formatAccount(account)}\n                  {\n                    showProfilePanel ? (\n                      <div className=\"profile-panel\">\n                        <div className=\"setting-wrapper\">\n                          <div className=\"setting-section-title\">{t('slippage')}</div>\n                          <div className=\"slippage-setting\">\n                            <div className={`slippage-item ${Number(slippage) === 0.1 ? 'selected' : ''}`} onClick={() => setSlippage('0.1')}>0.1%</div>\n                            <div className={`slippage-item ${Number(slippage) === 0.5 ? 'selected' : ''}`} onClick={() => setSlippage('0.5')}>0.5%</div>\n                            <div className={`slippage-item ${Number(slippage) === 1 ? 'selected' : ''}`} onClick={() => setSlippage('1.0')}>1.0%</div>\n                            <div className=\"slippage-input-wrapper\">\n                              <Input value={slippage} cls=\"slippage-input\" decimals=\"2\" placeholder={slippage} onChange={(amount) => setSlippage(amount)} />%\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"signout-btn\" onClick={() => onSignOut()}>{t('signout')}</div>\n                      </div>\n                    ) : null\n                  }\n                </div>\n              )\n            }\n            <div\n              className=\"language-switch\"\n              onMouseEnter={() => { setShowLanguageSelection(true); setShowProfilePanel(false); }}\n              onMouseLeave={() => { setShowLanguageSelection(false); setShowProfilePanel(false); }}>\n              <i>{languageMap[i18next.language]}</i>\n              {\n                showLanguageSelection ? (\n                  <div className=\"language-selection\">\n                    <div className=\"language-item\" onClick={() => handleSwitchLanguage('zh')}>中文</div>\n                    <div className=\"language-item\" onClick={() => handleSwitchLanguage('en')}>English</div>\n                  </div>\n                ) : null\n              }\n            </div>\n            \n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Header","import React, { useCallback } from 'react'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport './index.css'\n\nconst InfoModal = (props) => {\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal-wrapper\">\n        <div className=\"close-btn\" onClick={() => props.onCloseModal()}></div>\n        <div className={`modal-icon-${props.type} modal-icon`}></div>\n        <div className={`modal-text-${props.type} modal-text`}>{props.text}</div>\n        { props.detail ? <div className=\"modal-detail\">{props.detail}</div> : null }\n        <div className=\"modal-extra-text\">\n        {\n          props.extraLink ? (\n            <a className=\"transaction-link\" target=\"_blank\" rel=\"noreferrer\" href={props.extraLink}>{props.extraText}</a>\n          ) : props.extraText\n        }\n        </div>\n      </div>\n    </div>\n  )\n}\n\nconst Modal = (props) => {\n  const { infoModal } = useMappedState((state) => ({\n    infoModal: state.modal.infoModal\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n\n  const onCloseInfoModal = () => {\n    setModal('infoModal', Object.assign({}, infoModal, { show: false }))\n  }\n\n  const buildModals = () => {\n    const modals = []\n    if (infoModal.show) {\n      modals.push(<InfoModal {...infoModal} onCloseModal={() => onCloseInfoModal()} />)\n    }\n    return modals\n  }\n\n  return (\n    <div className=\"modal-container\">\n      {buildModals()}\n    </div>\n  )\n}\n\nexport default Modal","import axios from 'axios'\nimport { API_BASE_URL } from '../config'\n\nconst instance = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000,\n  headers: { 'Content-Type': 'application/json' }\n})\n\ninstance.interceptors.response.use(\n  (response) => {\n    const res = response.data;\n    return res\n  },\n  (error) => {\n    return Promise.reject(error)\n  },\n)\n\nexport default instance","import { client } from '@ont-dev/ontology-dapi'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport Request from './request'\n\nconst { reverseHex } = utils\n\nexport const readBigNumberUint128 = (reader) => {\n  const hexRev = reverseHex(reader.read(16))\n  const str = hexRev.split('').reverse()\n  let total = new BigNumber(0)\n  \n  for (let i = 0; i < str.length; i++) {\n    total = total.plus(new BigNumber(16).pow(i).times(parseInt(str[i], 16)))\n  }\n\n  return total.isZero() ? 0 : total.toString()\n}\n\nexport const getTokenBalance = (account, token, cb) => {\n  \n  if (token.name !== 'ONT' && token.name !== 'ONG') {\n    const param = {\n      scriptHash: token.address,\n      operation: 'balanceOf',\n      args: [\n        {\n          type: 'Address',\n          value: account,\n        },\n      ],\n    }\n    let invokeMethod = client.api.smartContract.invokeRead\n\n    if (token.ty === 2 || token.ty === 3) {\n      invokeMethod = client.api.smartContract.invokeWasmRead\n    }\n    invokeMethod(param).then((bl) => {\n      if (bl) {\n        const str = reverseHex(bl).split('').reverse()\n        let total = new BigNumber(0)\n        \n        for (let i = 0; i < str.length; i++) {\n          total = total.plus(new BigNumber(16 ** i).times(parseInt(str[i], 16)))\n        }\n        \n        cb(total.div(10 ** token.decimals).toString())\n      }\n    })\n  } else {\n    Request({\n      method: 'get',\n      url: `/v2/addresses/${account}/native/balances`\n    }).then((resp) => {\n      if (resp.code === 0) {\n        const targetToken = resp.result.find((t) => t.asset_name === token.name.toLowerCase())\n        cb(targetToken.balance)\n      }\n    })\n    .catch((e) => {\n      console.log(e)\n    })\n  }\n}\n\nexport const getTokenIconDom = (token, cls = '') => {\n  if (token.id) {\n    return (\n      <div className={`token-icon-wrapper ${cls}`}>\n        {\n          token.ty === 3\n            ? token.name.split('-').slice(1).map((tokenName) => (<div key={`${token.name}-${tokenName}`} className={`token-icon-item with-drop-shadow icon-${tokenName}`} />))\n            : (<div className={`token-icon-item icon-${token.name}`} />)\n        }\n      </div>\n    )\n  }\n  return null\n}","import { client } from '@ont-dev/ontology-dapi'\n\nexport const cyanoRequest = (method = 'smartContract.invokeWasmRead', param) => {\n  // console.log('timestamp: ', new Date())\n  // console.log('parameters: ', param)\n  let request = ''\n\n  switch (method) {\n    case 'smartContract.invokeWasmRead':\n      request = client.api.smartContract.invokeWasmRead\n      break\n    case 'smartContract.invokeWasm':\n      request = client.api.smartContract.invokeWasm\n      break\n    default:\n      request = client.api.smartContract.invokeWasmRead\n      break\n  }\n\n  return request(param)\n}\n","export const handleError = (e, callback = () => {}) => {\n  try {\n    const json = JSON.parse(e)\n    if (json.Result === 'wasm contract does not exist') {\n      callback('CONTRACT_ADDRESS_ERROR')\n    }\n  } catch(error) {\n    // TODO\n  }\n}","export const PRICE_DECIMALS = 10 ** 9\nexport const SYNTH_PRICE_DECIMALS = 10 ** 12\nexport const DAI_PRICE = 1\nexport const TRANSACTION_FEE_RATE = 0.001\nexport const ASSET_STATUS = {\n  Live: '00',\n  HighLimit: '01',\n  LowLimit: '02'\n}\nexport const LEVERAGE_TYPE = {\n  Positive: '00',\n  Negative: '01'\n}","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { useTranslation } from 'react-i18next'\nimport { readBigNumberUint128, getTokenBalance } from '../../utils/token'\nimport Input from '../../components/input'\nimport { cyanoRequest } from '../../utils/cyano'\nimport { handleError } from '../../utils/errorHandle'\nimport { getHashString } from '../../utils/common'\nimport { PRICE_DECIMALS } from '../../utils/constants'\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../config'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Transaction = () => {\n  const [pairNameKeyword, setPairNameKeyword] = useState('')\n  const [showPairSelectModal, setShowPairSelectModal] = useState(false)\n  const { account, stopInterval, tokens, makes, myMakes, pairs, tradeType, tokenPair, makeView, pool, lastPrice, feeRate, isValid, tokenBalance, price, amount, total, CONTRACT_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    stopInterval: state.common.stopInterval,\n    tokens: state.common.tokens,\n    ...state.trade,\n    CONTRACT_ADDRESS: state.gov.poolStat.pools.dex.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const setStopInterval = useCallback((stopInterval) => dispatch({ type: 'SET_STOP_INTERVAL', stopInterval }), [])\n  const setMakes = useCallback((makes) => dispatch({ type: 'SET_TRADE_MAKES', makes }), [])\n  const setMyMakes = useCallback((myMakes) => dispatch({ type: 'SET_TRADE_MY_MAKES', myMakes }), [])\n  const setPairs = useCallback((pairs) => dispatch({ type: 'SET_TRADE_PAIRS', pairs }), [])\n  const setTokenPair = useCallback((tokenPair) => dispatch({ type: 'SET_TRADE_TOKEN_PAIR', tokenPair }), [])\n  const setTradeType = useCallback((tradeType) => dispatch({ type: 'SET_TRADE_TYPE', tradeType }), [])\n  const setMakeView = useCallback((makeView) => dispatch({ type: 'SET_TRADE_MAKE_VIEW', makeView }), [])\n  const setPool = useCallback((pool) => dispatch({ type: 'SET_TRADE_POOL', pool }), [])\n  const setLastPrice = useCallback((lastPrice) => dispatch({ type: 'SET_TRADE_LAST_PRICE', lastPrice }), [])\n  const setFeeRate = useCallback((feeRate) => dispatch({ type: 'SET_TRADE_FEE_RATE', feeRate }), [])\n  const setIsValid = useCallback((isValid) => dispatch({ type: 'SET_TRADE_IS_VALID', isValid }), [])\n  const setTokenBalance = useCallback((tokenBalance) => dispatch({ type: 'SET_TRADE_TOKEN_BALANCE', tokenBalance }), [])\n  const setPrice = useCallback((price) => dispatch({ type: 'SET_TRADE_PRICE', price }), [])\n  const setAmount = useCallback((amount) => dispatch({ type: 'SET_TRADE_AMOUNT', amount }), [])\n  const setTotal = useCallback((total) => dispatch({ type: 'SET_TRADE_TOTAL', total }), [])\n\n  const Alert = useAlert()\n  const [t] = useTranslation()\n\n  const urlPairName = decodeURIComponent(getHashString(window.location.hash, 'pair') || '') || (localStorage.getItem('trade_token_pair') || '')\n\n  useEffect(() => {\n    if (pairs.length && !tokenPair.name) {\n      setTokenPair(pairs.find((p) => p.name === `${urlPairName}`) || pairs.find((p) => p.name === 'pDAI/UNX') || pairs.find((p) => p.name === 'UNX/pDAI'))\n    }\n  }, [pairs])\n\n  useEffect(() => {\n    if (account && tokenPair.name) {\n      getTokenBalance(account, tradeType === 'buy' ? tokenPair.tokens[1] : tokenPair.tokens[0], (bl) => {\n        setTokenBalance(bl)\n      })\n    }\n  }, [account, tokenPair, tradeType])\n\n  useEffect(() => {\n    async function getMakesOfPair() {\n      if (tokenPair.name && CONTRACT_ADDRESS) {\n        try {\n          const makeStr = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'get_makes_of_pair',\n            args: [\n              {\n                type: 'Long',\n                value: tokenPair.tokens[0].id\n              },\n              {\n                type: 'Long',\n                value: tokenPair.tokens[1].id\n              }\n            ]\n          })\n          const parsedMakes = []\n          const strReader = new StringReader(makeStr)\n          const pairLastPrice = strReader.readUint128()\n  \n          for (let j = 0; j <= 1; j++) {\n            const makeCount = strReader.readNextLen()\n            for (let i = 0; i < makeCount; i++) {\n              const make = {}\n              make.make_id = strReader.readUint128()\n              make.price = strReader.readUint128()\n              make.amount = new BigNumber(strReader.readUint128()).toString()\n              make.asset_token_id = (j === 0 ? tokenPair.tokens[0].id : tokenPair.tokens[1].id)\n              make.price_token_id = (j === 0 ? tokenPair.tokens[1].id : tokenPair.tokens[0].id)\n      \n              parsedMakes.push(make)\n            }\n          }\n  \n          setLastPrice(pairLastPrice ? new BigNumber(pairLastPrice).div(PRICE_DECIMALS).toString() : 0)\n          setMakes(parsedMakes)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get makes of pair', e)\n            }\n          })\n        }\n      }\n    }\n    getMakesOfPair()\n    const interval = !stopInterval && setInterval(getMakesOfPair, 2000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokenPair, account, stopInterval, CONTRACT_ADDRESS])\n\n  useEffect(() => {\n    async function getUserMakes() {\n      if (account && CONTRACT_ADDRESS) {\n        try {\n          const makeStr = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'get_user_makes',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n          const parsedMakes = []\n          const strReader = new StringReader(makeStr)\n          const makeCount = strReader.readNextLen()\n          for (let i = 0; i < makeCount; i++) {\n            const make = {}\n            make.address = client.api.utils.hexToAddress(strReader.read(20))\n            make.asset_token_id = strReader.readUint128()\n            make.price_token_id = strReader.readUint128()\n            make.price = strReader.readUint128()\n            make.amount = strReader.readUint128()\n            make.make_id = strReader.readUint128()\n  \n            parsedMakes.push(make)\n          }\n  \n          setMyMakes(parsedMakes)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get user makes', e)\n            }\n          })\n        }\n      }\n    }\n\n    getUserMakes()\n    const interval = !stopInterval && setInterval(getUserMakes, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokenPair, account, stopInterval, CONTRACT_ADDRESS])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length && CONTRACT_ADDRESS) {\n        try {\n          const statStr = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: CONTRACT_ADDRESS,\n            operation: 'stat',\n            args: []\n          })\n          \n          const tokenPool = []\n          const strReader = new StringReader(statStr)\n          setFeeRate(strReader.readUint128())\n          const tokenCount = strReader.readNextLen()\n  \n          for (let i = 0; i < tokenCount; i++) {\n            const token = {}\n            token.id = strReader.readUint128()\n            const tempToken = tokens.find((t) => t.id === token.id)\n            token.weight = strReader.readUint128()\n            token.balance = new BigNumber(readBigNumberUint128(strReader)).div(new BigNumber(10 ** tempToken.decimals)).toString()\n  \n            tokenPool.push(Object.assign({}, tempToken, token))\n          }\n\n          if (!pairs.length) {\n            const tokenPairs = []\n            for (let i = 0; i < tokenPool.length; i++) {\n              for (let j = i + 1; j < tokenPool.length; j++) {\n                if (tokenPool[i].weight > tokenPool[j].weight || (tokenPool[i].weight === tokenPool[j].weight && tokenPool[i].id > tokenPool[j].id)) {\n                  tokenPairs.push({\n                    name: `${tokenPool[j].name}/${tokenPool[i].name}`,\n                    tokens: [tokenPool[j], tokenPool[i]]\n                  })\n                } else {\n                  tokenPairs.push({\n                    name: `${tokenPool[i].name}/${tokenPool[j].name}`,\n                    tokens: [tokenPool[i], tokenPool[j]]\n                  })\n                }\n              }\n            }\n\n            setPairs(tokenPairs)\n          }\n\n          setPool(tokenPool)\n        } catch (e) {\n          handleError(e, (errorCode) => {\n            if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n              setStopInterval(true)\n            } else {\n              console.log('get stat', e)\n            }\n          })\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(() => {\n      if (stopInterval) {\n        clearInterval(interval)\n      } else {\n        getStat()\n      }\n    }, 5000)\n    return () => clearInterval(interval)\n  }, [tokens, pairs, stopInterval, CONTRACT_ADDRESS])\n\n  useEffect(() => {\n    if (price > 0 && amount > 0) {\n      setTotal(new BigNumber(price).times(amount).toString())\n    }\n  }, [price, amount])\n\n  useEffect(() => {\n    if (price > 0) {\n      setAmount(new BigNumber(total || 0).div(price).toString())\n    }\n  }, [total])\n\n  useEffect(() => {\n    if (tokenPair.name && price > 0 && amount > 0) {\n      setIsValid(true)\n    } else {\n      setIsValid(false)\n    }\n  }, [tokenPair, amount, price])\n\n  useEffect(() => {\n    setMakeView('all')\n  }, [account])\n\n  function onChangeToUserMakeView() {\n    if (account) {\n      setMakeView('my')\n    } else {\n      Alert.show(t('connect_wallet_first'))\n    }\n  }\n\n  function getMakes(type) {\n    if (tokenPair.name) {\n      const curMakes = (makeView === 'my' ? myMakes : makes)\n      if (type === 'sell') {\n        return curMakes.filter((m) => m.asset_token_id === tokenPair.tokens[0].id && m.price_token_id === tokenPair.tokens[1].id).map((m) => {\n          const isMine = makeView !== 'my' && !!myMakes.find((mm) => m.make_id === mm.make_id)\n          return (\n            <div key={m.make_id} className={`my-make-item reverse ${isMine ? 'mine' : ''}`}>\n              <div className=\"make-item-detail make-sell\">{new BigNumber(m.price).div(PRICE_DECIMALS).toString()}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div((10 ** tokenPair.tokens[0].decimals)).toString()}</div>\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>{t('cancel')}</div> }\n            </div>)\n        })\n      } else {\n        return curMakes.filter((m) => m.asset_token_id === tokenPair.tokens[1].id && m.price_token_id === tokenPair.tokens[0].id).map((m) => {\n          const isMine = makeView !== 'my' && !!myMakes.find((mm) => m.make_id === mm.make_id)\n          return (\n            <div key={m.make_id} className={`my-make-item ${isMine ? 'mine' : ''}`}>\n              <div className=\"make-item-detail make-buy\">{new BigNumber(m.price).div(PRICE_DECIMALS).toString()}</div>\n              <div className=\"make-item-detail\">{new BigNumber(m.amount).div(m.price).times(PRICE_DECIMALS).div((10 ** tokenPair.tokens[1].decimals)).toString()}</div>\n              { makeView === 'my' && <div className=\"unmake-btn\" onClick={() => onUnmake(m.make_id)}>{t('cancel')}</div> }\n            </div>)\n        })\n      }\n    }\n    return null\n  }\n\n\n\n  async function onMake() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n    if (tokenPair.name && CONTRACT_ADDRESS) {\n      if (price <= 0) {\n        Alert.error(t('price_gt_0'))\n        return\n      }\n      if (amount <= 0) {\n        Alert.error(t('amount_gt_0'))\n        return\n      }\n      try {\n        const assetToken = tradeType === 'buy' ? tokenPair.tokens[1] : tokenPair.tokens[0]\n        const priceToken = tradeType === 'buy' ? tokenPair.tokens[0] : tokenPair.tokens[1]\n        // const tradePrice = tradeType === 'buy' ? new BigNumber(1).div(price).toString() : price\n        const tradeAmount = tradeType === 'buy' ? total : amount\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: assetToken.id\n          },\n          {\n            type: 'Long',\n            value: priceToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(price).times(PRICE_DECIMALS).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(tradeAmount).times(new BigNumber(10 ** assetToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const makeResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'make',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (makeResult.transaction) {\n          setAmount('')\n          setPrice('')\n          setTotal('')\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: t('transaction_successful'),\n            extraText: t('view_transaction'),\n            extraLink: `${TRANSACTION_BASE_URL}${makeResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onUnmake(makeId) {\n    if (account && makeId && CONTRACT_ADDRESS) {\n      try {\n        const unmakeResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: CONTRACT_ADDRESS,\n          operation: 'unmake',\n          args: [\n            {\n              type: 'Address',\n              value: account\n            },\n            {\n              type: 'Long',\n              value: makeId\n            }\n          ],\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n        if (unmakeResult.transaction) {\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: t('transaction_successful'),\n            extraText: t('view_transaction'),\n            extraLink: `${TRANSACTION_BASE_URL}${unmakeResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function getPriceHint() {\n    if (tokenPair.name) {\n      return tokenPair.tokens[1].name\n    }\n  }\n\n  function getAmountHint() {\n    if (tokenPair.name) {\n      return tokenPair.tokens[0].name\n    }\n  }\n\n  function generateTokenPool() {\n    if (pool.length) {\n      return pool.filter((tp) => Number(tp.balance) !== 0).map((tp) => {\n        return (\n          <div className=\"pool-item\" key={tp.name}>\n            <div className={`icon-${tp.name} token-name`}>{tp.name}</div>\n            <div className=\"token-balance\">{tp.balance}</div>\n          </div>\n        )\n      })\n    }\n  }\n\n  const handlePairClick = (pair) => {\n    setTokenBalance('-')\n    setTokenPair(pair)\n    localStorage.setItem('trade_token_pair', pair.name)\n    setShowPairSelectModal(false)\n  }\n\n  return (\n    <div className=\"swap-wrapper\">\n      <div className=\"trade-container\">\n        <div className=\"make-wrapper\">\n          <div className=\"container-header\">{t('trade')}\n            {\n              tokenPair.name ? (\n                <div className=\"token-pair-select\" onClick={() => setShowPairSelectModal(true)}>\n                  <div className=\"token-pair-name\">{tokenPair.name}</div>\n                </div>\n              ) : null\n            }\n          </div>\n          <div className=\"trade-type-switch\">\n            <div className={`trade-type-item ${tradeType === 'buy' ? 'trade-buy' : ''}`} onClick={() => setTradeType('buy')}>{t('buy')}</div>\n            <div className={`trade-type-item ${tradeType === 'sell' ? 'trade-sell' : ''}`} onClick={() => setTradeType('sell')}>{t('sell')}</div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">{t('price')}\n              <span className=\"hint\">{getPriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <Input placeholder=\"0.0\" value={price} decimals=\"9\" onChange={(amount) => setPrice(amount)} />\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">{t('amount')}\n              <span className=\"hint\">{getAmountHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <Input placeholder=\"0.0\" value={amount} decimals={tokenPair.tokens ? tokenPair.tokens[0].decimals : '9'} onChange={(amount) => setAmount(amount)} />\n            </div>\n          </div>\n          <div className=\"form-item\">\n            <div className=\"item-title\">{t('total')} {tradeType === 'buy' ? t('need') : t('receive')}\n              <span className=\"hint\">{getPriceHint()}</span>\n            </div>\n            <div className=\"input-wrapper\">\n              <Input placeholder=\"0.0\" value={total} decimals=\"9\" onChange={(amount) => setTotal(amount)} />\n            </div>\n          </div>\n          { tokenPair.name ? <div className=\"balance-line\">{t('balance')}: <span>{tokenBalance} {tradeType === 'buy' ? tokenPair.tokens[1].name : tokenPair.tokens[0].name}</span></div> : null }\n          { feeRate ? <p className=\"fee-rate\">* {t('fee_rate')} {feeRate / 100}%</p> : null }\n          { isValid ? <div className={`make-btn make-btn-${tradeType}`} onClick={() => onMake()}>{tradeType.toUpperCase()} {tokenPair.tokens[0].name}</div> : <div className=\"make-btn disabled\">{t(tradeType).toUpperCase()} {tokenPair.tokens ? tokenPair.tokens[0].name : ''}</div> }\n        </div>\n        <div className=\"trade-panel\">\n          <div className=\"panel-header\">\n            <div className=\"panel-title\">{t('order_book')}</div>\n            <div className=\"tabs\">\n              <div className={makeView === 'all' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => setMakeView('all')}>{t('all')}</div>\n              <div className={makeView === 'my' ? \"tab-wrapper selected\" : \"tab-wrapper\"} onClick={() => onChangeToUserMakeView()}>{t('my')}</div>\n            </div>\n          </div>\n          <div className=\"list-title\">\n            <div className=\"blank-placeholder\"></div>\n            <div className=\"title-items\">\n              <div className=\"item-text\">{t('price')} ({getPriceHint()})</div>\n              <div className=\"item-text\">{t('amount')} ({getAmountHint()})</div>\n              { makeView === 'my' && <div className=\"item-placeholder\"></div> }\n            </div>\n          </div>\n          <div className=\"sell-section\">\n            <div className=\"section-title\">{t('sell')}</div>\n            <div className=\"make-list reverse\">\n            {getMakes('sell')}\n            </div>\n          </div>\n          {\n            (makeView === 'all' && Number(lastPrice) !== 0) ? <div className=\"last-price-wrapper\">\n              <div className=\"last-price-label\">{t('last_price')}</div>\n              <div className=\"last-price\">{lastPrice}</div>\n              <div className=\"last-price-placeholder\"></div>\n            </div> : null\n          }\n          <div className=\"buy-section\">\n            <div className=\"section-title\">{t('buy')}</div>\n            <div className=\"make-list\">\n            {getMakes('buy')}\n            </div>\n          </div>\n        </div>\n      </div>\n      {\n        pool.filter((tp) => Number(tp.balance) !== 0).length ? (\n          <div className=\"token-pool\">\n            <div className=\"container-header\">{t('token_balance')}</div>\n            <div className=\"pool-items\">\n            {generateTokenPool()}\n            </div>\n          </div>\n        ) : null\n      }\n      {\n        showPairSelectModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => setShowPairSelectModal(false)}></div>\n              <div className=\"pair-select-modal-wrapper\">\n                <div className=\"pair-select-modal-title\">{t('select')}</div>\n                <input type=\"text\" className=\"pair-select-modal-input\" value={pairNameKeyword} onInput={(e) => setPairNameKeyword(e.target.value)} />\n                <div className=\"pair-select-modal-list\">\n                  {\n                    pairs.filter((p) => {\n                      const nameLC = p.name.toLowerCase()\n                      const tNames = pairNameKeyword.split(' ').filter((n) => n)\n                      \n                      return tNames.reduce((a, b) => a && nameLC.indexOf(b) >= 0, true)\n                    }).map((p) => {\n                      return (\n                        <div key={p.name} className=\"pair-select-modal-list-item\" onClick={() => handlePairClick(p)}>\n                          {\n                            p.tokens.map((t) => <div key={`${p.name}-${t.name}`} className={`pair-select-modal-list-item-icon icon-${t.name}`}></div>)\n                          }\n                          <div className=\"pair-select-modal-list-item-name\">{p.name}</div>\n                        </div>\n                      )\n                    })\n                  }\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n    </div>\n  )\n}\n\nexport default Transaction","import React, { useState, useEffect } from 'react'\nimport { useMappedState } from 'redux-react-hook';\nimport Select, { components } from 'react-select'\nimport { useTranslation } from 'react-i18next'\nimport Input from '../input'\nimport { getTokenBalance } from '../../utils/token'\n\nimport './index.css'\n\nconst TokenInput = (props) => {\n  const { cls, value, round, tokens = [], defaultToken, inputDisabled = false, showBalance = true, withMax = true, onTokenChange, onAmountChange, balanceChange = 0 } = props\n  const [token, setToken] = useState(defaultToken || {})\n  const [balance, setBalance] = useState('-')\n  const { account } = useMappedState((state) => ({\n    account: state.wallet.account\n  }))\n  const [t] = useTranslation()\n\n  useEffect(() => {\n    if (account && showBalance && token.id) {\n      getTokenBalance(account, token, setBalance)\n    }\n  }, [token, showBalance, account, balanceChange])\n\n  const handleTokenChange = (e) => {\n    if (e.value !== token.id) {\n      const newToken = tokens.find((t) => t.id === e.value)\n\n      setToken(newToken)\n      typeof onTokenChange === 'function' && onTokenChange(newToken)\n    }\n  }\n\n  const renderTokenSeletion = (dToken) => {\n    if (tokens.length) {\n      const CustomOption = (props) => {\n        const label = props.label.split(' ')[0]\n        return (\n          <components.Option {...props}>\n            <div className=\"option-wrapper\">\n              <div className={`icon-${label} option-icon`}></div>\n              <div className=\"option-label\">{props.label}</div>\n            </div>\n          </components.Option>\n        )\n      }\n      const SingleValue = ({ children, ...props }) => {\n        const label = children.split(' ')[0]\n        return (\n          <components.SingleValue {...props}>\n            <div className=\"option-wrapper\">\n              <div className={`icon-${label} option-icon`}></div>\n              <div className=\"option-label\">{children}</div>\n            </div>\n          </components.SingleValue>\n        )\n      }\n      let defaultToken = dToken ? dToken : tokens[0]\n\n      if (!token.id || !tokens.find((t) => t.id === token.id)) {\n        setToken(defaultToken)\n      }\n\n      return (\n        <Select\n          className={`token-select ${cls}`}\n          defaultValue={defaultToken}\n          options={tokens}\n          isSearchable={false}\n          components={{ Option: CustomOption, SingleValue }}\n          onChange={(e) => handleTokenChange(e)}\n          theme={theme => ({\n            ...theme,\n            borderRadius: 0,\n            colors: {\n              ...theme.colors,\n              primary: '#2c2c2c',\n            },\n          })}\n        />\n      )\n    }\n  }\n\n  const maxInput = () => {\n    if (!isNaN(balance) && typeof onAmountChange === 'function') {\n      onAmountChange(balance)\n    }\n  }\n\n  return (\n    <div className=\"token-input-wrapper\">\n      <div className=\"input-label\">{props.label || t('input')}\n        { showBalance ? <span className=\"hint\">{t('balance')}: {balance}</span> : null }\n      </div>\n      <div className=\"input-wrapper\">\n        { renderTokenSeletion(defaultToken) }\n        <Input decimals={token.decimals} disabled={inputDisabled} value={value} round={round} onChange={(value) => onAmountChange(value)} />\n        { withMax && <div className=\"input-max-btn\" onClick={() => maxInput()}>{t('max')}</div> }\n      </div>\n    </div>\n  )\n}\n\nexport default TokenInput\n","import { useEffect, useCallback } from 'react'\nimport { client } from '@ont-dev/ontology-dapi'\nimport { utils } from 'ontology-ts-sdk'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { cyanoRequest } from '../utils/cyano'\nimport { readBigNumberUint128 } from '../utils/token'\n\nconst { StringReader, reverseHex } = utils\n\nexport const useFetchPairs = () => {\n  const { account, tokens, swapTokens, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    swapTokens: state.swap.tokens,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setSwapTokens = useCallback((tokens) => dispatch({ type: 'SET_SWAP_TOKENS', tokens }), [])\n  const setPairs = useCallback((pairs) => dispatch({ type: 'SET_PAIRS', pairs }), [])\n\n  useEffect(() => {\n    getSwapStat()\n    let interval = setInterval(getSwapStat, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, tokens, swapTokens, SWAP_ADDRESS])\n\n  async function getSwapStat() {\n    if (SWAP_ADDRESS) {\n      try {\n        const pairStr = await cyanoRequest('smartContract.invokeWasmRead', {\n          scriptHash: SWAP_ADDRESS,\n          operation: 'stat',\n          args: []\n        })\n\n        const parsedPairs = []\n        const strReader = new StringReader(pairStr)\n        const pairCount = strReader.readNextLen()\n        for (let i = 0; i < pairCount; i++) {\n          const pair = {}\n          pair.address = reverseHex(strReader.read(20))\n          pair.token1 = strReader.readUint128()\n          pair.token2 = strReader.readUint128()\n          pair.id = strReader.readUint128()\n          pair.reserve1 = readBigNumberUint128(strReader)\n          pair.reserve2 = readBigNumberUint128(strReader)\n          pair.lp = readBigNumberUint128(strReader)\n          pair.min1 = readBigNumberUint128(strReader)\n          pair.min2 = readBigNumberUint128(strReader)\n\n          parsedPairs.push(pair)\n        }\n\n        const tokenIds = []\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          tokenIds.push(strReader.readUint128())\n        }\n\n        setPairs(parsedPairs)\n        if (tokens.length && !swapTokens.length) {\n          setSwapTokens(tokenIds.map((t) => tokens.find((tk) => tk.id === t)))\n        }\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  return null\n}","import BigNumber from 'bignumber.js'\n\nconst REST = 0.997\n\nexport const findAllPaths = (pairs, sourceId, targetId) => {\n  let pathArr = []\n  const findPath = (sourceId, targetId, pathNodes = []) => {\n    pathNodes = [...pathNodes]\n    pathNodes.push(sourceId)\n\n    if (sourceId === targetId) {\n      pathArr.push(pathNodes)\n      return\n    }\n\n    let neighborNodes = []\n    pairs.map((p) => {\n      if (p.token1 === sourceId) {\n        neighborNodes.push(p.token2)\n      } else if (p.token2 === sourceId) {\n        neighborNodes.push(p.token1)\n      }\n    })\n\n    for (let id of neighborNodes) {\n      if (!pathNodes.includes(id)) {\n        findPath(id, targetId, pathNodes)\n      }\n    }\n  }\n\n  findPath(sourceId, targetId)\n\n  pathArr.sort((p1, p2) => {\n    return p1.length - p2.length\n  })\n  \n  return pathArr\n}\n\nconst getInputAmount = (output, pair, reverse = false) => {\n  let amount\n  if (reverse) {\n    amount = new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(pair.reserve1).minus(output)).minus(pair.reserve2).div(REST).integerValue(BigNumber.ROUND_CEIL).toString()\n  } else {\n    amount = new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(pair.reserve2).minus(output)).minus(pair.reserve1).div(REST).integerValue(BigNumber.ROUND_CEIL).toString()\n  }\n  return amount\n}\n\nconst getOutputAmount = (input, pair, reverse = false) => {\n  let amount\n  if (reverse) {\n    amount = new BigNumber(pair.reserve1).minus(new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(input).times(REST).plus(pair.reserve2))).integerValue(BigNumber.ROUND_FLOOR).toString()\n  } else {\n    amount = new BigNumber(pair.reserve2).minus(new BigNumber(pair.reserve1).times(pair.reserve2).div(new BigNumber(input).times(REST).plus(pair.reserve1))).integerValue(BigNumber.ROUND_FLOOR).toString()\n  }\n  return amount\n}\n\nconst findNextOutput = (input, pairs, token1, token2) => {\n  let pair = pairs.find((p) => p.token1 === token1 && p.token2 === token2)\n\n  if (pair) {\n    return getOutputAmount(input, pair)\n  }\n\n  pair = pairs.find((p) => p.token1 === token2 && p.token2 === token1)\n\n  if (pair) {\n    return getOutputAmount(input, pair, true)\n  }\n}\n\nconst findPrevInput = (output, pairs, token1, token2) => {\n  let pair = pairs.find((p) => p.token1 === token1 && p.token2 === token2)\n\n  if (pair) {\n    return getInputAmount(output, pair)\n  }\n\n  pair = pairs.find((p) => p.token1 === token2 && p.token2 === token1)\n\n  if (pair) {\n    return getInputAmount(output, pair, true)\n  }\n}\n\nexport const bestSwap = (type = 'exactin', amount, pairs, token1, token2) => {\n  const paths = findAllPaths(pairs, token1, token2)\n  const originAmount = amount\n  let maxOutput = 0\n  let minInput = Infinity\n  let path = []\n  \n  for (let i = 0; i < paths.length; i++) {\n    amount = originAmount\n    if (type === 'exactin') {\n      for (let j = 0; j < paths[i].length - 1; j++) {\n        amount = findNextOutput(amount, pairs, paths[i][j], paths[i][j + 1])\n      }\n  \n      if (new BigNumber(amount).gt(new BigNumber(maxOutput))) {\n        maxOutput = amount\n        path = paths[i]\n      }\n    } else {\n      for (let j = paths[i].length - 1; j > 0; j--) {\n        amount = findPrevInput(amount, pairs, paths[i][j - 1], paths[i][j])\n      }\n  \n      if (new BigNumber(amount).lt(new BigNumber(minInput)) && amount > 0) {\n        minInput = amount\n        path = paths[i]\n      }\n    }\n  }\n\n  if (type === 'exactin') {\n    return [maxOutput, path]\n  } else if (type === 'exactout') {\n    return [minInput, path]\n  }\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { useAlert } from 'react-alert'\nimport BigNumber from 'bignumber.js'\nimport { useTranslation } from 'react-i18next'\nimport TokenInput from '../../components/tokenInput'\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../config'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport { cyanoRequest } from '../../utils/cyano'\nimport { toLocaleFixed } from '../../utils/common'\nimport { bestSwap } from '../../utils/swap'\nimport './index.css'\n\nconst Swap = () => {\n  const [balanceChange, setBalanceChange] = useState(0)\n  const { account, slippage, pairs, tokens: swapTokens, swapType, token1, token2, token1Amount, token2Amount, isValidPair, isValidSwap, bestPath, showPrice, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage,\n    ...state.swap,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const setSwapType = useCallback((swapType) => dispatch({ type: 'SET_SWAP_TYPE', swapType }), [])\n  const setToken1 = useCallback((token1) => dispatch({ type: 'SET_SWAP_TOKEN1', token1 }), [])\n  const setToken2 = useCallback((token2) => dispatch({ type: 'SET_SWAP_TOKEN2', token2 }), [])\n  const setToken1Amount = useCallback((token1Amount) => dispatch({ type: 'SET_TOKEN1_AMOUNT', token1Amount }), [])\n  const setToken2Amount = useCallback((token2Amount) => dispatch({ type: 'SET_TOKEN2_AMOUNT', token2Amount }), [])\n  const setIsValidPair = useCallback((isValidPair) => dispatch({ type: 'SET_IS_VALID_PAIR', isValidPair }), [])\n  const setIsValidSwap = useCallback((isValidSwap) => dispatch({ type: 'SET_IS_VALID_SWAP', isValidSwap }), [])\n  const setBestPath = useCallback((bestPath) => dispatch({ type: 'SET_SWAP_BEST_PATH', bestPath }), [])\n  const setShowPrice = useCallback((showPrice) => dispatch({ type: 'SET_SWAP_SHOW_RPICE', showPrice }), [])\n\n  const Alert = useAlert()\n  const history = useHistory()\n  const [t] = useTranslation()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (token1.id !== token2.id && token1Amount > 0 && token2Amount > 0 && bestPath.length) {\n      setShowPrice(true)\n      setIsValidSwap(true)\n    } else {\n      setShowPrice(false)\n      setIsValidSwap(false)\n    }\n  }, [token1, token2, token1Amount, token2Amount, bestPath])\n\n  useEffect(() => {\n    if (swapTokens.length) {\n      setToken1(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI')))\n      setToken2(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX')))\n    }\n  }, [swapTokens])\n\n  useEffect(() => {\n    if (token1.id && token2.id && validPair(token1.id, token2.id)) {\n      setIsValidPair(true)\n    } else {\n      setIsValidPair(false)\n    }\n  }, [token1, token2])\n\n  function validPair(token1, token2) {\n    if (pairs.length) {\n      if (token1 && token2 && pairs.find((p) => (p.token1 === token1 && p.token2 === token2) || (p.token1 === token2 && p.token2 === token1))) {\n        return true\n      }\n    }\n    return false\n  }\n\n  function onChangeToken1(token) {\n    if (token.id !== token1.id) {\n      setToken1(token)\n      localStorage.setItem('swap_token1', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onChangeToken2(token) {\n    if (token.id !== token2.id) {\n      setToken2(token)\n      localStorage.setItem('swap_token2', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onToken1AmountChange(amount) {\n    if (amount !== token1Amount) {\n      setSwapType('exactin')\n      setToken1Amount(amount)\n      if (isValidPair && amount) {\n        const inputAmount = new BigNumber(amount).times(10 ** token1.decimals).toString()\n        const [maxOutput, path] = bestSwap('exactin', inputAmount, pairs, token1.id, token2.id)\n\n        setToken2Amount(new BigNumber(maxOutput).div(10 ** token2.decimals).toString())\n        setBestPath(path)\n      } else if (Number(amount) === 0) {\n        setToken2Amount('')\n      }\n    }\n  }\n\n  function onToken2AmountChange(amount) {\n    if (amount !== token2Amount) {\n      setSwapType('exactout')\n      setToken2Amount(amount)\n      if (isValidPair && amount) {\n        const outputAmount = amount * (10 ** token2.decimals)\n        const [minInput, path] = bestSwap('exactout', outputAmount, pairs, token1.id, token2.id)\n\n        if (minInput === Infinity) {\n          setToken1Amount('')\n        } else {\n          setToken1Amount(new BigNumber(minInput).div(10 ** token1.decimals).toString())\n        }\n        setBestPath(path)\n      } else if (Number(amount) === 0) {\n        setToken1Amount('')\n      }\n    }\n  }\n\n  function onNavigateToPool() {\n    history.push('/pool')\n  }\n\n  async function handleSwap() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n    if (token1Amount <= 0 || token2Amount <= 0) {\n      Alert.error(t('amount_gt_0'))\n      return\n    }\n    if (token1.id && token1.id === token2.id) {\n      Alert.error(t('input_should_be_different'))\n      return\n    }\n\n    if (SWAP_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(new BigNumber(10 ** token1.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(new BigNumber(10 ** token2.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Array',\n            value: bestPath.map((p) => ({ type: 'Long', value: p }))\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const swapResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SWAP_ADDRESS,\n          operation: swapType === 'exactin' ? 'swap_exact_tokens_for_tokens' : 'swap_tokens_for_exact_tokens',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (swapResult.transaction) {\n          setBalanceChange(balanceChange + 1)\n          setToken1Amount('')\n          setToken2Amount('')\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: t('transaction_successful'),\n            extraText: t('view_transaction'),\n            extraLink: `${TRANSACTION_BASE_URL}${swapResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function getPrice() {\n    return `${toLocaleFixed(token2Amount / token1Amount, 6)} ${token2.name} per ${token1.name}`\n  }\n\n  function getMinReceiveOrMaxSold() {\n    if (swapType === 'exactin') {\n      return <p>{t('minimum_received')}:<span>{toLocaleFixed(token2Amount * (1 - slippage / 100), 6)} {token2.name}</span></p>\n    } else {\n      return <p>{t('maximum_sold')}:<span>{toLocaleFixed(token1Amount * (1 + slippage / 100), 6)} {token1.name}</span></p>\n    }\n  }\n\n  function getPriceImpact() {\n    let price\n    let pair = pairs.find((p) => p.token1 === token1.id && p.token2 === token2.id)\n\n    if (pair) {\n      price = new BigNumber(pair.reserve2).div(10 ** token2.decimals).div(pair.reserve1).times(10 ** token1.decimals).toString()\n    } else {\n      pair = pairs.find((p) => p.token1 === token2.id && p.token2 === token1.id)\n\n      if (pair) {\n        price = new BigNumber(pair.reserve1).div(10 ** token1.decimals).div(pair.reserve2).times(10 ** token2.decimals).toString()\n      }\n    }\n\n    return <p>{t('price_impact')}:<span>{Math.abs((token2Amount / token1Amount - price) / price * 100).toFixed(2)}%</span></p>\n  }\n\n  function getBestPath() {\n    if (bestPath.length) {\n      const items = []\n      bestPath.map((t, index) => {\n        const token = swapTokens.find((tk) => tk.id === t)\n        index > 0 && items.push((<div className=\"icon-arrow-right\"></div>))\n        items.push((<div className={`path-icon icon-${token.name}`}>{token.name}</div>))\n\n        return t\n      })\n\n      return items\n    }\n  }\n\n  return (\n    <div className=\"sw-wrapper\">\n      <div className=\"sw-container\">\n        <div className=\"sw-tabs\">\n          <div className=\"sw-tab active\">{t('swap')}</div>\n          <div className=\"sw-tab\" onClick={() => onNavigateToPool()}>{t('pool')}</div>\n        </div>\n        <div className=\"sw-content\">\n          <TokenInput\n            balanceChange={balanceChange}\n            label={t('from')}\n            tokens={swapTokens}\n            value={token1Amount}\n            round='up'\n            defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI'))}\n            onTokenChange={(token) => onChangeToken1(token)}\n            onAmountChange={(amount) => onToken1AmountChange(amount)} />\n          <div className=\"icon-arrow-down\"></div>\n          <TokenInput\n            balanceChange={balanceChange}\n            label={t('to')}\n            tokens={swapTokens}\n            value={token2Amount}\n            round='down'\n            defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX'))}\n            onTokenChange={(token) => onChangeToken2(token)}\n            onAmountChange={(amount) => onToken2AmountChange(amount)} />\n          { showPrice ? <div className=\"sw-price-wrapper\">Price<span className=\"sw-price-info\">{getPrice()}</span></div> : null }\n          { isValidPair ? null : <div className=\"add-liquidity-hint\">{t('add_liquidity_enable_swap')}</div> }\n          { isValidPair ? ( isValidSwap ? <div className=\"sw-swap-btn\" onClick={() => handleSwap()}>{t('swap')}</div> : <div className=\"sw-swap-btn disabled\">{t('swap')}</div> ) : <div className=\"sw-swap-btn disabled\">{t('invalide_liquidity')}</div> }\n        </div>\n        {\n          isValidPair && isValidSwap ? (\n            <div className=\"sw-hint-wrapper\">\n              <div className=\"sw-input-output\">{getMinReceiveOrMaxSold()}</div>\n              <div className=\"sw-price-impact\">{getPriceImpact()}</div>\n              <div className=\"sw-best-path\">\n                <p>{t('route')}:</p>\n                <div className=\"sw-best-path-list\">\n                  {getBestPath()}\n                </div>\n              </div>\n            </div>\n          ) : null\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default Swap\n","import React, { useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useTranslation } from 'react-i18next'\nimport { cyanoRequest } from '../../utils/cyano'\nimport { readBigNumberUint128 } from '../../utils/token'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Pool = () => {\n  const { account, tokens, pairs, liquidityBalance, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    pairs: state.swap.pairs,\n    ...state.pool,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setLiquidityBalance = useCallback((liquidityBalance) => dispatch({ type: 'SET_POOL_LIQUIDITY_BALANCE', liquidityBalance }), [])\n\n  const history = useHistory()\n  const [t] = useTranslation()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (account && pairs.length && SWAP_ADDRESS) {\n      const getLiquidityBalanceByPairId = (id) => {\n        return cyanoRequest('smartContract.invokeWasmRead', {\n          scriptHash: SWAP_ADDRESS,\n          operation: 'balanceOf',\n          args: [\n            {\n              type: 'Long',\n              value: id\n            },\n            {\n              type: 'Address',\n              value: account\n            }\n          ]\n        }).then((resp) => {\n          const strReader = new StringReader(resp)\n          const balance = readBigNumberUint128(strReader)\n          \n          return { [id]: balance }\n        })\n      }\n      Promise.all(pairs.map((p) => getLiquidityBalanceByPairId(p.id))).then((resp) => {\n        setLiquidityBalance(resp)\n      })\n    }\n  }, [account, pairs, SWAP_ADDRESS])\n\n  function onNavigateToSwap() {\n    history.push('/swap')\n  }\n\n  function onNavigateToAddLiquidity() {\n    history.push('/pool/add')\n  }\n\n  function onRemoveLiquidity(pairId) {\n    history.push(`/pool/remove/${pairId}`)\n  }\n\n  function generateLiquidityList() {\n    const myLiquidities = liquidityBalance.filter((l) => l[Object.keys(l)[0]])\n    if (myLiquidities.length && pairs.length && tokens.length) {\n      return myLiquidities.map((lb) => {\n        const pairId = Object.keys(lb)[0]\n        const pair = pairs.find((p) => `${p.id}` === pairId)\n        const token1 = tokens.find((t) => t.id === pair.token1)\n        const token2 = tokens.find((t) => t.id === pair.token2)\n        const balance = new BigNumber(lb[pairId])\n        const shareOfPool = balance.div(pair.lp)\n        const token1Amount = shareOfPool.times(pair.reserve1).div(10 ** token1.decimals).toFixed(token1.decimals)\n        const token2Amount = shareOfPool.times(pair.reserve2).div(10 ** token2.decimals).toFixed(token2.decimals)\n        \n        return (\n          <div className=\"pool-liquidity-item\">\n            <div className=\"liquidity-item-detail\">\n              <div className={`token-icon icon-${token1.name}`}></div>\n              <div className={`token-icon icon-${token2.name}`}></div>\n              <div className=\"token-pair\"><strong>{token1.name}/{token2.name}</strong></div>\n              <div className=\"pair-position\"><strong>{t('pooled')}</strong>: {token1Amount} / {token2Amount}</div>\n              <div className=\"pool-tokens\"><strong>{t('lp_tokens')}</strong>: {balance.div(10 ** 18).toString()}</div>\n            </div>\n            <div className=\"remove-liquidity-btn\" onClick={() => onRemoveLiquidity(pairId)}>{t('remove')}</div>\n          </div>\n        )\n      })\n    } else {\n      return <div className=\"pool-empty-lp\">{t('no_liquidities')}</div>\n    }\n  }\n\n  return (\n    <div className=\"pool-wrapper\">\n      <div className=\"pool-container\">\n        <div className=\"sw-tabs\">\n          <div className=\"sw-tab\" onClick={() => onNavigateToSwap()}>{t('swap')}</div>\n          <div className=\"sw-tab active\">{t('pool')}</div>\n        </div>\n        <div className=\"pool-content\">\n          <div className=\"pool-add-liquidity-btn\" onClick={() => onNavigateToAddLiquidity()}>{t('add_liquidity')}</div>\n          <div className=\"pool-liquidity-list\">\n            <div className=\"my-liquidity\">{t('your_liquidity')}</div>\n            {generateLiquidityList()}\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Pool","import React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { useAlert } from 'react-alert'\nimport BigNumber from 'bignumber.js'\nimport { useTranslation } from 'react-i18next'\nimport TokenInput from '../../../components/tokenInput'\nimport { cyanoRequest } from '../../../utils/cyano'\nimport { useFetchPairs } from '../../../hooks/usePair';\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../../config'\nimport './index.css'\n\nconst AddLiquidity = () => {\n  const [token1, setToken1] = useState({})\n  const [token2, setToken2] = useState({})\n  const [token1Amount, setToken1Amount] = useState('')\n  const [token2Amount, setToken2Amount] = useState('')\n  const [minToken1, setMinToken1] = useState('')\n  const [minToken2, setMinToken2] = useState('')\n  const [enableAdd, setEnableAdd] = useState(false)\n  const [isValidPair, setIsValidPair] = useState(true)\n  const [isFirstProvider, setIsFirstProvider] = useState(false)\n  const [showPriceInfo, setShowPriceInfo] = useState(false)\n  const [balanceChange, setBalanceChange] = useState(0)\n  const { account, slippage, pairs, swapTokens, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage,\n    pairs: state.swap.pairs,\n    swapTokens: state.swap.tokens,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const Alert = useAlert()\n  const history = useHistory()\n  const [t] = useTranslation()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (token1Amount > 0 && token2Amount > 0) {\n      if (Number(minToken1) && new BigNumber(token1Amount).lt(new BigNumber(minToken1))) {\n        setEnableAdd(false)\n      } else if (Number(minToken2) && new BigNumber(token2Amount).lt(new BigNumber(minToken2))) {\n        setEnableAdd(false)\n      } else {\n        setEnableAdd(true)\n      }\n    } else {\n      setEnableAdd(false)\n    }\n  }, [token1Amount, token2Amount])\n\n  useEffect(() => {\n    if (!token1.id || !token2.id || (token1.id === token2.id)) {\n      setIsValidPair(false)\n    } else {\n      setIsValidPair(true)\n    }\n  }, [token1, token2])\n\n  useEffect(() => {\n    const pair = getPairByToken()\n    if (pair) {\n      if (token1.id === pair.token1 && Number(pair.min1)) {\n        setMinToken1(pair.min1 / (10 ** token1.decimals))\n      } else if (token1.id === pair.token2 && Number(pair.min2)) {\n        setMinToken1(pair.min2 / (10 ** token1.decimals))\n      } else {\n        setMinToken1('')\n      }\n\n      if (token2.id === pair.token1 && Number(pair.min1)) {\n        setMinToken2(pair.min1 / (10 ** token2.decimals))\n      } else if (token2.id === pair.token2 && Number(pair.min2)) {\n        setMinToken2(pair.min2 / (10 ** token2.decimals))\n      } else {\n        setMinToken2('')\n      }\n    } else {\n      setMinToken1('')\n      setMinToken2('')\n    }\n  }, [token1, token2])\n\n  useEffect(() => {\n    const pair = getPairByToken()\n    if (token1.id && token2.id && token1.id !== token2.id && (!pairs.length || !pair || (pair.reserve1 === 0 && pair.reserve2 === 0))) {\n      setIsFirstProvider(true)\n    } else {\n      setIsFirstProvider(false)\n    }\n  }, [pairs, token1, token2])\n\n  useEffect(() => {\n    if (token1.id && token2.id) {\n      setShowPriceInfo(true)\n    } else {\n      setShowPriceInfo(false)\n    }\n  }, [pairs, token1, token2, token1Amount, token2Amount])\n\n  useEffect(() => {\n    if (swapTokens.length) {\n      setToken1(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI')))\n      setToken2(swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX')))\n    }\n  }, [account, swapTokens])\n\n  function getPairByToken() {\n    return pairs.find((p) => (p.token1 === token1.id && p.token2 === token2.id) || (p.token1 === token2.id && p.token2 === token1.id))\n  }\n\n  function onChangeToken1(token) {\n    if (token.id !== token1.id) {\n      setToken1(token)\n      localStorage.setItem('swap_token1', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onChangeToken2(token) {\n    if (token.id !== token2.id) {\n      setToken2(token)\n      localStorage.setItem('swap_token2', token.name)\n      setToken1Amount('')\n      setToken2Amount('')\n    }\n  }\n\n  function onToken1AmountChange(amount) {\n    setToken1Amount(amount)\n    if (!isFirstProvider) {\n      if (amount) {\n        setToken2Amount(new BigNumber(amount).times(getPairPrice()).times(10 ** token2.decimals).integerValue(BigNumber.ROUND_CEIL).div(10 ** token2.decimals).toString())\n      } else if (Number(amount) === 0) {\n        setToken2Amount('')\n      }\n    }\n  }\n\n  function onToken2AmountChange(amount) {\n    setToken2Amount(amount)\n    if (!isFirstProvider) {\n      if (amount) {\n        setToken1Amount(new BigNumber(amount).div(getPairPrice()).times(10 ** token1.decimals).integerValue(BigNumber.ROUND_CEIL).div(10 ** token1.decimals).toString())\n      } else if (Number(amount) === 0) {\n        setToken1Amount('')\n      }\n    }\n  }\n\n  function getPairPrice() {\n    if (token1.id && token2.id && pairs.length) {\n      if (isFirstProvider && token1Amount && token2Amount) {\n        return token2Amount / token1Amount\n      }\n      let pair = pairs.find((p) => p.token1 === token1.id && p.token2 === token2.id)\n      if (pair) {\n        return pair.reserve1 ? new BigNumber(pair.reserve2).div(10 ** token2.decimals).div(pair.reserve1).times(10 ** token1.decimals) : 0\n      }\n      pair = pairs.find((p) => p.token1 === token2.id && p.token2 === token1.id)\n      if (pair) {\n        return pair.reserve2 ? new BigNumber(pair.reserve1).div(10 ** token1.decimals).div(pair.reserve2).times(10 ** token2.decimals) : 0\n      }\n    }\n\n    return 0\n  }\n\n  function getShareOfPool() {\n    if (isFirstProvider) {\n      return '100%'\n    } else {\n      const pair = getPairByToken()\n      const amountProduct = new BigNumber(token1Amount || 0).times(10 ** token1.decimals).times(token2Amount || 0).times(10 ** token2.decimals)\n\n      if (pair) {\n        return `${amountProduct.times(100).div(new BigNumber(pair.reserve1).times(pair.reserve2).plus(amountProduct)).toFixed(2)}%`\n      }\n      return `0%`\n    }\n  }\n\n  function onNavigateToPool() {\n    history.goBack()\n  }\n\n  async function onAdd() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n    if (token1Amount <= 0 || token2Amount <= 0) {\n      Alert.error(t('amount_gt_0'))\n      return\n    }\n    if (token1.id && token1.id === token2.id) {\n      Alert.error(t('input_should_be_different'))\n      return\n    }\n\n    if (SWAP_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: token1.id\n          },\n          {\n            type: 'Long',\n            value: token2.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(new BigNumber(10 ** token1.decimals)).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(new BigNumber(10 ** token2.decimals)).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(new BigNumber(10 ** token1.decimals)).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(new BigNumber(10 ** token2.decimals)).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const addResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SWAP_ADDRESS,\n          operation: 'add_liquidity',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (addResult.transaction) {\n          setBalanceChange(balanceChange + 1)\n          setToken1Amount('')\n          setToken2Amount('')\n          onNavigateToPool()\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: t('transaction_successful'),\n            extraText: t('view_transaction'),\n            extraLink: `${TRANSACTION_BASE_URL}${addResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  return (\n    <div className=\"add-liquidity-wrapper\">\n      <div className=\"al-header\">{t('add_liquidity')}\n        <div className=\"back-icon\" onClick={() => onNavigateToPool()}></div>\n      </div>\n      <div className=\"al-wrapper\">\n        {\n          isValidPair && isFirstProvider ? (\n            <div className=\"first-provider-hint\">\n              <div><strong>{t('first_liquidity_provider')}</strong><br /><br />{t('ratio_setter')}</div>\n            </div>\n          ) : null\n        }\n        <TokenInput\n          balanceChange={balanceChange}\n          tokens={swapTokens}\n          value={token1Amount}\n          defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token1') || 'pDAI'))}\n          onTokenChange={(token) => onChangeToken1(token)}\n          onAmountChange={(amount) => onToken1AmountChange(amount)} />\n        { Number(minToken1) ? <div className=\"min-amount-hint\">({t('minimum')}: {minToken1})</div> : null }\n        <div className=\"icon-plus\"></div>\n        <TokenInput\n          balanceChange={balanceChange}\n          tokens={swapTokens}\n          value={token2Amount}\n          defaultToken={swapTokens.length && swapTokens.find((st) => st.name === (localStorage.getItem('swap_token2') || 'UNX'))}\n          onTokenChange={(token) => onChangeToken2(token)}\n          onAmountChange={(amount) => onToken2AmountChange(amount)} />\n        { Number(minToken2) ? <div className=\"min-amount-hint\">({t('minimum')}: {minToken2})</div> : null }\n        {\n          isValidPair && showPriceInfo ? (\n            <div className=\"al-price-wrapper\">\n              <div className=\"al-price-item\">\n                <div className=\"price-item-detail\">{getPairPrice().toFixed(4)}</div>\n                <div className=\"price-item-label\">{token2.name} per {token1.name}</div>\n              </div>\n              <div className=\"al-price-item\">\n                <div className=\"price-item-detail\">{(getPairPrice() ? 1 / getPairPrice() : 0).toFixed(4)}</div>\n                <div className=\"price-item-label\">{token1.name} per {token2.name}</div>\n              </div>\n              <div className=\"al-price-item\">\n                <div className=\"price-item-detail\">{getShareOfPool()}</div>\n                <div className=\"price-item-label\">{t('share_of_pool')}</div>\n              </div>\n            </div>\n          ) : null\n        }\n        {\n          enableAdd ? (\n            <div className=\"al-add-btn\" onClick={() => onAdd()}>{t('add')}</div>\n          ) : (\n            <div className=\"al-add-btn disabled\">{t('add')}</div>\n          )\n        }\n      </div>\n    </div>\n  )\n}\n\nexport default AddLiquidity\n","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory, useLocation } from \"react-router-dom\"\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { utils } from 'ontology-ts-sdk'\nimport { useAlert } from 'react-alert'\nimport BigNumber from 'bignumber.js'\nimport { useTranslation } from 'react-i18next'\nimport Slider from 'rc-slider'\nimport { cyanoRequest } from '../../../utils/cyano'\nimport { readBigNumberUint128 } from '../../../utils/token'\nimport { useFetchPairs } from '../../../hooks/usePair';\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../../config'\nimport 'rc-slider/assets/index.css'\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst RemoveLiquidity = () => {\n  const [liquidityBalance, setLiquidityBalance] = useState(0)\n  const [token1, setToken1] = useState({})\n  const [token2, setToken2] = useState({})\n  const [token1Amount, setToken1Amount] = useState(0)\n  const [token2Amount, setToken2Amount] = useState(0)\n  const [pair, setPair] = useState({})\n  const [amount, setAmount] = useState(0)\n  const [showPrice, setShowPrice] = useState(false)\n  const { account, slippage, tokens, pairs, SWAP_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    slippage: state.wallet.slippage,\n    tokens: state.common.tokens,\n    pairs: state.swap.pairs,\n    SWAP_ADDRESS: state.gov.poolStat.pools.swap.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const Alert = useAlert()\n  const history = useHistory()\n  const location = useLocation()\n  const [t] = useTranslation()\n  const pairId = location.pathname.match(/\\/([^/]+)$/)[1]\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (account && pairs.length && pairId) {\n      getLiquidityBalanceByPairId(pairId).then((resp) => {\n        setLiquidityBalance(resp)\n      })\n    }\n  }, [account, pairs, SWAP_ADDRESS])\n\n  useEffect(() => {\n    if (tokens.length && pairs.length && pairId) {\n      const pair = pairs.find((p) => `${p.id}` === pairId)\n      setPair(pair)\n      setToken1(tokens.find((t) => t.id === pair.token1))\n      setToken2(tokens.find((t) => t.id === pair.token2))\n      setShowPrice(true)\n    }\n  }, [pairs, tokens])\n\n  useEffect(() => {\n    if (pair && token1.id && token2.id && pairId && liquidityBalance) {\n      const shareOfPool = new BigNumber(liquidityBalance).div(pair.lp)\n      const token1Amount = shareOfPool.times(pair.reserve1).div(10 ** token1.decimals)\n      const token2Amount = shareOfPool.times(pair.reserve2).div(10 ** token2.decimals)\n\n      setToken1Amount(new BigNumber(amount).div(100).times(token1Amount).toFixed(token1.decimals))\n      setToken2Amount(new BigNumber(amount).div(100).times(token2Amount).toFixed(token2.decimals))\n    }\n  }, [amount, pair, token1, token2])\n\n  function getLiquidityBalanceByPairId(id) {\n    if (SWAP_ADDRESS) {\n      return cyanoRequest('smartContract.invokeWasmRead', {\n        scriptHash: SWAP_ADDRESS,\n        operation: 'balanceOf',\n        args: [\n          {\n            type: 'Long',\n            value: id\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n      }).then((resp) => {\n        const strReader = new StringReader(resp)\n        const balance = readBigNumberUint128(strReader)\n        \n        return balance\n      })\n    }\n  }\n\n  function getPairPrice() {\n    return new BigNumber(pair.reserve2).div(10 ** token2.decimals).div(pair.reserve1).times(10 ** token1.decimals).toString()\n  }\n\n  function onNavigateToPool() {\n    history.goBack()\n  }\n\n  async function onRemove() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (SWAP_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: token1.id\n          },\n          {\n            type: 'Long',\n            value: token2.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(liquidityBalance).times(amount / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token1Amount).times(10 ** token1.decimals).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(token2Amount).times(10 ** token2.decimals).times(1 - slippage / 100).integerValue(BigNumber.ROUND_UP).toString()\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n\n        const addResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SWAP_ADDRESS,\n          operation: 'remove_liquidity',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (addResult.transaction) {\n          onNavigateToPool()\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: t('transaction_successful'),\n            extraText: t('view_transaction'),\n            extraLink: `${TRANSACTION_BASE_URL}${addResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  return (\n    <div className=\"remove-liquidity-wrapper\">\n      <div className=\"rl-header\">{t('remove_liquidity')}\n        <div className=\"back-icon\" onClick={() => onNavigateToPool()}></div>\n      </div>\n      <div className=\"rl-wrapper\">\n        <div className=\"rl-amount\">\n          <div className=\"rl-amount-label\">{t('amount')}<span>{amount}%</span></div>\n          <Slider value={amount} onChange={(e) => setAmount(e)} />\n          <div className=\"quick-items\">\n            <div className=\"quick-item\" onClick={() => setAmount(25)}>25%</div>\n            <div className=\"quick-item\" onClick={() => setAmount(50)}>50%</div>\n            <div className=\"quick-item\" onClick={() => setAmount(75)}>75%</div>\n            <div className=\"quick-item\" onClick={() => setAmount(100)}>Max</div>\n          </div>\n        </div>\n        <div className=\"icon-arrow-down\" />\n        <div className=\"rl-receive-wrapper\">\n          <div className={`receive-token-item icon-${token1.name}`}>\n            {token1.name}\n            <span>{token1Amount}</span>\n          </div>\n          <div className={`receive-token-item icon-${token2.name}`}>\n            {token2.name}\n            <span>{token2Amount}</span>\n          </div>\n        </div>\n        {\n          showPrice ? (\n            <div className=\"rl-price-wrapper\">\n              <div className=\"price-wrapper-lable\">{t('price')}</div>\n              <div className=\"price\">1 {token1.name} = {getPairPrice()} {token2.name}</div>\n              <div className=\"price-reverse\">1 {token2.name} = {new BigNumber(1).div(getPairPrice()).toString()} {token1.name}</div>\n            </div>\n          ) : null\n        }\n        { amount ? <div className=\"rl-remove-btn\" onClick={() => onRemove()}>{t('remove')}</div> : <div className=\"rl-remove-btn disabled\">{t('remove')}</div> }\n      </div>\n    </div>\n  )\n}\n\nexport default RemoveLiquidity","import React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory } from \"react-router-dom\"\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport Tooltip from 'rc-tooltip'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { useTranslation } from 'react-i18next'\nimport { cyanoRequest } from '../../utils/cyano'\nimport { DAI_PRICE } from '../../utils/constants'\nimport { GOVERNANCE_ADDRESS } from '../../config'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport { readBigNumberUint128, getTokenIconDom } from '../../utils/token'\n\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst Staking = () => {\n  const [showClosedEntry, setShowClosedEntry] = useState(false)\n  const [showClosed, setShowClosed] = useState(false)\n  const [unxPrice, setUnxPrice] = useState(0)\n  const [tokenPrices, setTokenPrices] = useState({})\n  const { account, tokens, stakingTokens, poolStat, pairs, stakingPoolWeightRatio, STAKING_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    stakingTokens: state.staking.tokens,\n    poolStat: state.gov.poolStat,\n    pairs: state.swap.pairs,\n    stakingPoolWeightRatio: state.gov.poolStat.pools.staking.ratio,\n    STAKING_ADDRESS: state.gov.poolStat.pools.staking.address\n  }))\n  const dispatch = useDispatch()\n  const setStakingTokens = useCallback((tokens) => dispatch({ type: 'SET_STAKING_TOKENS', tokens }), [])\n  const history = useHistory()\n  const Alert = useAlert()\n  const [t] = useTranslation()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (pairs.length && (!unxPrice || unxPrice === '0')) {\n      const unxTk = tokens.find((t) => t.name === 'UNX')\n      const daiTk = tokens.find((t) => t.name === 'pDAI')\n      const pair = pairs.find((p) => (p.token1 === unxTk.id && p.token2 === daiTk.id) || (p.token2 === unxTk.id && p.token1 === daiTk.id))\n\n      if (pair) {\n        if (pair.token1 === unxTk.id) {\n          setUnxPrice(new BigNumber(pair.reserve2).div(10 ** daiTk.decimals).div(pair.reserve1).times(10 ** unxTk.decimals).times(DAI_PRICE).toString())\n        } else {\n          setUnxPrice(new BigNumber(pair.reserve1).div(10 ** daiTk.decimals).div(pair.reserve2).times(10 ** unxTk.decimals).times(DAI_PRICE).toString())\n        }\n      }\n    }\n  }, [pairs, tokens])\n\n  useEffect(() => {\n    getStakingTokenPrice()\n    let interval = setInterval(getStakingTokenPrice, 3000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [stakingTokens])\n\n  useEffect(() => {\n    getStakingTokenBalance()\n    let interval = setInterval(getStakingTokenBalance, 3000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, STAKING_ADDRESS])\n\n  useEffect(() => {\n    if (stakingTokens.filter((st) => !st.originWeight).length) {\n      setShowClosedEntry(true)\n    } else {\n      setShowClosedEntry(false)\n    }\n  }, [stakingTokens])\n\n  async function getStakingTokenPrice() {\n    if (stakingTokens.length) {\n      try {\n        const unxToken = tokens.find((t) => t.name === 'UNX')\n        const parsedTokenPrices = {}\n        const LPTokens = stakingTokens.filter((st) => st.ty === 3)\n        const nonLPTokens = stakingTokens.filter((st) => st.ty !== 3)\n        const tokenIds = nonLPTokens.map((t) => t.id)\n        \n        LPTokens.map((lpt) => {\n          const tokenNames = lpt.name.split('-').filter((t) => t !== 'LP' && t !== 'UNX')\n\n          tokenNames.map((tn) => {\n            const tokenId = tokens.find((t) => t.name === tn).id\n          \n            if (tokenIds.indexOf(tokenId) < 0) {\n              tokenIds.push(tokenId)\n            }\n          })\n        })\n\n        const args = [\n          {\n            type: 'Array',\n            value: tokenIds.map((id) => ({ type: 'Long', value: id }))\n          }\n        ]\n        const tokenPriceStr = await cyanoRequest('smartContract.invokeWasmRead', {\n          scriptHash: GOVERNANCE_ADDRESS,\n          operation: 'token_prices',\n          args\n        })\n        const strReader = new StringReader(tokenPriceStr)\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          parsedTokenPrices[tokenIds[i]] = readBigNumberUint128(strReader)\n        }\n\n        LPTokens.map((lpt) => {\n          const tokenNames = lpt.name.split('-').filter((t) => t !== 'LP')\n          const token1 = tokens.find((t) => t.name === tokenNames[0])\n          const token2 = tokens.find((t) => t.name === tokenNames[1])\n          const pair = pairs.find((p) => (p.token1 === token1.id && p.token2 === token2.id) || p.token1 === token2.id && p.token2 === token1.id)\n\n          if (pair) {\n            let value = new BigNumber(0)\n            if (token1.name === 'UNX' || token2.name === 'UNX') {\n              const nonUnxToken = (token1.name === 'UNX') ? token2 : token1\n\n              if (pair.token1 === unxToken.id) {\n                value = value.plus(new BigNumber(pair.reserve2).div(10 ** nonUnxToken.decimals).times(parsedTokenPrices[pair.token2]).times(2))\n              } else {\n                value = value.plus(new BigNumber(pair.reserve1).div(10 ** nonUnxToken.decimals).times(parsedTokenPrices[pair.token1]).times(2))\n              }\n            } else {\n              if (pair.token1 === token1.id) {\n                value  = value.plus(new BigNumber(pair.reserve1).div(10 ** token1.decimals).times(parsedTokenPrices[pair.token1])).plus(new BigNumber(pair.reserve2).div(10 ** token2.decimals).times(parsedTokenPrices[pair.token2]))\n              } else {\n                value  = value.plus(new BigNumber(pair.reserve1).div(10 ** token2.decimals).times(parsedTokenPrices[pair.token1])).plus(new BigNumber(pair.reserve2).div(10 ** token1.decimals).times(parsedTokenPrices[pair.token2]))\n              }\n            }\n\n            parsedTokenPrices[lpt.id] = value.div(pair.lp).times(10 ** 18).toString()\n          }\n        })\n        \n        setTokenPrices(parsedTokenPrices)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  async function getStakingTokenBalance() {\n    if (tokens.length && STAKING_ADDRESS) {\n      try {\n        const statStr = await cyanoRequest('smartContract.invokeWasmRead', {\n          scriptHash: STAKING_ADDRESS,\n          operation: 'stat',\n          args: []\n        })\n        const parsedTokens = []\n        const strReader = new StringReader(statStr)\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          const token = {}\n          token.id = strReader.readUint128()\n          const tempToken = tokens.find((t) => t.id === token.id)\n          token.weight = strReader.readUint128()\n          token.balance = readBigNumberUint128(strReader)\n\n          parsedTokens.push(Object.assign({}, tempToken, token))\n        }\n\n        const totalWeight = parsedTokens.filter((t) => t.balance).reduce((a, b) => a + b.weight, 0)\n        const filteredTokens = parsedTokens.map((t) => {\n          return {\n            ...t,\n            originWeight: t.weight,\n            weight: t.balance ? (t.weight / totalWeight) : 0\n          }\n        })\n\n        setStakingTokens(filteredTokens)\n      } catch (e) {\n        console.log(e)\n      }\n    }\n  }\n\n  function onSelectToken(token) {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n    history.push(`/staking/${token.id}`)\n  }\n\n  function getTip(token) {\n    return t('hidden_receipt', { token: token.name, subtoken: token.name.replace('f', '')})\n  }\n\n  function generateStakingPool() {\n    if (stakingTokens.length) {\n      const openStakingTokens = stakingTokens.filter((t) => !!t.originWeight)\n      const closedStakingTokens = stakingTokens.filter((t) => !t.originWeight)\n\n      return (showClosed ? closedStakingTokens : openStakingTokens).map((token) => {\n        const unxAmount = new BigNumber(poolStat.distributionInfo.amount || 0)\n          .div(poolStat.distributionInfo.period || 1)\n          .times(86400 * 365)\n          .times(stakingPoolWeightRatio || 0)\n          .times(token.weight)\n        const tokenAPY = tokenPrices[token.id] ? unxAmount\n          .times(unxPrice)\n          .times(10 ** 12)\n          .div(tokenPrices[token.id])\n          .div(token.balance)\n          .times(10 ** token.decimals)\n          .times(100)\n          .toFixed(2) : 0\n\n        return (\n          <div className={`pool-list-item ${!showClosed ? '' : 'pool-list-item-disabled'}`} key={token.name}>\n            <div className=\"item-detail\">\n              <div className=\"item-detail-wrapper\">\n                { token.ty === 3 && <div className=\"corner-badge\">10X</div> }\n                <div className=\"staking-token\">\n                  {\n                    token.ty === 3 ? (\n                      <div className=\"staking-text\">{t('deposit')}\n                        {getTokenIconDom(token, 'stake-lp-token')}\n                      </div>\n                    ) : (\n                      <div className={`staking-text icon-${token.name}`}>{t('deposit')}</div>\n                    )\n                  }\n                  {\n                    token.name.startsWith('f') ? (\n                      <Tooltip placement=\"top\" overlay={getTip(token)}>\n                        <div className=\"staking-token-name\">{token.name}</div>\n                      </Tooltip>\n                    ) : <div className=\"staking-token-name\">{token.name}</div>\n                  }\n                </div>\n                <div className=\"earn-line\">{t('earn')}<span>UNX</span></div>\n                <div className=\"earn-line\">{t('apy')}<span>{tokenAPY}%</span></div>\n                <div className=\"total-staking\">{t('total_staking')}<span>{new BigNumber(token.balance || 0).div(10 ** token.decimals).toString()}</span></div>\n                <div className=\"select-btn\" onClick={() => onSelectToken(token)}>{ showClosed ? t('unstake') : t('stake') }</div>\n              </div>\n            </div>\n          </div>\n        )\n      })\n    }\n  }\n\n  return (\n    <div className=\"stake-container\">\n      <div className=\"stake-pool\">\n        { !stakingTokens.length ? <div className=\"title\">{t('loading')}</div> : null }\n        {\n          showClosed ? (\n            <div className=\"unstake-pool-title\">\n              <div className=\"back-icon\" onClick={() => setShowClosed(false)}></div>\n              {t('unstake_from_closed_pool')}\n            </div>\n          ) : null\n        }\n        <div className=\"pool-list\">\n          {generateStakingPool()}\n        </div>\n        { showClosedEntry ? <div className=\"closed-pool-entrance\" onClick={() => setShowClosed(true)}>{t('unstake_from_closed_pool')}</div> : null }\n      </div>\n    </div>\n  )\n}\n\nexport default Staking","import React, { useState, useEffect, useCallback } from 'react'\nimport { useHistory, useLocation } from \"react-router-dom\"\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport i18next from 'i18next'\nimport { useTranslation } from 'react-i18next'\nimport Tooltip from 'rc-tooltip';\nimport Input from '../../../components/input'\nimport { cyanoRequest } from '../../../utils/cyano'\nimport { readBigNumberUint128, getTokenBalance, getTokenIconDom } from '../../../utils/token'\nimport { GOVERNANCE_ADDRESS, TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../../config'\n\nimport './index.css'\n\nconst { StringReader } = utils\n\nconst StakingDetail = (props) => {\n  const [stakeToken, setStakeToken] = useState({})\n  const [tokenBalance, setTokenBalance] = useState('-')\n  const [tokenWeight, setTokenWeight] = useState(1)\n  const [amount, setAmount] = useState('')\n  const [myStake, setMyStake] = useState({})\n  const [stakeType, setStakeType] = useState('stake')\n  const [claimableWing, setClaimableWing] = useState(0)\n  const [showStakingModal, setShowStakingModal] = useState(false)\n  const { account, tokens, stakingTokens, STAKING_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    stakingTokens: state.staking.tokens,\n    STAKING_ADDRESS: state.gov.poolStat.pools.staking.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n\n  const [t] = useTranslation()\n  const isEnLanguage = i18next.language === 'en'\n  const Alert = useAlert()\n  const location = useLocation()\n  const history = useHistory()\n  const tokenId = location.pathname.match(/\\/([^/]+)$/)[1]\n\n  useEffect(() => {\n    if (stakingTokens.length) {\n      setTokenWeight(stakingTokens.find((t) => `${t.id}` === tokenId).originWeight)\n    }\n  }, [stakingTokens])\n\n  useEffect(() => {\n    if (account && tokens.length) {\n      const sToken = tokens.find((t) => `${t.id}` === tokenId)\n\n      setStakeToken(sToken)\n      getTokenBalance(account, sToken, setTokenBalance)\n    }\n  }, [tokens, account])\n\n\n  useEffect(() => {\n    const getClaimableWing = async () => {\n      if (account && stakeToken.ty === 2) {\n        try {\n          const resp = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: GOVERNANCE_ADDRESS,\n            operation: 'claimable_wing',\n            args: [\n              {\n                type: 'Address',\n                value: account\n              },\n              {\n                type: 'Long',\n                value: stakeToken.id\n              }\n            ]\n          })\n          const strReader = new StringReader(resp)\n\n          setClaimableWing(readBigNumberUint128(strReader))\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getClaimableWing()\n    let interval = setInterval(getClaimableWing, 10000)\n\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, stakeToken])\n\n  useEffect(() => {\n    if (account && stakeToken.id && STAKING_ADDRESS) {\n      getAccountStake()\n      const interval = setInterval(getAccountStake, 10000)\n      return () => {\n        interval && clearInterval(interval)\n      }\n    }\n  }, [stakeToken, account, STAKING_ADDRESS])\n\n  useEffect(() => {\n    if (!account) {\n      setMyStake({})\n    }\n  }, [account])\n\n  function getAccountStakeByTokenId(id) {\n    return cyanoRequest('smartContract.invokeWasmRead', {\n      scriptHash: STAKING_ADDRESS,\n      operation: 'account_stake_info',\n      args: [\n        {\n          type: 'Address',\n          value: account\n        },\n        {\n          type: 'Long',\n          value: id\n        }\n      ]\n    }).then((stakeStr) => {\n      const strReader = new StringReader(stakeStr)\n      return {\n        id,\n        balance: new BigNumber(readBigNumberUint128(strReader) || 0).div(10 ** (stakeToken.decimals || 0)).toString(),\n        interest: readBigNumberUint128(strReader)\n      }\n    })\n  }\n\n  function getAccountStake() {\n    getAccountStakeByTokenId(tokenId)\n    .then((stake) => {\n      setMyStake(stake)\n    })\n    .catch((e) => {\n      console.log('get account stakes', e)\n    })\n  }\n\n  function handleStakeClick(action) {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n    setStakeType(action)\n    setShowStakingModal(true)\n  }\n\n  async function onStake() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n    if (stakeToken.id && STAKING_ADDRESS) {\n      if (amount <= 0) {\n        Alert.error(t('amount_gt_0'))\n        return\n      }\n      if (stakeType === 'unstake' && new BigNumber(amount).gt(new BigNumber(myStake.balance))) {\n        Alert.error(t('amount_lte_balance'))\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: stakeToken.id\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(amount).times(new BigNumber(10 ** stakeToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const param = {\n          scriptHash: STAKING_ADDRESS,\n          operation: stakeType,\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        }\n\n        const stakeResult = await cyanoRequest('smartContract.invokeWasm', param)\n\n        if (stakeResult.transaction) {\n          setShowStakingModal(false)\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text:  t('transaction_successful'),\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${stakeResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setShowStakingModal(false)\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  async function onHarvest() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (STAKING_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: stakeToken.id\n          }\n        ]\n        const param = {\n          scriptHash: STAKING_ADDRESS,\n          operation: 'harvest',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        }\n\n        const harvestResult = await cyanoRequest('smartContract.invokeWasm', param)\n\n        if (harvestResult.transaction) {\n          setShowStakingModal(false)\n          setModal('infoModal', {\n            show: true,\n            type: 'success',\n            text: t('transaction_successful'),\n            extraText: 'View Transaction',\n            extraLink: `${TRANSACTION_BASE_URL}${harvestResult.transaction}${TRANSACTION_AFTERFIX}`\n          })\n        }\n      } catch (e) {\n        setModal('infoModal', {\n          show: true,\n          type: 'error',\n          text: t('transaction_failed'),\n          // extraText: `${e}`,\n          extraText: '',\n          extraLink: ''\n        })\n      }\n    }\n  }\n\n  function onNavigateToStaking() {\n    history.goBack()\n  }\n\n  const maxInput = () => {\n    if (stakeType === 'stake' && !isNaN(tokenBalance)) {\n      setAmount(tokenBalance)\n    } else if (stakeType === 'unstake' && !isNaN(myStake.balance)) {\n      setAmount(myStake.balance)\n    }\n  }\n\n  return (\n    <div className=\"stake-container\">\n      <div className=\"stake-title\">\n        <div className=\"back-icon\" onClick={() => onNavigateToStaking()} />\n        {\n          isEnLanguage ? (\n            <React.Fragment>\n              {t('earn')} <span className=\"icon-UNX\">UNX</span> {t('by')}\n              {getTokenIconDom(stakeToken, 'inline-token-wrapper')}\n              {stakeToken.name || ''}\n            </React.Fragment>\n          ) : (\n            <React.Fragment>\n              {t('by')} {getTokenIconDom(stakeToken, 'inline-token-wrapper')}\n              {stakeToken.name || ''} {t('earn')}\n              <span className=\"icon-UNX\">UNX</span>\n            </React.Fragment>\n          )\n        }\n      </div>\n      <div className=\"stake-token-detail\">\n        <div className=\"stake-token-amount\">\n          {getTokenIconDom(stakeToken, 'stake-token-wrapper')}\n          <div className=\"stake-token-amount-detail\">\n            <div className=\"stake-token-amount-label\">{t('current_staked')}</div>\n            <div className=\"stake-token-amount-info\">{myStake.balance} {stakeToken.name}</div>\n          </div>\n        </div>\n        <div className=\"stake-token-actions\">\n          { tokenWeight ? <div className=\"stake-token-action\" onClick={() => handleStakeClick('stake')}>{t('stake')}</div> : null }\n          <div className=\"stake-token-action\" onClick={() => handleStakeClick('unstake')}>{t('unstake')}</div>\n        </div>\n      </div>\n      <div className=\"harvest-token-detail\">\n        <div className=\"harvest-token-amount icon-UNX\">\n          <div className=\"harvest-token-amount-label\">{t('rewards_available')}</div>\n          <div className=\"harvest-token-amount-info\">{new BigNumber(myStake.interest || 0).div(10 ** 9).toString()} UNX</div>\n        </div>\n        <div className=\"harvest-token-actions\">\n          <div className=\"harvest-token-action\" onClick={() => onHarvest() }>{t('harvest')}</div>\n        </div>\n      </div>\n      {\n        stakeToken.ty === 2 ? (\n          <div className=\"claimable-wing-detail\">\n            <div className=\"claimable-wing-amount icon-WING\">{new BigNumber(claimableWing || 0).div(10 ** 9).toString()}\n              <div className=\"claimable-wing-label\">{t('wing_earned')}\n                <Tooltip placement=\"top\" overlay=\"WING earned by ftoken will be transferred to your account when you stake or unstake\">\n                  <span>?</span>\n                </Tooltip>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n      { showStakingModal ? (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper\">\n            <div className=\"close-btn\" onClick={() => { setShowStakingModal(false); setAmount(''); }}></div>\n            <div className=\"stake-wrapper\">\n              {/* <div className={`icon-${stakeToken.name} token-placeholder`}></div> */}\n              {getTokenIconDom(stakeToken, 'token-placeholder')}\n              <div className=\"form-item\">\n                <div className=\"input-label\">{t('amount')}\n                  {\n                    stakeType === 'stake' ? (\n                      <span className=\"hint\">{t('balance')}: {tokenBalance}</span>\n                    ) : (\n                      <span className=\"hint\">{t('staked')}: {myStake.balance}</span>\n                    )\n                  }\n                </div>\n                <div className=\"input-wrapper\">\n                  <Input placeholder=\"0.0\" value={amount} decimals={stakeToken.decimals || 0} onChange={(amount) => setAmount(amount)} />\n                  <div className=\"input-max-btn\" onClick={() => maxInput()}>{t('max')}</div>\n                </div>\n              </div>\n              <div className=\"stake-btn\" onClick={() => onStake()}>{ stakeType === 'stake' ? t('stake') : t('unstake')}</div>\n            </div>\n          </div>\n        </div>\n      ) : null }\n    </div>\n  )\n}\n\nexport default StakingDetail","import React from 'react'\nimport './index.css'\n\nconst Token = (props) => {\n  return (\n    <div className=\"coming-soon-placeholder\"></div>\n  )\n}\n\nexport default Token","import React from 'react'\nimport './index.css'\n\nconst Option = (props) => {\n  return (\n    <div className=\"coming-soon-placeholder\"></div>\n  )\n}\n\nexport default Option","import React, { useState, useEffect } from 'react'\nimport { useMappedState } from 'redux-react-hook'\nimport { useTranslation } from 'react-i18next'\nimport './index.css'\n\nconst Countdown = (props) => {\n  const { text } = props\n  const [hasBegan, setHasBegan] = useState(true)\n  const [leftTime, setLeftTime] = useState({})\n  const { poolStat } = useMappedState((state) => ({\n    poolStat: state.gov.poolStat\n  }))\n  const [t] = useTranslation()\n\n  const getLeftTime = (t) => {\n    const time = parseInt((new Date(t * 1000) - new Date()) / 1000, 10)\n    const day = parseInt((time < 0 ? 0 : time / 3600 / 24), 10)\n    const hour = parseInt((time < 0 ? 0 : time / 3600 % 24), 10)\n    const minute = parseInt((time < 0 ? 0 : time / 60 % 60), 10)\n    const second = time < 0 ? 0 : time % 60\n    const dateInfo = {\n      day: day < 10 ? `0${day}` : day,\n      hour: hour < 10 ? `0${hour}` : hour,\n      minute: minute < 10 ? `0${minute}` : minute,\n      second: second < 10 ? `0${second}` : second\n    }\n\n    setLeftTime(dateInfo)\n  }\n\n  useEffect(() => {\n    const startTimeStamp = poolStat.distributionInfo.startTimeStamp\n    if (startTimeStamp && new Date(startTimeStamp * 1000) > new Date()) {\n      setHasBegan(false)\n      getLeftTime(poolStat.distributionInfo.startTimeStamp)\n    } else {\n      setHasBegan(true)\n    }\n  }, [poolStat])\n\n  useEffect(() => {\n    const interval = !hasBegan && setInterval(() => getLeftTime(poolStat.distributionInfo.startTimeStamp), 1000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [hasBegan])\n\n  return !hasBegan ? (\n    <div className=\"countdown-wrapper\">{text}\n      { Number(leftTime.day) ? <div className=\"date-item\">{t('days')}<p>{leftTime.day}</p></div> : null }\n      { leftTime.hour ? <div className=\"date-item\">{t('hours')}<p>{leftTime.hour}</p></div> : null }\n      { leftTime.minute ? <div className=\"date-item\">{t('minutes')}<p>{leftTime.minute}</p></div> : null }\n      { leftTime.second ? <div className=\"date-item\">{t('seconds')}<p>{leftTime.second}</p></div> : null }\n    </div>\n  ) : null\n}\n\nexport default Countdown","import React from 'react'\nimport Countdown from '../../components/countdown';\nimport './index.css'\n\nconst Coming = (props) => {\n  const { showCountdown = true } = props\n  return (\n    <div className={`coming-soon-placeholder ${showCountdown ? 'show-countdown' : ''}`}>\n    {\n      showCountdown ? (\n        <div className=\"coming-soon-wrapper\">\n          <Countdown />\n        </div>\n      ) : null\n    }\n    </div>\n  )\n}\n\nexport default Coming","import axios from 'axios'\nimport { EVENT_API_BASE_URL } from '../config'\n\nconst instance = axios.create({\n  baseURL: EVENT_API_BASE_URL,\n  timeout: 30000,\n  headers: { 'Content-Type': 'application/json' }\n})\n\ninstance.interceptors.response.use(\n  (response) => {\n    const res = response.data;\n    return res\n  },\n  (error) => {\n    return Promise.reject(error)\n  },\n)\n\nexport default instance","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useState, useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport BigNumber from 'bignumber.js'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\nimport { useTranslation } from 'react-i18next'\nimport Tooltip from 'rc-tooltip';\nimport TokenInput from '../../components/tokenInput';\nimport Input from '../../components/input'\nimport { cyanoRequest } from '../../utils/cyano'\nimport EventRequest from '../../utils/eventRequest'\nimport { readBigNumberUint128 } from '../../utils/token'\nimport { DAI_PRICE, SYNTH_PRICE_DECIMALS, ASSET_STATUS, LEVERAGE_TYPE, TRANSACTION_FEE_RATE } from '../../utils/constants'\nimport { TRANSACTION_BASE_URL, TRANSACTION_AFTERFIX } from '../../config'\nimport { useFetchPairs } from '../../hooks/usePair'\nimport './index.css'\n\nconst { StringReader, reverseHex } = utils\n\nconst Synth = () => {\n  const [mintAsset, setMintAsset] = useState({})\n  const [mintAmount, setMintAmount] = useState('')\n  const [unxNeededForMint, setUnxNeededForMint] = useState('')\n  const [burnAsset, setBurnAsset] = useState({})\n  const [burnAmount, setBurnAmount] = useState('')\n  const [unxGetForBurn, setUnxGetForBurn] = useState('')\n  const [exchangeAsset, setExchangeAsset] = useState({})\n  const [exchangeToAsset, setExchangeToAsset] = useState({})\n  const [exchangeAmount, setExchangeAmount] = useState('')\n  const [exchangeToAssets, setExchangeToAssets] = useState([])\n  const [exchangeToAmount, setExchangeToAmount] = useState('')\n  const [showMintModal, setShowMintModal] = useState(false)\n  const [showBurnModal, setShowBurnModal] = useState(false)\n  const [showExchangeModal, setShowExchangeModal] = useState(false)\n  const { account, tokens, pairs, poolStat, stat, marketStat, availableReward, synthType, synthPoolWeightRatio, unxToken, unxPrice, SYNTH_ADDRESS } = useMappedState((state) => ({\n    account: state.wallet.account,\n    tokens: state.common.tokens,\n    pairs: state.swap.pairs,\n    poolStat: state.gov.poolStat,\n    ...state.synth,\n    synthPoolWeightRatio: state.gov.poolStat.pools.synth.ratio,\n    SYNTH_ADDRESS: state.gov.poolStat.pools.synth.address\n  }))\n  const dispatch = useDispatch()\n  const setModal = useCallback((modalType, modalDetail) => dispatch({ type: 'SET_MODAL', modalType, modalDetail }), [])\n  const setStat = useCallback((stat) => dispatch({ type: 'SET_SYNTH_STAT', stat }), [])\n  const setMarketStat = useCallback((marketStat) => dispatch({ type: 'SET_SYNTH_MARKET_STAT', marketStat }), [])\n  const setAvailableReward = useCallback((availableReward) => dispatch({ type: 'SET_SYNTH_AVAILABLE_REWARD', availableReward }), [])\n  const setSynthType = useCallback((synthType) => dispatch({ type: 'SET_SYNTH_TYPE', synthType }), [])\n  const setUnxToken = useCallback((unxToken) => dispatch({ type: 'SET_SYNTH_UNX_TOKEN', unxToken }), [])\n  const setUnxPrice = useCallback((unxPrice) => dispatch({ type: 'SET_SYNTH_UNX_PRICE', unxPrice }), [])\n\n  const Alert = useAlert()\n  const [t] = useTranslation()\n\n  useFetchPairs()\n\n  useEffect(() => {\n    if (tokens.length) {\n      setUnxToken(tokens.find((t) => t.name === 'UNX'))\n    }\n  }, [tokens])\n\n  useEffect(() => {\n    if (tokens.length && pairs.length && (!unxPrice || unxPrice === '0') && marketStat.marketAssetValue) {\n      const unxTk = tokens.find((t) => t.name === 'UNX')\n      if (!marketStat.marketAssetBalances.length) {\n        const daiTk = tokens.find((t) => t.name === 'pDAI')\n        const pair = pairs.find((p) => (p.token1 === unxTk.id && p.token2 === daiTk.id) || (p.token2 === unxTk.id && p.token1 === daiTk.id))\n\n        if (pair) {\n          if (pair.token1 === unxTk.id) {\n            setUnxPrice(new BigNumber(pair.reserve2).div(10 ** daiTk.decimals).div(pair.reserve1).times(10 ** unxTk.decimals).times(DAI_PRICE).times(SYNTH_PRICE_DECIMALS).toString())\n          } else {\n            setUnxPrice(new BigNumber(pair.reserve1).div(10 ** daiTk.decimals).div(pair.reserve2).times(10 ** unxTk.decimals).times(DAI_PRICE).times(SYNTH_PRICE_DECIMALS).toString())\n          }\n        }\n      } else {\n        setUnxPrice(new BigNumber(marketStat.marketAssetValue).div(marketStat.marketTokenBalance).times(10 ** unxTk.decimals).toString())\n      }\n\n      setUnxToken(unxTk)\n    }\n  }, [pairs, tokens, marketStat])\n\n  useEffect(() => {\n    async function getAvailableReward() {\n      if (account && unxToken.id && SYNTH_ADDRESS) {\n        try {\n          const claimStr = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: SYNTH_ADDRESS,\n            operation: 'claim_unx',\n            args: [\n              {\n                type: 'Long',\n                value: unxToken.id\n              },\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n\n          const strReader = new StringReader(claimStr)\n          const availableReward = strReader.readUint128()\n\n          setAvailableReward(new BigNumber(availableReward).toString())\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getAvailableReward()\n    const interval = setInterval(getAvailableReward, 10000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, unxToken, SYNTH_ADDRESS])\n\n  useEffect(() => {\n    async function getStat() {\n      if (tokens.length && SYNTH_ADDRESS) {\n        try {\n          const statStr = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: SYNTH_ADDRESS,\n            operation: 'stat',\n            args: []\n          })\n          const strReader = new StringReader(statStr)\n  \n          reverseHex(strReader.read(20)) // govAddress\n          strReader.readUint128() // daiTokenId\n          strReader.readUint128() // unxTokenId\n          strReader.readUint128() // pairId\n\n          const liveAssetCount = strReader.readNextLen()\n          const liveAssets = []\n          for (let i = 0; i < liveAssetCount; i++) {\n            const asset = {}\n            asset.assetId = strReader.readUint128()\n            asset.tokenId = strReader.readUint128()\n\n            const token = tokens.find((t) => t.id === asset.tokenId)\n            asset.tokenName = token.name\n            asset.decimals = token.decimals\n            asset.leverageType = strReader.readNextByte()\n            asset.times = strReader.readUint128()\n            asset.entryPrice = readBigNumberUint128(strReader)\n            asset.lowLimit = readBigNumberUint128(strReader)\n            asset.highLimit = readBigNumberUint128(strReader)\n            asset.status = strReader.readNextByte()\n            asset.frozenBy = reverseHex(strReader.read(20))\n            asset.frozenTime = strReader.readUint64()\n\n            if (asset.tokenName.startsWith('p')) {\n              asset.tokenName = asset.tokenName.replace('p', '')\n            }\n            asset.tokenName = `${asset.leverageType === LEVERAGE_TYPE.Negative ? 'i' : 's'}${asset.tokenName}`\n            asset.id = asset.assetId\n            asset.value = asset.assetId\n            asset.label = `${asset.tokenName}${asset.times !== 1 ? ` (${asset.times}x)` : ''}`\n            liveAssets.push(asset)\n          }\n\n          const frozenAssetCount = strReader.readNextLen()\n          const frozenAssets = []\n          for (let i = 0; i < frozenAssetCount; i++) {\n            const asset = {}\n            asset.assetId = strReader.readUint128()\n            asset.tokenId = strReader.readUint128()\n\n            const token = tokens.find((t) => t.id === asset.tokenId)\n            asset.tokenName = token.name\n            asset.decimals = token.decimals\n            asset.leverageType = strReader.readNextByte()\n            asset.times = strReader.readUint128()\n            asset.entryPrice = readBigNumberUint128(strReader)\n            asset.lowLimit = readBigNumberUint128(strReader)\n            asset.highLimit = readBigNumberUint128(strReader)\n            asset.status = strReader.readNextByte()\n            asset.frozenBy = reverseHex(strReader.read(20))\n            asset.frozenTime = strReader.readUint64()\n\n            if (asset.tokenName.startsWith('p')) {\n              asset.tokenName = asset.tokenName.replace('p', '')\n            }\n            asset.tokenName = `${asset.leverageType === LEVERAGE_TYPE.Negative ? 'i' : 's'}${asset.tokenName}`\n            asset.label = `${asset.tokenName}${asset.times !== 1 ? ` (${asset.times}x)` : ''}`\n  \n            frozenAssets.push(asset)\n          }\n\n          const tokenPriceCount = strReader.readNextLen()\n          const tokenPrices = []\n          for (let i = 0; i < tokenPriceCount; i++) {\n            const tokenPrice = {}\n            tokenPrice.tokenId = strReader.readUint128()\n            tokenPrice.price = readBigNumberUint128(strReader)\n  \n            tokenPrices.push(tokenPrice)\n          }\n\n          for (let liveAsset of liveAssets) {\n            const currentPrice = tokenPrices.find((tp) => tp.tokenId === liveAsset.tokenId).price\n            let tokenPrice = currentPrice\n\n            if (liveAsset.lowLimit && new BigNumber(currentPrice).lte(new BigNumber(liveAsset.lowLimit))) {\n              tokenPrice = liveAsset.lowLimit\n            } else if (liveAsset.highLimit && new BigNumber(currentPrice).gte(new BigNumber(liveAsset.highLimit))) {\n              tokenPrice = liveAsset.highLimit\n            }\n\n            liveAsset.tokenPrice = tokenPrice\n\n            if (liveAsset.leverageType === LEVERAGE_TYPE.Positive) {\n              liveAsset.price = new BigNumber(liveAsset.entryPrice).plus(new BigNumber(tokenPrice).times(liveAsset.times)).minus(new BigNumber(liveAsset.entryPrice).times(liveAsset.times)).toString()\n            } else {\n              liveAsset.price = new BigNumber(liveAsset.entryPrice).plus(new BigNumber(liveAsset.entryPrice).times(liveAsset.times)).minus(new BigNumber(tokenPrice).times(liveAsset.times)).toString()\n            }\n\n            if ((liveAsset.lowLimit && new BigNumber(liveAsset.tokenPrice).lte(new BigNumber(liveAsset.lowLimit))) || (liveAsset.highLimit && new BigNumber(liveAsset.tokenPrice).gte(new BigNumber(liveAsset.highLimit)))) {\n              liveAsset.unprocessedFrozen = true\n            }\n          }\n\n          for (let frozenAsset of frozenAssets) {\n            frozenAsset.tokenPrice = tokenPrices.find((tp) => tp.tokenId === frozenAsset.tokenId).price\n            if (frozenAsset.status === ASSET_STATUS.HighLimit) {\n              frozenAsset.tokenPrice = frozenAsset.highLimit\n            } else if (frozenAsset.status === ASSET_STATUS.LowLimit) {\n              frozenAsset.tokenPrice = frozenAsset.lowLimit\n            }\n          }\n\n          setStat({\n            liveAssets,\n            frozenAssets,\n            tokenPrices\n          })\n        } catch (e) {\n          console.log('get synth stat', e)\n        }\n      }\n    }\n\n    getStat()\n    const interval = setInterval(getStat, 5000)\n\n    return () => clearInterval(interval)\n  }, [tokens, SYNTH_ADDRESS])\n\n  useEffect(() => {\n    async function getMarketStat() {\n      if (account && unxToken.id && SYNTH_ADDRESS) {\n        try {\n          const statStr = await cyanoRequest('smartContract.invokeWasmRead', {\n            scriptHash: SYNTH_ADDRESS,\n            operation: 'market_stat',\n            args: [\n              {\n                type: 'Long',\n                value: unxToken.id\n              },\n              {\n                type: 'Address',\n                value: account\n              }\n            ]\n          })\n          const strReader = new StringReader(statStr)\n\n          const marketAssetBalanceCount = strReader.readNextLen()\n          const marketAssetBalances = []\n          let marketAssetValueSum = new BigNumber(0)\n          for (let i = 0; i < marketAssetBalanceCount; i++) {\n            const assetBalance = {}\n            assetBalance.assetId = strReader.readUint128()\n            assetBalance.balance = readBigNumberUint128(strReader)\n            assetBalance.assetPrice = readBigNumberUint128(strReader)\n\n            const asset = stat.liveAssets ? [...stat.liveAssets, ...stat.frozenAssets].find((la) => la.assetId === assetBalance.assetId) : null\n\n            if (asset) {\n              marketAssetValueSum = marketAssetValueSum.plus(new BigNumber(assetBalance.assetPrice).times(assetBalance.balance).div(10 ** asset.decimals))\n            }\n  \n            marketAssetBalances.push(assetBalance)\n          }\n\n          const accountAssetBalanceCount = strReader.readNextLen()\n          const accountAssetBalances = []\n          let accountAssetValueSum = new BigNumber(0)\n          for (let i = 0; i < accountAssetBalanceCount; i++) {\n            const assetBalance = {}\n            assetBalance.assetId = strReader.readUint128()\n            assetBalance.balance = readBigNumberUint128(strReader)\n            assetBalance.assetPrice = readBigNumberUint128(strReader)\n\n            const asset = stat.liveAssets ? [...stat.liveAssets, ...stat.frozenAssets].find((la) => la.assetId === assetBalance.assetId) : null\n\n            if (asset) {\n              accountAssetValueSum = accountAssetValueSum.plus(new BigNumber(assetBalance.assetPrice).times(assetBalance.balance).div(10 ** asset.decimals))\n            }\n  \n            accountAssetBalances.push(assetBalance)\n          }\n\n          const marketStakeValue = readBigNumberUint128(strReader)\n          const accountStakeValue = readBigNumberUint128(strReader)\n          const marketTokenBalance = readBigNumberUint128(strReader)\n          const accountClaimedValue = readBigNumberUint128(strReader)\n          const accountWithdrawedStakeValue = readBigNumberUint128(strReader)\n          const transferable = (marketAssetValueSum.toString() !== '0') ? accountAssetValueSum.div(marketAssetValueSum).times(marketTokenBalance).toString() : '0'\n\n          const parsedMarketStat = {\n            marketAssetBalances,\n            accountAssetBalances,\n            marketAssetValue: marketAssetValueSum.toString(),\n            accountAssetValue: accountAssetValueSum.toString(),\n            transferable,\n            marketStakeValue,\n            accountStakeValue,\n            marketTokenBalance,\n            accountClaimedValue,\n            accountWithdrawedStakeValue\n          }\n\n          setMarketStat(parsedMarketStat)\n        } catch (e) {\n          console.log(e)\n        }\n      }\n    }\n\n    getMarketStat()\n    const interval = setInterval(getMarketStat, 5000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [account, unxToken, stat.liveAssets, SYNTH_ADDRESS])\n\n  const handleMintAmountChange = (amount) => {\n    setMintAmount(amount)\n    if (unxPrice && amount) {\n      setUnxNeededForMint(new BigNumber(amount).times(mintAsset.price).div(unxPrice).div(1 - TRANSACTION_FEE_RATE).toFixed(unxToken.decimals))\n    } else if (Number(amount) === 0) {\n      setUnxNeededForMint('')\n    }\n  }\n\n  const handleUnxNeededForMintChange = (amount) => {\n    setUnxNeededForMint(amount)\n    if (unxPrice && amount) {\n      setMintAmount(new BigNumber(amount).times(unxPrice).div(mintAsset.price).times(1 - TRANSACTION_FEE_RATE).toFixed(mintAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setMintAmount('')\n    }\n  }\n\n  const handleBurnAmountChange = (amount) => {\n    setBurnAmount(amount)\n    if (unxPrice && amount) {\n      setUnxGetForBurn(new BigNumber(amount).times(burnAsset.assetPrice).div(unxPrice).times(1 - TRANSACTION_FEE_RATE).toFixed(unxToken.decimals))\n    } else if (Number(amount) === 0) {\n      setUnxGetForBurn('')\n    }\n  }\n\n  const handleUnxGetForBurnChange = (amount) => {\n    setUnxGetForBurn(amount)\n    if (unxPrice && amount) {\n      setBurnAmount(new BigNumber(amount).times(unxPrice).div(burnAsset.assetPrice).div(1 - TRANSACTION_FEE_RATE).toFixed(burnAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setBurnAmount('')\n    }\n  }\n\n  const handleExchangeAmountChange = (amount) => {\n    setExchangeAmount(amount)\n    if (amount) {\n      setExchangeToAmount(new BigNumber(exchangeAsset.price).div(exchangeToAsset.price).times(amount).times(10 ** exchangeAsset.decimals).div(10 ** exchangeToAsset.decimals).times(1 - TRANSACTION_FEE_RATE).toFixed(exchangeToAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setExchangeToAmount('')\n    }\n  }\n\n  const handleChengeExchangeToAmount = (amount) => {\n    setExchangeToAmount(amount)\n    if (amount) {\n      setExchangeAmount(new BigNumber(amount).times(10 ** exchangeToAsset.decimals).div(10 ** exchangeAsset.decimals).times(exchangeToAsset.price).div(exchangeAsset.price).div(1 - TRANSACTION_FEE_RATE).toFixed(exchangeAsset.decimals))\n    } else if (Number(amount) === 0) {\n      setExchangeAmount('')\n    }\n  }\n\n  const maxBurnAmount = () => {\n    if (burnAsset) {\n      handleBurnAmountChange(new BigNumber(burnAsset.balance).div(10 ** burnAsset.decimals).toString())\n    }\n  }\n\n  const maxExchangeAmount = () => {\n    if (exchangeAsset) {\n      handleExchangeAmountChange(new BigNumber(exchangeAsset.balance).div(10 ** exchangeAsset.decimals).toString())\n    }\n  }\n\n  const handleChangeExchangeToAsset = (asset) => {\n    setExchangeToAsset(asset)\n    if (exchangeAmount) {\n      setExchangeToAmount(new BigNumber(exchangeAsset.price).div(asset.price).times(exchangeAmount).times(10 ** exchangeAsset.decimals).div(10 ** asset.decimals).times(1 - TRANSACTION_FEE_RATE).toFixed(asset.decimals))\n    } else if (Number(exchangeAmount) === 0) {\n      setExchangeToAmount('')\n    }\n  }\n\n  async function onMint() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (unxToken.id && mintAsset.assetId && SYNTH_ADDRESS) {\n      if (mintAmount <= 0) {\n        Alert.error(t('amount_gt_0'))\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(unxNeededForMint).times(new BigNumber(10 ** unxToken.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },\n          {\n            type: 'Long',\n            value: mintAsset.assetId\n          }\n        ]\n        const mintResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'mint',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (mintResult.transaction) {\n          setShowMintModal(false)\n          setMintAmount('')\n          setUnxNeededForMint('')\n\n          let detail = ''\n\n          EventRequest({\n            method: 'get',\n            url: `${mintResult.transaction}`\n          }).then((resp) => {\n            if (resp.Desc === 'SUCCESS') {\n              try {\n                const eventStates = resp.Result.Notify.find((notify) => notify.States[0] === 'mint').States\n\n                if (eventStates[5] === '0') {\n                  detail = t('freeze_asset', {asset: mintAsset.label})\n                }\n              } catch (e) {}\n\n              setInfoModal('success', mintResult.transaction, detail)\n            }\n          }).catch((e) => {\n            setInfoModal('success', mintResult.transaction)\n          })\n        }\n      } catch (e) {\n        setShowMintModal(false)\n        setMintAmount('')\n        setUnxNeededForMint('')\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onBurn() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (unxToken.id && burnAsset.assetId && SYNTH_ADDRESS) {\n      if (burnAmount <= 0) {\n        Alert.error(t('amount_gt_0'))\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: burnAsset.assetId\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(burnAmount).times(new BigNumber(10 ** burnAsset.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          }\n        ]\n        const burnResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'burn',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (burnResult.transaction) {\n          setShowBurnModal(false)\n          setBurnAmount('')\n          setUnxGetForBurn('')\n          setInfoModal('success', burnResult.transaction)\n        }\n      } catch (e) {\n        setShowBurnModal(false)\n        setBurnAmount('')\n        setUnxGetForBurn('')\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onBurnAll() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (unxToken.id && SYNTH_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        // const burnAllResult = await client.api.smartContract.invokeWasm({\n        //   scriptHash: SYNTH_ADDRESS,\n        //   operation: 'burn_all_asset',\n        //   args,\n        //   gasPrice: 2500,\n        //   gasLimit: 60000000,\n        //   requireIdentity: false\n        // })\n\n        const burnAllResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'burn_all_asset',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (burnAllResult.transaction) {\n          setInfoModal('success', burnAllResult.transaction)\n        }\n      } catch (e) {\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onExchange() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (unxToken.id && exchangeAsset.assetId && SYNTH_ADDRESS) {\n      if (exchangeAmount <= 0) {\n        Alert.error(t('amount_gt_0'))\n        return\n      }\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: exchangeAsset.assetId\n          },\n          {\n            type: 'Long',\n            value: new BigNumber(exchangeAmount).times(new BigNumber(10 ** exchangeAsset.decimals)).integerValue(BigNumber.ROUND_DOWN).toString()\n          },{\n            type: 'Long',\n            value: exchangeToAsset.assetId\n          }\n        ]\n        const exchangeResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'asset_swap',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (exchangeResult.transaction) {\n          setShowExchangeModal(false)\n          setExchangeAmount('')\n          setExchangeToAmount('')\n\n          let detail = ''\n\n          EventRequest({\n            method: 'get',\n            url: `${exchangeResult.transaction}`\n          }).then((resp) => {\n            if (resp.Desc === 'SUCCESS') {\n              try {\n                const eventStates = resp.Result.Notify.find((notify) => notify.States[0] === 'asset_swap').States\n\n                if (eventStates[4] === '0') {\n                  detail = t('freeze_asset', {asset: exchangeAsset.label})\n                }\n              } catch (e) {}\n\n              setInfoModal('success', exchangeResult.transaction, detail)\n            }\n          }).catch((e) => {\n            setInfoModal('success', exchangeResult.transaction)\n          })\n        }\n      } catch (e) {\n        setShowExchangeModal(false)\n        setExchangeAmount('')\n        setExchangeToAmount('')\n        setInfoModal('error')\n      }\n    }\n  }\n\n  async function onClaim() {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (unxToken.id && SYNTH_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Long',\n            value: unxToken.id\n          },\n          {\n            type: 'Address',\n            value: account\n          }\n        ]\n        const claimResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'claim_unx',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (claimResult.transaction) {\n          setInfoModal('success', claimResult.transaction)\n        }\n      } catch (e) {\n        setInfoModal('error')\n      }\n    }\n  }\n\n  const handleFreezeAsset = async (asset) => {\n    if (!account) {\n      Alert.show(t('connect_wallet_first'))\n      return\n    }\n\n    if (SYNTH_ADDRESS) {\n      try {\n        const args = [\n          {\n            type: 'Address',\n            value: account\n          },\n          {\n            type: 'Long',\n            value: asset.assetId\n          }\n        ]\n        const freezeResult = await cyanoRequest('smartContract.invokeWasm', {\n          scriptHash: SYNTH_ADDRESS,\n          operation: 'freeze_asset',\n          args,\n          gasPrice: 2500,\n          gasLimit: 60000000,\n          requireIdentity: false\n        })\n\n        if (freezeResult.transaction) {\n          setInfoModal('success', freezeResult.transaction)\n        }\n      } catch (e) {\n        setInfoModal('error')\n      }\n    }\n  }\n\n  const calcEffectiveLeverage = (asset) => {\n    if (asset.leverageType === LEVERAGE_TYPE.Positive) {\n      return new BigNumber(asset.tokenPrice).times(asset.times)\n        .div(new BigNumber(asset.tokenPrice).times(asset.times).plus(asset.entryPrice).minus(new BigNumber(asset.entryPrice).times(asset.times)))\n        .toFixed(2)\n    } else if (asset.leverageType === LEVERAGE_TYPE.Negative) {\n      return new BigNumber(asset.tokenPrice).times(asset.times)\n        .div(new BigNumber(asset.entryPrice).times(asset.times).plus(asset.entryPrice).minus(new BigNumber(asset.tokenPrice).times(asset.times)))\n        .toFixed(2)\n    }\n  }\n\n  const getPriceDetail = (asset) => {\n    let txt = `Entry Price: ${new BigNumber(asset.entryPrice).div(SYNTH_PRICE_DECIMALS).toString()}`\n    if (Number(asset.lowLimit)) {\n      txt += ` Low Limit: ${new BigNumber(asset.lowLimit).div(SYNTH_PRICE_DECIMALS).toString()}`\n    }\n    if (Number(asset.highLimit)) {\n      txt += ` High Limit: ${new BigNumber(asset.highLimit).div(SYNTH_PRICE_DECIMALS).toString()}`\n    }\n    \n    return txt\n  }\n\n  const renderAssetList = () => {\n    if (synthType === 'mint') {\n      if (stat.liveAssets) {\n        const assetList = stat.liveAssets.map((la) => {\n          const accountAsset = marketStat.accountAssetBalances ? marketStat.accountAssetBalances.find((ab) => ab.assetId === la.assetId) : null\n          const showPriceDetail = !(la.times === 1 && la.leverageType === LEVERAGE_TYPE.Positive)\n\n          if (accountAsset) {\n            la.holdings = new BigNumber(accountAsset.assetPrice).div(SYNTH_PRICE_DECIMALS).times(accountAsset.balance).div(10 ** la.decimals).toString()\n          }\n\n          la.effectiveLeverage = calcEffectiveLeverage(la)\n\n          return (\n            <div className={`synth-assets-list-item ${la.unprocessedFrozen ? 'unprocessed-frozen' : ''}`} key={la.assetId}>\n              <div className=\"synth-assets-list-item-name\">\n                <div className={`synth-assets-list-item-icon icon-${la.tokenName}`}>\n                  {\n                    showPriceDetail ? (\n                      <Tooltip placement=\"top\" overlay={getPriceDetail(la)}><span>{la.label}</span></Tooltip>\n                    ) : <span>{la.label}</span>\n                  }\n                  {\n                    la.unprocessedFrozen ? (\n                      <Tooltip placement=\"top\" overlay={t('first_freeze_hint')}>\n                        <span className=\"freeze-asset-btn\" onClick={() => handleFreezeAsset(la)}></span>\n                      </Tooltip>\n                    ) : null\n                  }\n                </div>\n              </div>\n              <div className=\"synth-assets-list-item-price\">{new BigNumber(la.price).div(SYNTH_PRICE_DECIMALS).toString()}</div>\n              <div className=\"synth-assets-list-item-holding\">{la.holdings || 0}</div>\n              <div className=\"synth-assets-list-item-leverage\">{la.effectiveLeverage}</div>\n              <div className=\"synth-assets-list-item-action\">\n                <div className=\"synth-assets-list-item-action-mint\" onClick={() => { setShowMintModal(true); setMintAsset(la); }}>{t('mint')}</div>\n              </div>\n            </div>\n          )\n        })\n        return assetList.length ? assetList : (<div className=\"empty-asset-hint\">{t('no_assets')}</div>)\n      } else {\n        return (<div className=\"asset-loading-hint\">{t('loading')}</div>)\n      }\n    } else {\n      if (marketStat.accountAssetBalances) {\n        const assetList = marketStat.accountAssetBalances.map((ab) => {\n          let asset = stat.liveAssets ? stat.liveAssets.find((la) => la.assetId === ab.assetId) : null\n\n          if (!asset) {\n            asset = stat.frozenAssets ? stat.frozenAssets.find((fa) => fa.assetId === ab.assetId) : null\n\n            if (asset) {\n              asset.isFrozen = true\n            }\n          }\n\n          if (asset) {\n            if (!asset.isFrozen) {\n              if ((asset.lowLimit && new BigNumber(asset.tokenPrice).lte(new BigNumber(asset.lowLimit))) || (asset.highLimit && new BigNumber(asset.tokenPrice).gte(new BigNumber(asset.highLimit)))) {\n                asset.unprocessedFrozen = true\n              }\n            }\n            asset.balance = ab.balance\n            asset.assetPrice = ab.assetPrice\n            asset.effectiveLeverage = calcEffectiveLeverage(asset)\n          }\n          return asset ? (\n            <div className={`synth-assets-list-item ${asset.isFrozen ? 'frozen' : ''} ${asset.unprocessedFrozen ? 'unprocessed-frozen' : ''}`} key={ab.assetId}>\n              <div className=\"synth-assets-list-item-name\">\n                <div className={`synth-assets-list-item-icon icon-${asset.tokenName}`}>\n                  {asset.label}\n                  {\n                    asset.unprocessedFrozen ? (\n                      <Tooltip placement=\"top\" overlay={t('first_freeze_hint')}>\n                        <span onClick={() => handleFreezeAsset(asset)}></span>\n                      </Tooltip>\n                    ) : null\n                  }\n                </div>\n              </div>\n              <div className=\"synth-assets-list-item-price\">{new BigNumber(ab.assetPrice).div(SYNTH_PRICE_DECIMALS).toString()}</div>\n              <div className=\"synth-assets-list-item-holding\">{new BigNumber(ab.assetPrice).div(SYNTH_PRICE_DECIMALS).times(ab.balance).div(10 ** asset.decimals).toString()}</div>\n              <div className=\"synth-assets-list-item-leverage\">{asset.effectiveLeverage}</div>\n              <div className=\"synth-assets-list-item-action\">\n                <div className=\"synth-assets-list-item-action-burn\" onClick={() => { setShowBurnModal(true); setBurnAsset(asset); }}>{t('burn')}</div>\n                <div className=\"synth-assets-list-item-action-exchange\"\n                  onClick={() => {\n                    setShowExchangeModal(true)\n                    setExchangeAsset(asset)\n                    const toAssets = stat.liveAssets.filter((la) => la.assetId !== asset.assetId)\n                    setExchangeToAssets(toAssets)\n                    setExchangeToAsset(toAssets[0])\n                  }}\n                >{t('exchange')}</div>\n              </div>\n            </div>\n          ) : null\n        })\n\n        return assetList.length ? assetList : (<div className=\"empty-asset-hint\">{t('no_assets')}</div>)\n      } else {\n        return (<div className=\"asset-loading-hint\">{t('loading')}</div>)\n      }\n    }\n  }\n\n  const setInfoModal = (type, transaction, detail) => {\n    setModal('infoModal', {\n      show: true,\n      type,\n      text: type === 'success' ? t('transaction_successful') : t('transaction_failed'),\n      detail,\n      extraText: type === 'success' ? t('view_transaction') : '',\n      extraLink: type === 'success' ? `${TRANSACTION_BASE_URL}${transaction}${TRANSACTION_AFTERFIX}` : ''\n    })\n  }\n\n  return (\n    <div className=\"synth-container\">\n      <div className=\"synth-overview-sections\">\n        <div className=\"synth-overview-section\">\n          <div className=\"synth-overview-sub-section\">\n            <p className=\"synth-overview-section-title\">{t('mint_apy')}</p>\n            <p className=\"synth-overview-detail\">{(marketStat.marketStakeValue && unxToken.id) ? new BigNumber(poolStat.distributionInfo.amount || 0).div(poolStat.distributionInfo.period || 1).times(86400 * 365).times(10 ** unxToken.decimals).times(synthPoolWeightRatio || 0).div(marketStat.marketStakeValue).toFixed(2) : 0}%</p>\n          </div>\n          <div className=\"synth-overview-section-group\">\n            <div className=\"synth-overview-sub-section\">\n              <p className=\"synth-overview-section-title\">{t('market_balance')}</p>\n              <p className=\"synth-overview-detail\">{marketStat.marketTokenBalance ? new BigNumber(marketStat.marketTokenBalance).div(10 ** unxToken.decimals).toFixed(unxToken.decimals) : '0'} <span>UNX</span></p>\n            </div>\n          </div>\n        </div>\n        <div className=\"synth-overview-section-right\">\n          <div className=\"synth-overview-sub-section\">\n            <p className=\"synth-overview-section-title\">{t('transferable')}</p>\n            <p className=\"synth-overview-detail\">{(marketStat.transferable && marketStat.transferable !== '0') ? new BigNumber(marketStat.transferable).plus(availableReward).div(10 ** unxToken.decimals).toFixed(unxToken.decimals) : '0'} <span>UNX</span></p>\n          </div>\n          <div className=\"synth-overview-section-group\">\n            <div className=\"synth-overview-sub-section\">\n              <p className=\"synth-overview-section-title\">{t('staked')}</p>\n              <p className=\"synth-overview-detail\">{(marketStat.transferable && marketStat.transferable !== '0') ? (new BigNumber(marketStat.transferable)).div(10 ** unxToken.decimals).toFixed(unxToken.decimals) : '0'} <span>UNX</span>\n                { (marketStat.transferable && marketStat.transferable !== '0') ? <span className=\"synth-overview-action-btn synth-overview-action-btn-burn\" onClick={() => onBurnAll()}>{t('burn_all')}</span> : null }\n              </p>\n            </div>\n            <div className=\"synth-overview-sub-section\">\n              <p className=\"synth-overview-section-title\">{t('rewards_available')}</p>\n              <p className=\"synth-overview-detail\">{unxToken.id ? new BigNumber(availableReward).div(10 ** unxToken.decimals).toString() : 0}\n                <span>UNX</span>\n                { (availableReward && availableReward !== '0') ? <span className=\"synth-overview-action-btn\" onClick={() => onClaim()}>{t('claim')}</span> : null }\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className=\"mint-burn-wrapper\">\n        <div className=\"mint-burn-main\">\n          <div className=\"synth-type-switch\">\n            <div className={`synth-type-item ${synthType === 'mint' ? 'selected' : ''}`} onClick={() => setSynthType('mint')}>{t('mint')}</div>\n            <div className={`synth-type-item ${synthType === 'burn' ? 'selected' : ''}`} onClick={() => setSynthType('burn')}>{t('burn')}</div>\n          </div>\n          <div className=\"market-asset-value\">{t('market_asset_value')}: &nbsp;&nbsp;<span>${new BigNumber(marketStat.marketAssetValue || 0).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n          <div className=\"synth-assets-panel\">\n            <div className=\"synth-assets-panel-header\">\n              <div className=\"panel-header-item panel-header-item-asset\">{t('asset')}</div>\n              <div className=\"panel-header-item\">{t('price')}($)</div>\n              <div className=\"panel-header-item\">{t('holdings')}($)</div>\n              <div className=\"panel-header-item\">{t('effective_leverage')}</div>\n              <div className=\"panel-header-item panel-header-item-action\"></div>\n            </div>\n            <div className=\"synth-assets-list\">\n              {renderAssetList()}\n            </div>\n          </div>\n        </div>\n        {\n          synthType === 'mint' ? (\n            <div className=\"mint-burn-info\">\n              <div className=\"mint-burn-info-title\">{t('mint_synthetics_by_staking_unx')}</div>\n              <div className=\"mint-burn-info-desc\">{t('earn_staking_rewards_once_minted')}</div>\n              <div className=\"mint-burn-account-info\">\n                <div className=\"mint-burn-account-info-line\">{t('minted_with')} <span>{new BigNumber(marketStat.accountStakeValue || 0).div(10 ** unxToken.decimals).toString() || '0'} UNX</span></div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"mint-burn-info\">\n              <div className=\"mint-burn-info-title\">{t('burn_synthetics_to_unstake_unx')}</div>\n              <div className=\"mint-burn-info-desc\">{t('burn_synthetics_to_withdraw_unx')}</div>\n              <div className=\"mint-burn-account-info\">\n                <div className=\"mint-burn-account-info-line\">{t('assets')}($) <span>{new BigNumber(marketStat.accountAssetValue).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n              </div>\n              <div className=\"mint-burn-info-note\"><strong>{t('note')}</strong>: {t('effective_leverage_exceed')} <span>{t('have_to_burn')}</span> {t('unx_be_donated')}</div>\n            </div>\n          )\n        }\n        \n      </div>\n      {\n        showMintModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => {setShowMintModal(false);setMintAmount('');setUnxNeededForMint('');}}></div>\n              <div className=\"mint-wrapper\">\n                <div className=\"mint-wrapper-title\">{t('mint')} {mintAsset.label}</div>\n                <div className=\"mint-wrapper-info\">{t('price')}($)<span>{new BigNumber(mintAsset.price).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">{t('amount')}</div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={mintAmount} decimals={mintAsset.decimals || 0} onChange={(amount) => handleMintAmountChange(amount)} />\n                  </div>\n                </div>\n                <TokenInput\n                  label={`${t('you_need_to_pay')} (UNX)`}\n                  value={unxNeededForMint}\n                  defaultToken={unxToken}\n                  decimals={unxToken.decimals || 0}\n                  onAmountChange={(amount) => handleUnxNeededForMintChange(amount)} />\n                <div className=\"fee-rate\">* {t('fee_rate')} 0.1%</div>\n                <div className=\"mint-btn\" onClick={() => onMint()}>{t('mint')}</div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n      {\n        showBurnModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => {setShowBurnModal(false);setBurnAmount('');setUnxGetForBurn('');}}></div>\n              <div className=\"burn-wrapper\">\n                <div className=\"burn-wrapper-title\">{t('burn')} {burnAsset.label}</div>\n                <div className=\"burn-wrapper-info\">{t('price')}($)<span>{new BigNumber(burnAsset.assetPrice).div(SYNTH_PRICE_DECIMALS).toString()}</span></div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">{t('amount')}\n                    <span className=\"hint\">{t('balance')}: {new BigNumber(burnAsset.balance).div(10 ** burnAsset.decimals).toString()}</span>\n                  </div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={burnAmount} decimals={burnAsset.decimals || 0} onChange={(amount) => handleBurnAmountChange(amount)} />\n                    <div className=\"input-max-btn\" onClick={() => maxBurnAmount()}>{t('max')}</div>\n                  </div>\n                </div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">{t('you_will_get')} (UNX)</div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={unxGetForBurn} decimals={unxToken.decimals || 0} onChange={(amount) => handleUnxGetForBurnChange(amount)} />\n                  </div>\n                </div>\n                <div className=\"fee-rate\">* {t('fee_rate')} 0.1%</div>\n                <div className=\"burn-btn\" onClick={() => onBurn()}>{t('burn')}</div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n      {\n        showExchangeModal ? (\n          <div className=\"modal-overlay\">\n            <div className=\"modal-wrapper\">\n              <div className=\"close-btn\" onClick={() => {setShowExchangeModal(false);setExchangeAmount('');setExchangeToAmount('');}}></div>\n              <div className=\"exchange-wrapper\">\n                <div className=\"exchange-wrapper-title\">{t('exchange')} {exchangeAsset.label}</div>\n                <div className=\"form-item\">\n                  <div className=\"input-label\">{t('amount')}\n                    <span className=\"hint\">{t('balance')}: {new BigNumber(exchangeAsset.balance).div(10 ** exchangeAsset.decimals).toString()}</span>\n                  </div>\n                  <div className=\"input-wrapper\">\n                    <Input placeholder=\"0.0\" value={exchangeAmount} decimals={exchangeAsset.decimals || 0} onChange={(amount) => handleExchangeAmountChange(amount)} />\n                    <div className=\"input-max-btn\" onClick={() => maxExchangeAmount()}>{t('max')}</div>\n                  </div>\n                </div>\n                <TokenInput\n                  cls=\"asset-select\"\n                  label={t('exchange_to')}\n                  value={exchangeToAmount}\n                  tokens={exchangeToAssets}\n                  showBalance={false}\n                  withMax={false}\n                  onTokenChange={(asset) => handleChangeExchangeToAsset(asset)}\n                  onAmountChange={(amount) => handleChengeExchangeToAmount(amount)}\n                  />\n                <div className=\"fee-rate\">* {t('fee_rate')} 0.1%</div>\n                <div className=\"exchange-btn\" onClick={() => onExchange()}>{t('exchange')}</div>\n              </div>\n            </div>\n          </div>\n        ) : null\n      }\n    </div>\n  )\n}\n\nexport default Synth","import React, { useState, useEffect } from 'react'\nimport { useMappedState } from 'redux-react-hook';\nimport { useTranslation } from 'react-i18next'\nimport Countdown from '../../components/countdown'\nimport { toLocaleFixed } from '../../utils/common'\nimport './index.css'\n\nconst Governance = (props) => {\n  const { poolStat } = useMappedState((state) => ({\n    poolStat: state.gov.poolStat\n  }))\n  const [t] = useTranslation()\n\n  return (\n    <div className=\"governance-wrapper\">\n      <div className=\"overview-wrapper\">\n        <div className=\"overview-title\">{t('overview')}</div>\n        <div className=\"overview-countdown\"><Countdown text={t('distribution_will_begin_in')} /></div>\n        <div className=\"overview-sections\">\n          <div className=\"overview-left\">\n            <p className=\"overview-section-title\">{t('total_unx')}</p>\n            <p className=\"overview-detail\">{toLocaleFixed(poolStat.distributionInfo.amount || 0)}</p>\n          </div>\n          <div className=\"overview-right\">\n            <p className=\"overview-section-title\">{t('daily_distribution')}</p>\n            <p className=\"overview-detail\">{toLocaleFixed(((poolStat.distributionInfo.amount || 0) / (poolStat.distributionInfo.period || 1) * 86400).toFixed(9))} <span>UNX</span></p>\n          </div>\n        </div>\n      </div>\n      <div className=\"distribution-wrapper\">\n        <div className=\"overview-title\">{t('distribution')}</div>\n        <div className=\"distribution-sections\">\n          <div className=\"pie-svg\">\n            <svg className=\"donut\" width=\"240px\" height=\"240px\" viewBox=\"0 0 42 42\" role=\"img\">\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#2BBE7F\" stroke-width=\"4\" stroke-dasharray=\"80, 20\" stroke-dashoffset=\"100\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"120\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FE332F\" stroke-width=\"4\" stroke-dasharray=\"8, 92\" stroke-dashoffset=\"219.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"311.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#F4BA5E\" stroke-width=\"4\" stroke-dasharray=\"8, 92\" stroke-dashoffset=\"411\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"503\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#2B3962\" stroke-width=\"4\" stroke-dasharray=\"3, 97\" stroke-dashoffset=\"602.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"699.5\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#F18DA5\" stroke-width=\"4\" stroke-dasharray=\"1, 99\" stroke-dashoffset=\"799\"></circle>\n              <circle cx=\"21\" cy=\"21\" r=\"15.915494309189533\" fill=\"none\" stroke=\"#FFFFFF\" stroke-width=\"4\" stroke-dasharray=\"0.5, 99.5\" stroke-dashoffset=\"898\"></circle>\n            </svg>\n          </div>\n          <div className=\"pie-desc\">\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#2BBE7F' } }></div>\n              <div className=\"d-item-name\">{t('community')}</div>\n              <div className=\"d-item-ratio\">80%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#FE332F' } }></div>\n              <div className=\"d-item-name\">{t('developer')}</div>\n              <div className=\"d-item-ratio\">8%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#F4BA5E' } }></div>\n              <div className=\"d-item-name\">{t('foundation')}</div>\n              <div className=\"d-item-ratio\">8%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#2B3962' } }></div>\n              <div className=\"d-item-name\">{t('resource_extension')}</div>\n              <div className=\"d-item-ratio\">3%</div>\n            </div>\n            <div className=\"d-item\">\n              <div className=\"d-item-color\" style={ { background: '#F18DA5' } }></div>\n              <div className=\"d-item-name\">{t('volunteer')}</div>\n              <div className=\"d-item-ratio\">1%</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Governance","import { useEffect, useCallback } from 'react'\nimport { utils } from 'ontology-ts-sdk'\nimport { GOVERNANCE_ADDRESS } from '../config'\nimport { cyanoRequest } from '../utils/cyano'\nimport { handleError } from '../utils/errorHandle'\nimport { useMappedState, useDispatch } from 'redux-react-hook'\n\nconst { StringReader, hexstr2str, reverseHex } = utils\n\nexport const useFetchTokens = () => {\n  const { stopInterval, tokens } = useMappedState((state) => ({\n    stopInterval: state.common.stopInterval,\n    tokens: state.common.tokens\n  }))\n  const dispatch = useDispatch()\n  const setIsUpgrading = useCallback((isUpgrading) => dispatch({ type: 'SET_IS_UPGRADING', isUpgrading }), [])\n  const setLoadingToken = useCallback((loadingToken) => dispatch({ type: 'SET_LOADING_TOKEN', loadingToken }), [])\n  const setTokens = useCallback((tokens) => dispatch({ type: 'SET_TOKENS', tokens }), [])\n  const setStopInterval = useCallback((stopInterval) => dispatch({ type: 'SET_STOP_INTERVAL', stopInterval }), [])\n  const setPoolStat = useCallback((poolStat) => dispatch({ type: 'SET_POOL_STAT', poolStat }), [])\n\n  useEffect(() => {\n    getGovStat()\n    let interval = !stopInterval && !tokens.length && setInterval(getGovStat, 1000)\n    return () => {\n      interval && clearInterval(interval)\n    }\n  }, [tokens, stopInterval])\n\n  async function getGovStat() {\n    if (!tokens.length) {\n      try {\n        const statStr = await cyanoRequest('smartContract.invokeWasmRead', {\n          scriptHash: GOVERNANCE_ADDRESS,\n          operation: 'stat',\n          args: []\n        })\n\n        const strReader = new StringReader(statStr)\n        const distributionInfo = {}\n        distributionInfo.amount = strReader.readUint128() / (10 ** 9)\n        distributionInfo.period = strReader.readUint128()\n        distributionInfo.startTimeStamp = strReader.readUint128()\n        distributionInfo.settledTimeStamp = strReader.readUint128()\n  \n        const pools = {}\n        const poolCount = strReader.readNextLen()\n        let totalWeight = 0\n        for (let i = 0; i < poolCount; i++) {\n          const pool = {}\n          const nameLength = strReader.readNextLen()\n          pool.name = hexstr2str(strReader.read(nameLength))\n          pool.address = reverseHex(strReader.read(20))\n          pool.weight = strReader.readUint128()\n          totalWeight += pool.weight\n          pools[pool.name] = pool\n        }\n\n        for (let poolName in pools) {\n          pools[poolName].ratio = pools[poolName].weight / totalWeight\n        }\n  \n        const upgrade = strReader.readBoolean()\n        const parsedTokens = []\n        const tokenCount = strReader.readNextLen()\n        for (let i = 0; i < tokenCount; i++) {\n          const token = {}\n          token.id = strReader.readUint128()\n          const nameLength = strReader.readNextLen()\n          token.name = hexstr2str(strReader.read(nameLength))\n          token.address = reverseHex(strReader.read(20))\n          token.ty = strReader.readUint8()\n          token.decimals = strReader.readUint128()\n\n          token.value = token.id\n          token.label = token.name\n\n          parsedTokens.push(token)\n        }\n\n        if (upgrade) {\n          setIsUpgrading(true)\n        }\n\n        setLoadingToken(false)\n        setTokens(parsedTokens)\n        setPoolStat({\n          distributionInfo,\n          pools,\n          upgrade\n        })\n      } catch (e) {\n        console.log(e)\n        handleError(e, (errorCode) => {\n          console.log(errorCode)\n          if (errorCode === 'CONTRACT_ADDRESS_ERROR') {\n            setStopInterval(true)\n          } else {\n            console.log('get all tokens', e)\n          }\n        })\n      }\n    }\n  }\n\n  return null\n}","import { client } from '@ont-dev/ontology-dapi'\nimport React, { useEffect, useCallback } from 'react'\nimport {\n  Switch,\n  Route,\n  useHistory,\n  useLocation\n} from 'react-router-dom'\nimport { useAlert } from 'react-alert'\nimport { useMappedState, useDispatch } from 'redux-react-hook';\nimport { useTranslation } from 'react-i18next'\nimport Header from './components/header'\nimport Modal from './components/modal'\nimport Transaction from './pages/transaction'\nimport Swap from './pages/swap'\nimport Pool from './pages/pool'\nimport AddLiquidity from './pages/pool/addLiquidity'\nimport RemoveLiquidity from './pages/pool/removeLiquidity'\nimport Staking from './pages/staking'\nimport StakingDetail from './pages/staking/detail'\nimport Token from './pages/token'\nimport Option from './pages/option'\nimport Coming from './pages/coming'\n// import Trade from './pages/trade'\nimport Synth from './pages/synth'\nimport Governance from './pages/governance'\nimport { NETWORK_TYPE, READY_TABS, COMING_TABS } from './config'\nimport { useFetchTokens } from './hooks/useToken'\nimport './App.css'\n\nexport const App = () => {\n  const Alert = useAlert()\n  const { account, isUpgrading, loadingToken, poolStat } = useMappedState((state) => ({\n    isUpgrading: state.common.isUpgrading,\n    loadingToken: state.common.loadingToken,\n    account: state.wallet.account,\n    poolStat: state.gov.poolStat\n  }))\n  const dispatch = useDispatch()\n  const setAccount = useCallback((account) => dispatch({ type: 'SET_ACCOUNT', account }), [])\n  const history = useHistory()\n  const location = useLocation()\n  const [t] = useTranslation()\n\n  useEffect(() => {\n    const startTimeStamp = poolStat.distributionInfo.startTimeStamp\n    if (startTimeStamp && new Date(startTimeStamp * 1000) > new Date()) {\n      if (location.pathname === '/') {\n        history.replace('/governance')\n      }\n    }\n  }, [poolStat])\n\n  useEffect(() => {\n    let retryTimes = 3\n    const interval = setInterval(() => {\n      client.api.provider.getProvider()\n        .then(() => {\n          clearInterval(interval)\n        })\n        .catch((e) => {\n          if (e === 'NO_PROVIDER') {\n            retryTimes--\n            if (!retryTimes) {\n              Alert.error('Please install wallet extension first')\n            }\n          }\n        })\n    }, 500)\n  }, [])\n\n  useEffect(() => {\n    client.api.network.getNetwork()\n      .then((network) => {\n        if (network && network.type !== NETWORK_TYPE) {\n          Alert.error(`Please connect to the ${NETWORK_TYPE}-Net`)\n          return\n        }\n      })\n      .catch((e) => {\n        console.log(e)\n      })\n  }, [])\n\n  useFetchTokens()\n\n  async function onConnectWallet() {\n    try {\n      const accountAddress = await client.api.asset.getAccount()\n      setAccount(accountAddress)\n      localStorage.setItem('account', accountAddress)\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  function onSignOut() {\n    setAccount('')\n    localStorage.setItem('account', '')\n  }\n\n  function renderLoading() {\n    if (loadingToken) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper transparent-bg\">\n            <div className=\"modal-icon-loading modal-icon\"></div>\n            <div className=\"modal-text light\">{t('loading')}</div>\n          </div>\n        </div>\n      )\n    }\n    return null\n  }\n\n  function renderUpgrading() {\n    if (isUpgrading) {\n      return (\n        <div className=\"modal-overlay\">\n          <div className=\"modal-wrapper transparent-bg\">\n            <div className=\"modal-icon-upgrading modal-icon\"></div>\n            <div className=\"modal-text light\">UNIQ-EX {t('upgrading')}</div>\n          </div>\n        </div>\n      )\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {renderLoading()}\n      {\n        !isUpgrading ? (\n          <div className=\"app\">\n            <React.Fragment>\n              {\n                (account === null) && <div className=\"connect-wallet-overlay\">\n                  <div className=\"connect-wrapper\">\n                    <p className=\"connect-title\">{t('connect_wallet')}</p>\n                    <div className=\"wallet-item\" onClick={() => onConnectWallet()}>Cyano {t('wallet')}</div>\n                  </div>\n                </div>\n              }\n              <Modal />\n              <Header onSignOut={() => onSignOut()} onConnectWallet={() => onConnectWallet()} />\n              <div className=\"main-wrapper\">\n                <Switch>\n                  {\n                    READY_TABS.indexOf('/') >= 0 ?\n                    <Route exact path=\"/\">\n                      { COMING_TABS.indexOf('/') >= 0 ? <Coming /> : <Staking /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/') >= 0 ?\n                    <Route exact path=\"/staking/:id\">\n                      { COMING_TABS.indexOf('/') >= 0 ? <Coming /> : <StakingDetail /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/swap\">\n                      { COMING_TABS.indexOf('/swap') >= 0 ? <Coming /> : <Swap /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/pool\">\n                      { COMING_TABS.indexOf('swap') >= 0 ? <Coming /> : <Pool /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/pool/add\">\n                      { COMING_TABS.indexOf('/swap') >= 0 ? <Coming /> : <AddLiquidity /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/swap') >= 0 ?\n                    <Route exact path=\"/pool/remove/:id\">\n                      { COMING_TABS.indexOf('/swap') >= 0 ? <Coming /> : <RemoveLiquidity /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/trade') >= 0 ?\n                    <Route exact path=\"/trade\">\n                      { COMING_TABS.indexOf('/trade') >= 0 ? <Coming /> : <Transaction /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/governance') >= 0 ?\n                    <Route exact path=\"/governance\">\n                      { COMING_TABS.indexOf('/governance') >= 0 ? <Coming /> : <Governance /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/token') >= 0 ?\n                    <Route exact path=\"/token\">\n                      { COMING_TABS.indexOf('/token') >= 0 ? <Coming showCountdown={false} /> : <Token /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/option') >= 0 ?\n                    <Route exact path=\"/option\">\n                      { COMING_TABS.indexOf('/option') >= 0 ? <Coming showCountdown={false} /> : <Option /> }\n                    </Route> : null\n                  }\n                  {\n                    READY_TABS.indexOf('/synth') >= 0 ?\n                    <Route exact path=\"/synth\">\n                      { COMING_TABS.indexOf('/synth') >= 0 ? <Coming /> : <Synth /> }\n                    </Route> : null\n                  }\n                </Switch>\n              </div>\n              <div className=\"footer\">\n                <div className=\"telegram\">Telegram: <a target=\"_blank\" href=\"https://t.me/UNIQ_EX\">https://t.me/UNIQ_EX</a></div>\n              </div>\n            </React.Fragment>\n          </div>\n        ) : renderUpgrading()\n      }\n    </React.Fragment>\n  )\n}\n","const initState = {\n  infoModal: {\n    show: false,\n    type: '',\n    text: '',\n    extraText: '',\n    extraLink: ''\n  },\n}\n\nexport const modal = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_MODAL':\n      return { ...state, [action.modalType]: action.modalDetail }\n    default:\n      return { ...state }\n  }\n}","const initState = {\n  account: localStorage.getItem('account'),\n  slippage: localStorage.getItem('slippage') || '0.1'\n}\n\nexport const wallet = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_ACCOUNT':\n      return { ...state, account: action.account }\n    case 'SET_SLIPPAGE':\n      localStorage.setItem('slippage', action.slippage)\n      return { ...state, slippage: action.slippage }\n    default:\n      return { ...state }\n  }\n}","const initState = {\n  isUpgrading: false,\n  loadingToken: true,\n  stopInterval: false,\n  tokens: []\n}\n\nexport const common = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_IS_UPGRADING':\n      return { ...state, isUpgrading: action.isUpgrading }\n    case 'SET_LOADING_TOKEN':\n      return { ...state, loadingToken: action.loadingToken }\n    case 'SET_STOP_INTERVAL':\n      return { ...state, stopInterval: action.stopInterval }\n    case 'SET_TOKENS':\n      return { ...state, tokens: action.tokens }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  poolStat: {\n    distributionInfo: {},\n    pools: {\n      staking: {},\n      swap: {},\n      dex: {},\n      synth: {}\n    },\n    upgrade: false\n  }\n}\n\nexport const gov = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_POOL_STAT':\n      return { ...state, poolStat: action.poolStat }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  tokens: [],\n  pairs: [],\n  swapType: 'exactin',\n  token1: {},\n  token2: {},\n  token1Amount: '',\n  token2Amount: '',\n  isValidPair: false,\n  isValidSwap: false,\n  bestPath: [],\n  showPrice: false,\n}\n\nexport const swap = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_SWAP_TOKENS':\n      return { ...state, tokens: action.tokens }\n    case 'SET_PAIRS':\n      return { ...state, pairs: action.pairs }\n    case 'SET_SWAP_TYPE':\n      return { ...state, swapType: action.swapType }\n    case 'SET_SWAP_TOKEN1':\n      return { ...state, token1: action.token1 }\n    case 'SET_SWAP_TOKEN2':\n      return { ...state, token2: action.token2 }\n    case 'SET_TOKEN1_AMOUNT':\n      return { ...state, token1Amount: action.token1Amount }\n    case 'SET_TOKEN2_AMOUNT':\n      return { ...state, token2Amount: action.token2Amount }\n    case 'SET_IS_VALID_PAIR':\n      return { ...state, isValidPair: action.isValidPair }\n    case 'SET_IS_VALID_SWAP':\n      return { ...state, isValidSwap: action.isValidSwap }\n    case 'SET_SWAP_BEST_PATH':\n      return { ...state, bestPath: action.bestPath }\n    case 'SET_SWAP_SHOW_RPICE':\n      return { ...state, showPrice: action.showPrice }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  tokens: []\n}\n\nexport const staking = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_STAKING_TOKENS':\n      return { ...state, tokens: action.tokens }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  stat: {},\n  marketStat: {},\n  availableReward: 0,\n  synthType: 'mint',\n  unxToken: {},\n  unxPrice: 0\n}\n\nexport const synth = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_SYNTH_STAT':\n      return { ...state, stat: action.stat }\n    case 'SET_SYNTH_MARKET_STAT':\n      return { ...state, marketStat: action.marketStat }\n    case 'SET_SYNTH_AVAILABLE_REWARD':\n      return { ...state, availableReward: action.availableReward }\n    case 'SET_SYNTH_TYPE':\n      return { ...state, synthType: action.synthType }\n    case 'SET_SYNTH_UNX_TOKEN':\n      return { ...state, unxToken: action.unxToken }\n    case 'SET_SYNTH_UNX_PRICE':\n      return { ...state, unxPrice: action.unxPrice }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  makes: [],\n  myMakes: [],\n  pairs: [],\n  tradeType: 'buy',\n  tokenPair: {},\n  makeView: 'all',\n  pool: [],\n  lastPrice: 0,\n  feeRate: 0,\n  isValid: false,\n  tokenBalance: '-',\n  price: '',\n  amount: '',\n  total: ''\n}\n\nexport const trade = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_TRADE_MAKES':\n      return { ...state, makes: action.makes }\n    case 'SET_TRADE_MY_MAKES':\n      return { ...state, myMakes: action.myMakes }\n    case 'SET_TRADE_PAIRS':\n      return { ...state, pairs: action.pairs }\n    case 'SET_TRADE_TYPE':\n      return { ...state, tradeType: action.tradeType }\n    case 'SET_TRADE_TOKEN_PAIR':\n      return { ...state, tokenPair: action.tokenPair }\n    case 'SET_TRADE_MAKE_VIEW':\n      return { ...state, makeView: action.makeView }\n    case 'SET_TRADE_POOL':\n      return { ...state, pool: action.pool }\n    case 'SET_TRADE_LAST_PRICE':\n      return { ...state, lastPrice: action.lastPrice }\n    case 'SET_TRADE_FEE_RATE': \n      return { ...state, feeRate: action.feeRate }\n    case 'SET_TRADE_IS_VALID': \n      return { ...state, isValid: action.isValid }\n    case 'SET_TRADE_TOKEN_BALANCE': \n      return { ...state, tokenBalance: action.tokenBalance }\n    case 'SET_TRADE_PRICE': \n      return { ...state, price: action.price }\n    case 'SET_TRADE_AMOUNT': \n      return { ...state, amount: action.amount }\n    case 'SET_TRADE_TOTAL': \n      return { ...state, total: action.total }\n    default:\n      return { ...state }\n  }\n}\n","const initState = {\n  liquidityBalance: []\n}\n\nexport const pool = (state = initState, action) => {\n  switch (action.type) {\n    case 'SET_POOL_LIQUIDITY_BALANCE':\n      return { ...state, liquidityBalance: action.liquidityBalance }\n    default:\n      return { ...state }\n  }\n}\n","import { combineReducers } from 'redux'\nimport { modal } from './modal'\nimport { wallet } from './wallet'\nimport { common } from './common'\nimport { gov } from './gov'\nimport { swap } from './swap'\nimport { staking } from './staking'\nimport { synth } from './synth'\nimport { trade } from './trade'\nimport { pool } from './pool'\n\nconst reducers = combineReducers({\n  modal,\n  wallet,\n  common,\n  gov,\n  swap,\n  staking,\n  synth,\n  trade,\n  pool\n})\n\nexport default reducers","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport en from './i18n/en'\nimport zh from './i18n/zh'\n\nlet defaultLanguage = localStorage.getItem('language') || 'en'\nconst resources = {\n  en: {\n    translation: en\n  },\n  zh: {\n    translation: zh\n  }\n};\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: defaultLanguage,\n\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  });\n\n  export default i18n;","export default {\n  'staking': 'Staking',\n  'synth': 'Synth',\n  'swap': 'Swap',\n  'trade': 'Trade',\n  'governance': 'Governance',\n  'token': 'Token',\n  'option': 'Option',\n  'slippage': 'SLIPPAGE',\n  'total_unx': 'Total UNX',\n  'distribution': 'Distribution',\n  'community': 'Community',\n  'developer': 'Developer',\n  'foundation': 'Foundation',\n  'resource_extension': 'Resoucse Extension',\n  'volunteer': 'Volunteer',\n  'first_liquidity_provider': 'You are the first liquidity provider.',\n  'ratio_setter': 'The ratio of tokens you add will set the price of this pool.',\n  'share_of_pool': 'Share of Pool',\n  'pool': 'Pool',\n  'pooled': 'Pooled',\n  'lp_tokens': 'LP Tokens',\n  'add': 'Add',\n  'remove': 'Remove',\n  'remove_liquidity': 'Remove Liquidity',\n  'stake': 'Stake',\n  'unstake': 'Unstake',\n  'rewards_available': 'Rewards Available',\n  'harvest': 'Harvest',\n  'wing_earned': 'WING Earned',\n  'hidden_receipt': '{{token}} is the hidden receipt for WING {{subtoken}} suppliers',\n  'deposit': 'Deposit',\n  'add_liquidity_enable_swap': 'Add liquidity to enable swaps for this pair.',\n  'invalide_liquidity': 'Invalid Liquidity',\n  'freeze_asset': 'Your last transaction successfully freezed the {{asset}} asset, you\\'ll get 1‰ of the redeemed UNX when burnt.',\n  'first_freeze_hint': 'The first one that freezes an asset will get 1‰ of burning fee from all holders',\n  'mint': 'Mint',\n  'burn': 'Burn',\n  'burn_all': 'Burn All',\n  'market_balance': 'Market Balance',\n  'market_asset_value': 'Market Asset Value',\n  'transferable': 'Transferable',\n  'staked': 'Staked',\n  'claim': 'Claim',\n  'effective_leverage': 'Effective Leverage',\n  'mint_synthetics_by_staking_unx': 'Mint Synthetics by staking UNX.',\n  'earn_staking_rewards_once_minted': 'UNX stakers earn staking rewards once minted.',\n  'burn_synthetics_to_unstake_unx': 'Burn Synthetics to unstake UNX.',\n  'burn_synthetics_to_withdraw_unx': 'Burn your synthetics to withdraw UNX.',\n  'note': 'NOTE',\n  'effective_leverage_exceed': 'when \"Effective Leverage\" is lower than 0.5 or higher than 2.0 times of nominal leverage, your asset will be frozen.',\n  'have_to_burn': 'You have to burn it within 3 days.',\n  'unx_be_donated': 'Otherwise, your asset will be burned and the UNX will be donated to staked pool.',\n  'order_book': 'Order Book',\n  'connect_wallet': 'Connect Wallet',\n  'signout': 'Sign Out',\n  'connect_wallet_first': 'Please Connect Wallet First',\n  'earn': 'Earn',\n  'apy': 'APY',\n  'total_staking': 'Total Staking',\n  'unstake_from_closed_pool': 'Unstake from Closed Pool',\n  'amount': 'Amount',\n  'price_gt_0': 'Price should be greater than 0',\n  'amount_gt_0': 'Amount should be greater than 0',\n  'amount_lte_balance': 'Amount should be less than or equal to your balance',\n  'transaction_successful': 'Transaction Successful',\n  'transaction_failed': 'Transaction Failed',\n  'view_transaction': 'View Transaction',\n  'by': 'by',\n  'current_staked': 'Current Staked',\n  'balance': 'Balance',\n  'max': 'MAX',\n  'overview': 'Overview',\n  'daily_distribution': 'Daily Distribution',\n  'select': 'Select',\n  'days': 'DAYS',\n  'hours': 'HOURS',\n  'minutes': 'MINUTES',\n  'seconds': 'SECONDS',\n  'no_liquidities': 'No Liquidities',\n  'add_liquidity': 'Add Liquidity',\n  'your_liquidity': 'Your Liquidity',\n  'input_should_be_different': 'Input should be different',\n  'minimum': 'Minimum',\n  'price': 'Price',\n  'minimum_received': 'Minimum Received',\n  'maximum_sold': 'Maximum Sold',\n  'price_impact': 'Price Impact',\n  'route': 'Route',\n  'no_assets': 'No Assets',\n  'loading': 'Loading...',\n  'upgrading': 'is upgrading...',\n  'exchange': 'Exchange',\n  'exchange_to': 'Exchange to',\n  'mint_apy': 'Mint APY',\n  'asset': 'Asset',\n  'assets': 'Assets',\n  'holdings': 'Holdings',\n  'minted_with': 'Minted With',\n  'fee_rate': 'The fee rate of transaction is',\n  'you_will_get': 'You will get',\n  'you_need_to_pay': 'You need to pay',\n  'cancel': 'Cancel',\n  'buy': 'Buy',\n  'sell': 'Sell',\n  'total': 'Total',\n  'need': 'Need',\n  'receive': 'Receive',\n  'all': 'All',\n  'my': 'My',\n  'last_price': 'Last Price',\n  'token_balance': 'Token Balance',\n  'wallet': 'Wallet',\n  'from': 'From',\n  'to': 'To',\n  'input': 'Input',\n  'distribution_will_begin_in': 'Distribution will begin in',\n}","export default {\n  'staking': '抵押',\n  'synth': '合成资产',\n  'swap': '兑换',\n  'trade': '挂单',\n  'governance': '治理',\n  'token': '通证',\n  'option': '期权',\n  'slippage': '滑点',\n  'total_unx': 'UNX总量',\n  'distribution': '分发',\n  'community': '社区',\n  'developer': '开发者',\n  'foundation': '基金会',\n  'resource_extension': '资源合作',\n  'volunteer': '志愿者',\n  'first_liquidity_provider': '您是首个流动性提供者。',\n  'ratio_setter': '您所添加的代币比例将决定该池的初始价格。',\n  'share_of_pool': '百分比',\n  'pool': '资金池',\n  'pooled': '资金池',\n  'lp_tokens': 'LP代币',\n  'add': '添加',\n  'remove': '移除',\n  'remove_liquidity': '移除流动性',\n  'stake': '抵押',\n  'unstake': '解除抵押',\n  'rewards_available': '可领取奖励',\n  'harvest': '收获',\n  'wing_earned': 'WING收益',\n  'hidden_receipt': '{{token}}是WING {{subtoken}}提供者的隐藏收据',\n  'deposit': '存入',\n  'add_liquidity_enable_swap': '为该交易对添加流动性。',\n  'invalide_liquidity': '没有流动性',\n  'freeze_asset': '您的上个操作成功冻结了{{asset}}资产，当该资产被销毁时，您将获得1‰的赎回奖励。',\n  'first_freeze_hint': '首个冻结该资产的用户将在该资产销毁时获得1‰的奖励',\n  'mint': '铸币',\n  'burn': '销毁',\n  'burn_all': '销毁全部',\n  'market_balance': '市场总额',\n  'market_asset_value': '市场总值',\n  'transferable': '可转出',\n  'staked': '已抵押',\n  'claim': '领取',\n  'effective_leverage': '实际杠杆倍率',\n  'mint_synthetics_by_staking_unx': '通过抵押UNX铸造合成资产。',\n  'earn_staking_rewards_once_minted': '通过铸币便可即刻获得奖励。',\n  'burn_synthetics_to_unstake_unx': '通过销毁合成资产以解除抵押。',\n  'burn_synthetics_to_withdraw_unx': '销毁合成资产以提取UNX。',\n  'note': '注意',\n  'effective_leverage_exceed': '当“实际杠杆倍率”低于名义杠杆倍率的一半，或者高于名义杠杆倍率的2倍，资产将被冻结。',\n  'have_to_burn': '您需要在3天内销毁以提取UNX。',\n  'unx_be_donated': '否则，您的资产将会被捐赠给资金池。',\n  'order_book': '订单本',\n  'connect_wallet': '连接钱包',\n  'signout': '登出',\n  'connect_wallet_first': '请先连接钱包',\n  'earn': '赚取',\n  'apy': '年化',\n  'total_staking': '抵押总量',\n  'unstake_from_closed_pool': '已关闭池取消抵押',\n  'amount': '数量',\n  'price_gt_0': '价格应大于0',\n  'amount_gt_0': '数量应大于0',\n  'amount_lte_balance': '数量不能超过您的余额',\n  'transaction_successful': '交易成功',\n  'transaction_failed': '交易失败',\n  'view_transaction': '查看交易详情',\n  'by': '通过抵押',\n  'current_staked': '当前已抵押',\n  'balance': '余额',\n  'max': '最大',\n  'overview': '总览',\n  'daily_distribution': '每日分发',\n  'select': '选择',\n  'days': '日',\n  'hours': '时',\n  'minutes': '分',\n  'seconds': '秒',\n  'no_liquidities': '无流动性',\n  'add_liquidity': '添加流动性',\n  'your_liquidity': '您的流动性',\n  'input_should_be_different': '请选择不同的通证',\n  'minimum': '最小',\n  'price': '价格',\n  'minimum_received': '最少收到',\n  'maximum_sold': '最多能卖',\n  'price_impact': '价格影响',\n  'route': '路径',\n  'no_assets': '无资产',\n  'loading': '加载中...',\n  'upgrading': '升级维护中...',\n  'exchange': '兑换',\n  'exchange_to': '兑换成',\n  'mint_apy': '年化',\n  'asset': '资产',\n  'assets': '资产',\n  'holdings': '持有',\n  'minted_with': '总抵押',\n  'fee_rate': '交易手续费为',\n  'you_will_get': '您将收到',\n  'you_need_to_pay': '您将花费',\n  'cancel': '取消',\n  'buy': '买',\n  'sell': '卖',\n  'total': '总共',\n  'need': '需要',\n  'receive': '获得',\n  'all': '所有',\n  'my': '我的',\n  'last_price': '最后成交价',\n  'token_balance': '资金量',\n  'wallet': '钱包',\n  'from': '从',\n  'to': '到',\n  'input': '添加',\n  'distribution_will_begin_in': '分发倒计时',\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  HashRouter as Router\n} from 'react-router-dom'\nimport { App } from './App';\nimport * as Ontology from '@ont-dev/ontology-dapi';\nimport { positions, Provider } from \"react-alert\";\nimport { createStore } from 'redux';\nimport { StoreContext } from 'redux-react-hook';\nimport AlertTemplate from \"react-alert-template-basic\";\nimport reducers from './reducers';\nimport reportWebVitals from './reportWebVitals';\nimport './i18n'\n\nimport 'rc-tooltip/assets/bootstrap.css'\nimport './styles/font.css';\nimport './styles/common.css';\nimport './index.css';\n\nconst store = createStore(reducers)\n\nOntology.client.registerClient({});\n\nconst options = {\n  timeout: 10000,\n  position: positions.TOP_CENTER\n};\n\nReactDOM.render(\n  <Provider template={AlertTemplate} {...options}>\n    <StoreContext.Provider value={store}>\n      <Router>\n        <App />\n      </Router>\n    </StoreContext.Provider>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}